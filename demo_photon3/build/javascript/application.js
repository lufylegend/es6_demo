!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=87)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={},r=o;t.default={ll:o,lufylegend:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),i=(o=a)&&o.__esModule?o:{default:o};var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventType=t,this._ll_preventDefault=!1}return r(e,[{key:"preventDefault",value:function(){this._ll_preventDefault=!0}}]),e}();l.INIT="init",l.COMPLETE="complete",l.ERROR="error",l.PROGRESS="progress",l.ENTER_FRAME="enter_frame",l.WINDOW_RESIZE="resize",l.WINDOW_ORIENTATIONCHANGE="orientationchange",l.SOUND_COMPLETE="sound_complete",l.END_CONTACT="endContact",l.PRE_SOLVE="preSolve",l.POST_SOLVE="postSolve",l.BEGIN_CONTACT="beginContact",l.addEventListener=function(e,t,n,o){o=o||!1,e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n]()},e.attachEvent("on"+t,e[t+n]))},l.removeEventListener=function(e,t,n,o){o=o||!1,e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent&&(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n]()},e.detachEvent("on"+t,e[t+n]))},i.default.LEvent=l,t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OS_PC="pc",t.OS_IPHONE="iPhone",t.OS_IPOD="iPod",t.OS_IPAD="iPad",t.OS_ANDROID="Android",t.OS_WINDOWS_PHONE="Windows Phone",t.OS_BLACK_BERRY="BlackBerry",t.NONE="none",t.UNDEFINED="undefined",t.LANDSCAPE="landscape",t.PORTRAIT="portrait"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nodeMap={}}return o(e,[{key:"set",value:function(e,t){this._nodeMap[e]=t,t.prototype._ll_className=e}},{key:"get",value:function(e){return this._nodeMap[e]}}]),e}();t.default=new r},function(e,t,n){"use strict";function o(){throw"LMouseEvent cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.MOUSE_DOWN="mousedown",o.MOUSE_UP="mouseup",o.TOUCH_START="touchstart",o.TOUCH_MOVE="touchmove",o.TOUCH_END="touchend",o.MOUSE_MOVE="mousemove",o.MOUSE_OVER="mouseover",o.MOUSE_OUT="mouseout",o.DOUBLE_CLICK="dblclick",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(10)),a=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._eventList=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"addEventListener",value:function(e,t,n){this._eventList.push({listener:t,type:e,_this:n})}},{key:"removeEventListener",value:function(e,t){var n,o=void 0;for(n=this._eventList.length,o=0;o<n;o++)if(this._eventList[o]&&e===this._eventList[o].type&&(!t||this._eventList[o].listener===t))return void this._eventList.splice(o,1)}},{key:"removeAllEventListener",value:function(){this._eventList=[]}},{key:"dispatchEvent",value:function(e){for(var t=this._eventList.length,n="string"==typeof e?e:e.eventType,o=0;o<t;o++){var r=this._eventList[o];if(r&&n===this._eventList[o].type){if("string"==typeof e)r.listener.call(r._this?r._this:this,{currentTarget:this,target:this,eventType:n,event_type:n});else if(e.target||(e.target=this),e.currentTarget||(e.currentTarget=e.target),e._ll_preventDefault=!1,r.listener.call(r._this?r._this:this,e),e._ll_preventDefault)return!1;return!0}}return!1}},{key:"hasEventListener",value:function(e,t){for(var n=0,o=this._eventList.length;n<o;n++)if(this._eventList[n]&&e===this._eventList[n].type&&(void 0===t||t===this._eventList[n].listener))return!0;return!1}}]),t}();a.default.LEventDispatcher=l,t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=d(n(84)),i=n(2),l=d(n(81)),u=d(n(7)),s=d(n(1)),f=d(n(4)),c=d(n(0));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.type="LSprite",n.rotatex,n.rotatey,n.graphics=new l.default,n.graphics.parent=n,n.box2dBody=null,n.shapes=new Array,n.useCursor=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"setRotate",value:function(e){var t=this;t.box2dBody?t.box2dBody.SetAngle(e):t.rotate=e}},{key:"_rotateReady",value:function(){var e=this;e.box2dBody&&(o(e.rotatex)===i.UNDEFINED&&e.getRotateXY(),e.x=e.box2dBody.GetPosition().x*c.default.LGlobal.box2d.drawScale-e.parent.x-e.rotatex,e.y=e.box2dBody.GetPosition().y*c.default.LGlobal.box2d.drawScale-e.parent.y-e.rotatey,e.rotate=e.box2dBody.GetAngle())}},{key:"_ll_show",value:function(e){var t=this;t.graphics.ll_show(e),c.default.LGlobal.show(t.childList,e),t._ll_debugShape(e)}},{key:"startDrag",value:function(e){var t=this;t.ll_dragStart||(t.ll_touchPointID=e,t.ll_dragGlobalPoint=t.parent.localToGlobal(new u.default(t.x,t.y)),t.ll_dragMX=c.default.LGlobal.offsetX,t.ll_dragMY=c.default.LGlobal.offsetY,t.ll_dragStart=!0,c.default.LGlobal.dragList.push(t))}},{key:"stopDrag",value:function(){var e,t=void 0;for(t=0,e=c.default.LGlobal.dragList.length;t<e;t++)if(this.objectIndex===c.default.LGlobal.dragList[t].objectIndex){this.ll_dragStart=!1,c.default.LGlobal.dragList.splice(t,1);break}}},{key:"getRotateXY",value:function(e,t){var n=this;e&&t||(e=n.getWidth(),t=n.getHeight()),n.rotatex=e/2,n.rotatey=t/2}},{key:"getWidth",value:function(e){var t,n=this,r=void 0,a=void 0,l=void 0,u=void 0,s=void 0,f=void 0,c=n.graphics.startX(),d=c+n.graphics.getWidth();for(r=0,t=n.childList.length;r<t;r++)a=n.childList[r],o(a.visible)!==i.UNDEFINED&&a.visible&&(l=a.x,"function"==typeof a._startX&&(l=a._startX(e)),u=l+a.getWidth(e),l<c&&(c=l),u>d&&(d=u));return e&&n.mask?(s=n.mask._startX?n.mask._startX():n.mask.startX(),f=n.mask.getWidth(),c<s&&(c=s),d>s+f&&(d=s+f),n.ll_left=c,n.ll_right=d):(n.ll_left=n.x+c,n.ll_right=n.x+d),(d-c)*n.scaleX}},{key:"getHeight",value:function(e){var t,n=this,r=void 0,a=void 0,l=void 0,u=void 0,s=void 0,f=void 0,c=n.graphics.startY(),d=c+n.graphics.getHeight();for(r=0,t=n.childList.length;r<t;r++)a=n.childList[r],o(a.visible)!==i.UNDEFINED&&a.visible&&(l=a.y,"function"==typeof a._startY&&(l=a._startY(e)),u=l+a.getHeight(e),l<c&&(c=l),u>d&&(d=u));return e&&n.mask?(s=n.mask._startY?n.mask._startY():n.mask.startY(),f=n.mask.getHeight(),c<s&&(c=s),d>s+f&&(d=s+f),n.ll_top=c,n.ll_bottom=d):(n.ll_top=n.y+c,n.ll_bottom=n.y+d),(d-c)*n.scaleY}},{key:"_startX",value:function(e){return this.getWidth(e),this.ll_left}},{key:"startX",value:function(e){return this._startX(e)*this.scaleX}},{key:"_startY",value:function(e){return this.getHeight(e),this.ll_top}},{key:"startY",value:function(e){return this._startY(e)*this.scaleY}},{key:"_ll_loopframe",value:function(){this.dispatchEvent(s.default.ENTER_FRAME)}},{key:"clone",value:function(){var e,n=this,o=new t,r=void 0,a=void 0,i=void 0;for(o.copyProperty(n),o.graphics=n.graphics.clone(),o.graphics.parent=o,o.childList.length=0,i=0,e=n.childList.length;i<e;i++)(r=n.childList[i]).clone&&((a=r.clone()).parent=o,o.childList.push(a));return o}},{key:"_mevent",value:function(e){var t=void 0;for(t=0;t<this.mouseList.length;t++){if(this.mouseList[t].type===e)return!0}return!1}},{key:"ll_dispatchMouseEvent",value:function(e,t,n,o,r){var a=this,i=void 0;if(a.mouseEnabled)for(i=0;i<a.mouseList.length;i++){var l=a.mouseList[i];l.type===e&&(t.selfX=(o-(a.x*n.scaleX+n.x))/(n.scaleX*a.scaleX),t.selfY=(r-(a.y*n.scaleY+n.y))/(n.scaleY*a.scaleY),t.currentTarget=t.clickTarget=a,t.target||(t.target=a),l.listener(t,a))}}},{key:"ll_mouseout",value:function(e,t,n,o,r){var a=this;if(t===f.default.MOUSE_MOVE&&a.ll_mousein&&(a.ll_mousein=!1,a._mevent(f.default.MOUSE_OUT)&&a.ll_dispatchMouseEvent(f.default.MOUSE_OUT,e,n,o,r),a.mouseChildren))for(var i=a.childList.length-1;i>=0;i--)a.childList[i].mouseEvent&&a.childList[i].ll_mouseout&&a.childList[i].ll_mouseout(e,t,n,o,r)}},{key:"mouseEvent",value:function(e,t,n){if(!e)return!1;var o=this,r=void 0,a=e.offsetX,l=e.offsetY,u=void 0;if(!o.visible)return!1;if(n||(n={x:0,y:0,scaleX:1,scaleY:1}),o.ismouseon(e,n)){if(c.default.LGlobal.os===i.OS_PC&&o.useCursor&&t===f.default.MOUSE_MOVE&&(c.default.LGlobal.cursor=o.useCursor),t!==f.default.MOUSE_MOVE||o.ll_mousein||(o.ll_mousein=!0,o._mevent(f.default.MOUSE_OVER)&&o.ll_dispatchMouseEvent(f.default.MOUSE_OVER,e,n,a,l)),o.mouseChildren){for(u={x:o.x*n.scaleX+n.x,y:o.y*n.scaleY+n.y,scaleX:n.scaleX*o.scaleX,scaleY:n.scaleY*o.scaleY},r=o.childList.length-1;r>=0&&(!o.childList[r].mouseEvent||!o.childList[r].mouseEvent(e,t,u)||(e.target=o.childList[r],t===f.default.MOUSE_MOVE));r--);o._mevent(t)&&o.ll_dispatchMouseEvent(t,e,n,a,l)}return!0}return o.ll_mouseout(e,t,n,a,l),!1}},{key:"hitTestPoint",value:function(e,t){var n=this,o=n.shapes;return o&&0!==o.length||(n.getWidth(),n.getHeight(),o=[{type:c.default.LShape.RECT,arg:[n.ll_left-n.x,n.ll_top-n.y,n.ll_right-n.ll_left,n.ll_bottom-n.ll_top]}]),n.ismouseonShapes(o,e,t)}},{key:"hitTestObject",value:function(e){var t,n,o=this,r=o.shapes,a=e.shapes,i=void 0,l=void 0,u=void 0,s=void 0,f=void 0,d=void 0;for(r&&0!==r.length||(o.getWidth(),o.getHeight(),r=[{type:c.default.LShape.RECT,arg:[o.ll_left-o.x,o.ll_top-o.y,o.ll_right-o.ll_left,o.ll_bottom-o.ll_top]}]),a&&0!==a.length||(e.getWidth(),e.getHeight(),a=[{type:c.default.LShape.RECT,arg:[e.ll_left-e.x,e.ll_top-e.y,e.ll_right-e.ll_left,e.ll_bottom-e.ll_top]}]),t=o.getRootMatrix(),n=e.getRootMatrix(),i=r.length-1;i>=0;i--)for(l=r[i],d=o._changeShape(l.type,l.arg,t),u=a.length-1;u>=0;u--)if(s=a[u],f=e._changeShape(s.type,s.arg,n),l.type===c.default.LShape.VERTICES||l.type===c.default.LShape.RECT){if(s.type===c.default.LShape.VERTICES||s.type===c.default.LShape.RECT){if(c.default.LGlobal.hitTestPolygon(d,f))return!0}else if(s.type===c.default.LShape.ARC&&c.default.LGlobal.hitTestPolygonArc(d,f))return!0}else if(s.type===c.default.LShape.VERTICES||s.type===c.default.LShape.RECT){if(c.default.LGlobal.hitTestPolygonArc(f,d))return!0}else if(s.type===c.default.LShape.ARC&&Math.sqrt((d[0]-f[0])*(d[0]-f[0])+(d[1]-f[1])*(d[1]-f[1]))<d[2]+f[2])return!0;return!1}},{key:"addShape",value:function(e,t){if(!(e===c.default.LShape.VERTICES&&t.length<3))return this.shapes.push({type:e,arg:t}),this.shapes}},{key:"addShapes",value:function(e){var t=this;0===t.shapes.length?t.shapes=e:t.shapes=t.shapes.concat(e)}},{key:"clearShape",value:function(){this.shapes=[]}},{key:"_ll_debugShape",value:function(e){var t,n=this,o=void 0,r=void 0,a=void 0,i=void 0,l=void 0;if(c.default.LGlobal&&c.default.LGlobal.traceDebug&&n.shapes&&0!==n.shapes.length)for(o=0,t=n.shapes.length;o<t;o++){if(r=n.shapes[o],e=e||c.default.LGlobal.canvas,a=r.arg,e.beginPath(),r.type===c.default.LShape.RECT)e.rect(a[0],a[1],a[2],a[3]);else if(r.type===c.default.LShape.ARC)e.arc(a[0],a[1],a[2],0,2*Math.PI);else if(r.type===c.default.LShape.VERTICES){for(e.moveTo(a[0][0],a[0][1]),i=1,l=a.length;i<l;i++)e.lineTo(a[i][0],a[i][1]);e.lineTo(a[0][0],a[0][1])}e.closePath(),e.strokeStyle="#00FF00",e.stroke()}}},{key:"ismouseon",value:function(e,t){var n=this;if(!n.visible||!e)return!1;if(n.mask&&(n.mask.parent||(n.mask.parent=n.parent),!n.mask.ismouseon(e,t)))return!1;if(n.shapes&&n.shapes.length>0)return n.ismouseonShapes(n.shapes,e.offsetX,e.offsetY);var o=void 0,r=!1,a=n.childList,i={x:n.x*t.scaleX+t.x,y:n.y*t.scaleY+t.y,scaleX:t.scaleX*n.scaleX,scaleY:t.scaleY*n.scaleY};for(o=a.length-1;o>=0;o--)if(a[o].ismouseon&&(r=a[o].ismouseon(e,i)),r){e.target=n.childList[o];break}return r||(r=n.graphics.ismouseon(e,i)),r}},{key:"die",value:function(){var e,t=this,n=void 0,o=void 0;for(t.graphics.clear(),t.removeAllEventListener(),t.stopDrag(),t.box2dBody&&t.clearBody(),n=0,e=(o=t.childList).length;n<e;n++)o[n].die&&o[n].die()}},{key:"setBodyMouseJoint",value:function(e){this.box2dBody&&(this.box2dBody.mouseJoint=e)}},{key:"clearBody",value:function(e){var t=this;t.box2dBody&&(c.default.LGlobal.box2d.removeList.push(t.box2dBody),t.box2dBody=null)}},{key:"addBodyCircle",value:function(e,t,n,o,r,a,i){var l=this;l.rotatex=e,l.rotatey=e,l.box2dBody=c.default.LGlobal.box2d.addCircle(e/c.default.LGlobal.box2d.drawScale,(l.x+t)/c.default.LGlobal.box2d.drawScale,(l.y+n)/c.default.LGlobal.box2d.drawScale,1===o?c.default.LGlobal.box2d.b2Body.b2_dynamicBody:c.default.LGlobal.box2d.b2Body.b2_staticBody,r||.5,a||.4,i||.8),l.box2dBody.SetUserData(l)}},{key:"addBodyPolygon",value:function(e,t,n,o,r,a){var i=this;i.rotatex=e/2,i.rotatey=t/2,i.box2dBody=c.default.LGlobal.box2d.addPolygon(.5*e/c.default.LGlobal.box2d.drawScale,.5*t/c.default.LGlobal.box2d.drawScale,i.x/c.default.LGlobal.box2d.drawScale,i.y/c.default.LGlobal.box2d.drawScale,1===n?c.default.LGlobal.box2d.b2Body.b2_dynamicBody:c.default.LGlobal.box2d.b2Body.b2_staticBody,o||.5,r||.4,a||.8),i.box2dBody.SetUserData(i)}},{key:"addBodyVertices",value:function(e,t,n,o,r,a,i){var l=this;l.rotatex=0,l.rotatey=0,l.box2dBody=c.default.LGlobal.box2d.addVertices(e,1===o?c.default.LGlobal.box2d.b2Body.b2_dynamicBody:c.default.LGlobal.box2d.b2Body.b2_staticBody,r,a,i),l.box2dBody.SetUserData(l),l.box2dBody.SetPosition(new c.default.LGlobal.box2d.b2Vec2((l.x+t)/c.default.LGlobal.box2d.drawScale,(l.y+n)/c.default.LGlobal.box2d.drawScale))}}]),t}();c.default.LSprite=h,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n}return o(e,[{key:"toString",value:function(){return"[object LPoint("+this.x+","+this.y+")]"}},{key:"length",value:function(){return e.distance2(this.x,this.y,0,0)}},{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"setTo",value:function(e,t){this.x=e,this.y=t}},{key:"copyFrom",value:function(e){this.setTo(e.x,e.y)}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"normalize",value:function(e){var t=this,n=e/t.length();t.x*=n,t.y*=n}},{key:"offset",value:function(e,t){this.x+=e,this.y+=t}},{key:"subtract",value:function(t){return new e(this.x-t.x,this.y-t.y)}}]),e}();r.distance=function(e,t){return r.distance2(e.x,e.y,t.x,t.y)},r.distance2=function(e,t,n,o){var r=e-n,a=t-o;return Math.sqrt(r*r+a*a)},r.interpolate=function(e,t,n){return new r(e.x+(t.x-e.x)*(1-n),e.y+(t.y-e.y)*(1-n))},r.polar=function(e,t){return new r(e*Math.cos(t),e*Math.sin(t))},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(15),a=d(n(14)),i=d(n(31)),l=d(n(30)),u=d(n(27)),s=d(n(17)),f=d(n(9)),c=d(n(74));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._currentScene=null,this._currentPanel=null,this._panelList=[],this._dialogList=[]}return o(e,[{key:"showDialog",value:function(e,t){var n=this;return console.log("showDialog",e,t),this.loadPrefab(e).then(function(e){var t=a.default.create(e);n._currentPanel.addChild(t)})}},{key:"loadPanel",value:function(e,t,n){var o=this;return n=n||"fade",this.loadPrefab(e).then(function(e){e.request=t;var r=a.default.create(e),i=o._currentPanel||null;i||(n="fade"),o._currentPanel=r;var l=o._currentScene.childList.find(function(e){return"panel"===e.name});l?l.addChild(r):o._currentScene.addChildAt(r,0),r instanceof a.default&&r.lateInit(),r.onLoadEnd&&r.onLoadEnd(t),c.default.changePanel(i,o._currentPanel,n)})}},{key:"loadScene",value:function(e,t){var n=this;return this.loadPrefab(e).then(function(e){e.request=t;var o=a.default.create(e),i=n._currentScene||null;n._currentScene=o,(0,r.addChild)(o),o instanceof a.default&&o.lateInit(),o.onLoadEnd&&o.onLoadEnd(t),i&&(o.alpha=0,s.default.to(i,.3,{alpha:0,onComplete:function(e){e.target.remove()}}),s.default.to(o,.3,{alpha:1}))})}},{key:"loadPrefab",value:function(e,t){var n=this,o=void 0,r=(e="resources/"+e+".prefab")+".meta";return f.default.traceDebug&&(e+="?t="+Date.now(),r+="?t="+Date.now()),new Promise(function(t,n){i.default.load([{name:"prefab",path:e,type:l.default.TYPE_TEXT},{name:"meta",path:r,type:l.default.TYPE_TEXT}],null,function(e){t(e)})}).then(function(e){o=JSON.parse(e.prefab);var t=JSON.parse(e.meta);return n.loadResources(t)}).then(function(){return Promise.resolve(o)})}},{key:"loadResources",value:function(e){var t=[];if(e.atlas){var n=!0,o=!1,r=void 0;try{for(var a,l=e.atlas[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var s=a.value;t.push({name:s.name,path:"resources/"+s.path,type:u.default.TYPE_PLIST})}}catch(e){o=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw r}}}return new Promise(function(e,n){i.default.load(t,null,function(t){e(t)})})}},{key:"currentScene",get:function(){return this._currentScene}}]),e}();t.default=new h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(2),a=_(n(1)),i=_(n(4)),l=_(n(43)),u=_(n(42)),s=_(n(86)),f=_(n(85)),c=_(n(22)),d=_(n(7)),h=_(n(41)),p=_(n(40)),y=n(15),v=_(n(6)),b=_(n(0));function _(e){return e&&e.__esModule?e:{default:e}}var g=function(){function e(){throw"LGlobal cannot be instantiated"}return Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)}),String.format||(String.format=function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,n){return void 0!==t[n]?t[n]:e})}),e.FULL_SCREEN="full_screen",e.traceDebug=!1,e.displayState=r.NONE,e.aspectRatio=r.NONE,e.canvasObj=null,e.canvas=null,e.webAudio=!0,e.objectIndex=1,e.stage=null,e.width=0,e.height=0,e.box2d=null,e.speed=50,e.IS_MOUSE_DOWN=!1,e.stopPropagation=!1,e.preventDefault=!0,e.childList=[],e.dragList=[],e.excludingContainer=[],e.fpsStatus=null,e.stageScale="noScale",e.align="M",e.mobile=!1,e.canTouch=!1,e.wx=!1,e.os=r.OS_PC,e.ios=!1,e.android=!1,e.android_new=!1,e.backgroundColor=null,e.destroy=!0,e.forceRefresh=!1,e.devicePixelRatio=window.devicePixelRatio||1,e.startTimer=0,e.keepClear=!0,e.top=0,e.left=0,e.window=window,function(t){if("undefined"!=typeof wx&&"undefined"!=typeof GameGlobal&&(e.wx=!0),e.isOldFirefox=function(e){var t=e.toLowerCase().indexOf("firefox");if(t<0)return!1;var n=e.substring(t+8,e.length);return parseFloat(n)<39}(t),t.indexOf(r.OS_IPHONE)>0)e.os=r.OS_IPHONE,e.canTouch=!0,e.ios=!0;else if(t.indexOf(r.OS_IPOD)>0)e.os=r.OS_IPOD,e.canTouch=!0,e.ios=!0;else if(t.indexOf(r.OS_IPAD)>0)e.os=r.OS_IPAD,e.ios=!0,e.canTouch=!0;else if(t.indexOf(r.OS_ANDROID)>0){e.os=r.OS_ANDROID,e.canTouch=!0,e.android=!0;var n=t.indexOf(r.OS_ANDROID);parseInt(t.substr(n+8,1))>3&&(e.android_new=!0)}else t.indexOf(r.OS_WINDOWS_PHONE)>0?(e.os=r.OS_WINDOWS_PHONE,e.canTouch=!0):t.indexOf(r.OS_BLACK_BERRY)>0&&(e.os=r.OS_BLACK_BERRY,e.canTouch=!0);if(e.ios){var o=t.match(/OS\s(\d+)_(\d+)_?(\d+)?/);e.iOSversion=[parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3]||0,10)]}e.mobile=e.canTouch}(navigator.userAgent),e.enableWebGL=!e.wx&&("undefined"==typeof enableWebGLCanvas?"undefined":o(enableWebGLCanvas))!==r.UNDEFINED,e.setDebug=function(t){e.traceDebug=t},e.setCanvas=function(t,n,o){e.ll_createCanvas(t,n,o),e.ll_createStage(),e.displayState===e.FULL_SCREEN?e.resize():"number"==typeof e.displayState&&e.resize(e.width*e.displayState,e.height*e.displayState),e.canTouch?(e.ll_clicks=0,e.ll_prev_clickTime=0,a.default.addEventListener(e.canvasObj,i.default.TOUCH_START,e.ll_touchStart),a.default.addEventListener(document,i.default.TOUCH_END,e.ll_touchEnd),a.default.addEventListener(e.canvasObj,i.default.TOUCH_MOVE,e.ll_touchMove)):(a.default.addEventListener(e.canvasObj,i.default.DOUBLE_CLICK,e.ll_mouseDbclick),a.default.addEventListener(e.canvasObj,i.default.MOUSE_DOWN,e.ll_mouseDown),a.default.addEventListener(e.canvasObj,i.default.MOUSE_MOVE,e.ll_mouseMove),a.default.addEventListener(e.canvasObj,i.default.MOUSE_UP,e.ll_mouseUp),a.default.addEventListener(e.canvasObj,i.default.MOUSE_OUT,e.ll_mouseOut))},e.ll_createCanvas=function(t,n,o){e.id=t,e.wx?(e.canvasObj=document.getElementsByTagName("canvas")[0],e.object={style:{left:0,top:0}},e.canvasObj.style={marginLeft:0,marginTop:0}):(e.object=document.getElementById(t),e.object.innerHTML='<div style="position:absolute;margin:0;padding:0;overflow:visible;-webkit-transform: translateZ(0);z-index:0;"><canvas id="'+e.id+'_canvas" style="margin:0;padding:0;width:'+n+"px;height:"+o+'px;"><div id="noCanvas"><p>Hey there, it looks like you\'re using Microsoft\'s Internet Explorer. Microsoft hates the Web and doesn\'t support HTML5 :(</p></div></canvas></div><div id="'+e.id+'_InputText" style="position:absolute;margin:0;padding:0;z-index:10;display:none;"><textarea rows="1" id="'+e.id+'_InputTextareaBox" style="resize:none;background:transparent;border:0px;"></textarea><input type="text" id="'+e.id+'_InputTextBox"  style="background:transparent;border:0px;" /><input type="password" id="'+e.id+'_passwordBox"  style="background:transparent;border:0px;" /></div>',e.canvasObj=document.getElementById(e.id+"_canvas"),e.inputBox=document.getElementById(e.id+"_InputText"),e.inputTextareaBoxObj=document.getElementById(e.id+"_InputTextareaBox"),e.inputTextBoxObj=document.getElementById(e.id+"_InputTextBox"),e.passwordBoxObj=document.getElementById(e.id+"_passwordBox")),e._canvas=document.createElement("canvas"),e._context=e._canvas.getContext("2d"),e._context&&(e.canvasObj.innerHTML=""),e.inputTextField=null,n&&(e.canvasObj.width=n),o&&(e.canvasObj.height=o),e.width=e.canvasObj.width,e.height=e.canvasObj.height,e.canvasStyleWidth=e.width,e.canvasStyleHeight=e.height,e.canvas=e.enableWebGL&&"function"==typeof enableWebGLCanvas?enableWebGLCanvas(e.canvasObj):e.canvasObj.getContext("2d"),e.offsetX=window.mouseX=0,e.offsetY=window.mouseY=0},e.ll_createStage=function(){e.stage=new v.default,e.stage.parent="root",e.childList.push(e.stage),e.stage.baseAddEvent=e.stage.addEventListener,e.stage.baseRemoveEvent=e.stage.removeEventListener,e.stage.addEventListener=function(t,n){t===a.default.WINDOW_RESIZE||t===a.default.WINDOW_ORIENTATIONCHANGE?(t===a.default.WINDOW_RESIZE?e.stage.onresizeListener=n:e.stage.onorientationchangeListener=n,e.stage.onresize||(e.stage.onresize=function(t){e.stage.onresizeEvent=t},a.default.addEventListener(e.window,t,e.stage.onresize))):t===l.default.KEY_DOWN||t===l.default.KEY_UP||t===l.default.KEY_PRESS?a.default.addEventListener(e.window,t,n):e.stage.baseAddEvent(t,n)},e.stage.removeEventListener=function(t,n){if(t===a.default.WINDOW_RESIZE||t===a.default.WINDOW_ORIENTATIONCHANGE){if(t===a.default.WINDOW_RESIZE){if(delete e.stage.onresizeListener,e.stage.onorientationchangeListener)return}else if(delete e.stage.onorientationchangeListener,e.stage.onresizeListener)return;a.default.removeEventListener(e.window,a.default.WINDOW_RESIZE,e.stage.onresize),delete e.stage.onresize}else t===l.default.KEY_DOWN||t===l.default.KEY_UP||t===l.default.KEY_PRESS?a.default.removeEventListener(e.window,t,n):e.stage.baseRemoveEvent(t,n)},e.innerWidth=window.innerWidth,e.innerHeight=window.innerHeight,a.default.addEventListener(e.window,"blur",function(){e.stage.dispatchEvent(new a.default(u.default.FOCUS_OUT))})},e.ll_touchStart=function(t){e._outStageCheckCount=1,e.IS_MOUSE_DOWN=!0,e.stage.dispatchEvent(new a.default(u.default.FOCUS_IN)),e.inputTextField&&e.inputTextField._ll_getValue();var n,o,r=void 0;if(n=parseInt(0+e.object.style.left)+parseInt(e.canvasObj.style.marginLeft),o=parseInt(0+e.object.style.top)+parseInt(e.canvasObj.style.marginTop),s.default.inputMode===f.default.NONE)r=e.ll_touchStartEvent(t,0,n,o);else if(s.default.inputMode===f.default.TOUCH_POINT)for(var l=0,c=t.touches.length;l<c;l++)s.default.touchs["touch"+t.touches[l].identifier]||(r=e.ll_touchStartEvent(t,l,n,o));var d=(new Date).getTime();e.ll_clicks=d<=e.ll_prev_clickTime+500?e.ll_clicks+1:1,e.ll_prev_clickTime=d,2===e.ll_clicks&&(e.mouseEvent(r,i.default.DOUBLE_CLICK),e.ll_clicks=0),e.mouseJoint_start&&e.mouseJoint_start(r),e.touchHandler(t),b.default.LSound.startLoad()},e.ll_touchStartEvent=function(t,n,o,r){var a={offsetX:t.touches[n].pageX-o,offsetY:t.touches[n].pageY-r,touchPointID:t.touches[n].identifier,force:t.touches[n].force,rotationAngle:t.touches[n].rotationAngle,radiusX:t.touches[n].radiusX,radiusY:t.touches[n].radiusY};return a.offsetX=e.ll_scaleX(a.offsetX),a.offsetY=e.ll_scaleY(a.offsetY),window.mouseX=e.offsetX=a.offsetX,window.mouseY=e.offsetY=a.offsetY,s.default.touchs["touch"+a.touchPointID]=a,e.mouseEvent(a,i.default.MOUSE_DOWN),e.buttonStatusEvent=a,a},e.ll_touchEnd=function(t){var n=void 0,o=void 0,r=void 0,l=void 0,c=void 0,d=void 0;if(e.IS_MOUSE_DOWN=!1,s.default.inputMode===f.default.TOUCH_POINT)for(r in s.default.touchs){for(n=s.default.touchs[r],d=!1,l=0,c=t.touches.length;l<c;l++)if(t.touches[l].identifier===n.touchPointID){d=!0;break}d||(o=n,delete s.default.touchs[r],e.mouseEvent(o,i.default.MOUSE_UP))}o||(o={offsetX:e.offsetX,offsetY:e.offsetY},e.mouseEvent(o,i.default.MOUSE_UP)),e.touchHandler(t),e.buttonStatusEvent=null,e.mouseJoint_end&&e.mouseJoint_end(),e.stage.dispatchEvent(new a.default(u.default.FOCUS_OUT))},e.ll_touchMove=function(t){var n,o,r=void 0,a=t.touches.length;n=parseInt(0+e.object.style.left)+parseInt(e.canvasObj.style.marginLeft),o=parseInt(0+e.object.style.top)+parseInt(e.canvasObj.style.marginTop),s.default.inputMode===f.default.NONE&&(a=1);for(var l=0,u=t.touches.length;l<u&&l<a;l++)(r={offsetX:t.touches[l].pageX-n,offsetY:t.touches[l].pageY-o,touchPointID:t.touches[l].identifier}).offsetX=e.ll_scaleX(r.offsetX),r.offsetY=e.ll_scaleY(r.offsetY),window.mouseX=e.offsetX=r.offsetX,window.mouseY=e.offsetY=r.offsetY,s.default.touchs["touch"+r.touchPointID]&&s.default.touchs["touch"+r.touchPointID].offsetX===r.offsetX&&s.default.touchs["touch"+r.touchPointID].offsetY===r.offsetY||(e.buttonStatusEvent=r,s.default.touchs["touch"+r.touchPointID]=r,r.offsetX<=0||r.offsetX>=e.innerWidth||r.offsetX>=e.width||r.offsetY<=0||r.offsetY>=e.innerHeight||r.offsetY>=e.height?e._outStageCheckCount=0:e._outStageCheckCount=1,e.mouseEvent(r,i.default.MOUSE_MOVE));e.touchHandler(t),e.mouseJoint_move&&e.mouseJoint_move(r)},e.ll_mouseDbclick=function(t){o(t.offsetX)===r.UNDEFINED&&o(t.layerX)!==r.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var n={button:t.button};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.mouseEvent(n,i.default.DOUBLE_CLICK)},e.ll_mouseDown=function(t){o(t.offsetX)===r.UNDEFINED&&o(t.layerX)!==r.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY),e.inputTextField&&e.inputTextField._ll_getValue();var n={button:t.button};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.mouseEvent(n,i.default.MOUSE_DOWN),e.IS_MOUSE_DOWN=!0,e.mouseJoint_start&&e.mouseJoint_start(n),b.default.LSound.startLoad()},e.ll_mouseMove=function(t){o(t.offsetX)===r.UNDEFINED&&o(t.layerX)!==r.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var n={};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.buttonStatusEvent=n,window.mouseX=e.offsetX=n.offsetX,window.mouseY=e.offsetY=n.offsetY,e.cursor="default",window.mouseX<=0||window.mouseX>=e.innerWidth||window.mouseX>=e.width||window.mouseY<=0||window.mouseY>=e.innerHeight||window.mouseY>=e.height?e._outStageCheckCount&&(e._outStageCheckCount=0,e.stage.dispatchEvent(new a.default(u.default.FOCUS_OUT))):e._outStageCheckCount||(e._outStageCheckCount=1,e.stage.dispatchEvent(new a.default(u.default.FOCUS_IN))),e.mouseEvent(n,i.default.MOUSE_MOVE),document.body.style.cursor=e.cursor,e.mouseJoint_move&&e.mouseJoint_move(n)},e.ll_mouseUp=function(t){o(t.offsetX)===r.UNDEFINED&&o(t.layerX)!==r.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var n={button:t.button};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.mouseEvent(n,i.default.MOUSE_UP),e.IS_MOUSE_DOWN=!1,e.mouseJoint_end&&e.mouseJoint_end()},e.ll_mouseOut=function(t){o(t.offsetX)===r.UNDEFINED&&o(t.layerX)!==r.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var n={};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.mouseEvent(n,i.default.MOUSE_OUT),e.IS_MOUSE_DOWN=!1},e.touchHandler=function(t){return e.stopPropagation&&(t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation()),e.preventDefault&&t.preventDefault(),t},e.mouseEvent=function(t,n){if(n===i.default.MOUSE_MOVE&&e.dragHandler(t),c.default.container[n])c.default.dispatchMouseEvent(t,n);else for(var o=e.childList.length-1;o>=0&&(!e.childList[o].mouseEvent||!e.childList[o].mouseEvent(t,n));o--);},e.dragHandler=function(t){var n=void 0,o=void 0,r=void 0,a=e.dragList;for(n=a.length-1;n>=0;n--)if(o=a[n],!e.canTouch||o.ll_touchPointID===t.touchPointID){r=o.parent.globalToLocal(new d.default(t.offsetX-o.ll_dragMX+o.ll_dragGlobalPoint.x,t.offsetY-o.ll_dragMY+o.ll_dragGlobalPoint.y)),o.x=r.x,o.y=r.y,o.dragRange&&(o.x<o.dragRange.left?o.x=o.dragRange.left:o.x>o.dragRange.right&&(o.x=o.dragRange.right),o.y<o.dragRange.top?o.y=o.dragRange.top:o.y>o.dragRange.bottom&&(o.y=o.dragRange.bottom));break}},e._ll_mobile=function(){var t=.3*e.width,n=1.5*t,o=.05*e.width,r=.05*t,a=.15*t,i=.3*t,l=.2*n,u="#cccccc",s="#000000",f="#ffffff",c="#ff0000",d=void 0,h=void 0,p=void 0,b=void 0,_=void 0;d=new v.default,(0,y.addChild)(d),n=1.5*(t=.3*e.width),d.graphics.drawRoundRect(1,s,[o,o,t,n,o],!0,u),d.graphics.drawRoundRect(1,s,[o+r,o+r,t-2*r,n-2*r,o],!0,s),d.graphics.drawRect(1,f,[o+a,o+l,t-2*a,n-2*l],!0,f),d.graphics.drawArc(1,f,[o+.5*t,o+n-3.5*r,1.5*r,0,2*Math.PI]),d.graphics.drawRoundRect(1,f,[o+i,o+a,t-2*i,r,.5*r]),(h=new v.default).x=.5*-(t-2*a),h.y=.5*-r,h.graphics.drawRect(1,c,[0,0,t-2*a,r],!0,c),(p=new v.default).y=.5*-(t-2*a),p.x=.5*-r,p.graphics.drawRect(1,c,[0,0,r,t-2*a],!0,c),(b=new v.default).x=o+i+.5*(t-2*i),b.y=o+l+.5*(n-2*l),b.rotate=45,b.addChild(h),b.addChild(p),d.addChild(b),(_=new v.default).graphics.drawVertices(2,s,[[0,0],[a,a],[0,2*a]],!0,u),_.x=1.5*o+n,_.y=1.5*o+.5*n,(0,y.addChild)(_),d.arrow=_;return window.onorientationchange=function(){setTimeout(function(){location.href=location.href},100)},d},e.verticalError=function(){var t=.3*e.width,n=.05*e.width,o=e._ll_mobile(),r=o.clone();r.getChildAt(0).visible=!1,r.x=.5*e.width+n,(0,y.addChild)(r),o.rotate=90,o.x=.5*e.width+n,o.y=.5*t},e.horizontalError=function(){var t=.3*e.width,n=.05*e.width,o=e._ll_mobile(),r=o.clone();r.getChildAt(0).visible=!1,r.rotate=90,r.x=e.width-n,r.y=.5*t,(0,y.addChild)(r),o.arrow.x=1.5*n+t},e.onShow=function(){e.canvas&&(e.enableWebGL&&(e.canvas.start2D(),e.canvas.globalAlpha=1),e._outStageCheckCount<=0&&(e._outStageCheckCount--,e._outStageCheckCount<-2&&(e.stage.dispatchEvent(new a.default(u.default.FOCUS_OUT)),e._outStageCheckCount=1)),e.fpsStatus&&e.fpsStatus.reset(),e.stage.onresizeEvent&&(e.stage.onresizeListener&&e.stage.onresizeListener(e.stage.onresizeEvent),e.stage.onorientationchangeListener&&e.stage.onorientationchangeListener({orientation:window.innerWidth>window.innerHeight?r.LANDSCAPE:r.PORTRAIT}),delete e.stage.onresizeEvent),e.forceRefresh&&(e.canvasObj.width=e.canvasObj.width,e.forceRefresh=!1),e.canvas.beginPath(),e.box2d?(e.box2d.ll_show(),!e.traceDebug&&e.keepClear&&e.canvas.clearRect(0,0,e.width+1,e.height+1)):(e.keepClear&&e.canvas.clearRect(0,0,e.width+1,e.height+1),e.backgroundColor&&(e.canvas.fillStyle=e.backgroundColor,e.canvas.fillRect(0,0,e.width,e.height))),e.show(e.childList,e.canvas),e.enableWebGL&&e.canvas.finish2D())},e.show=function(t,n){n=n||e.canvas;for(var o,r=0,a=t.length;r<a;r++)(o=t[r])&&o.ll_show&&(o.ll_show(n),o._ll_removeFromSelf&&(r--,a--))},e.divideCoordinate=function(e,t,n,o){var r=void 0,a=void 0,i=e/o,l=t/n,u=[],s=void 0;for(r=0;r<n;r++){for(s=[],a=0;a<o;a++)s.push({x:i*a,y:l*r,width:i,height:l});u.push(s)}return u},e._create_loading_color=function(){var t=e.canvas.createRadialGradient(e.width/2,e.height,0,e.width/2,0,e.height);return t.addColorStop(0,"red"),t.addColorStop(.3,"orange"),t.addColorStop(.4,"yellow"),t.addColorStop(.5,"green"),t.addColorStop(.8,"blue"),t.addColorStop(1,"violet"),t},e.hitPolygon=function(e,t,n){var o,r=0,a=e[0],i=t<=a[0],l=n<=a[1],u=void 0,s=void 0,f=void 0,c=void 0;for(u=1,o=e.length;u<o+1;u++)f=t<=(s=e[u%o])[0],l!==(c=n<=s[1])&&(i===f?i&&(r+=l?-1:1):t<=a[0]+(s[0]-a[0])*(n-a[1])/(s[1]-a[1])&&(r+=l?-1:1)),a=s,i=f,l=c;return 0!==r},e.hitTestPolygon=function(e,t){var n=void 0,o=void 0,r=void 0,a=void 0,i=void 0,l=[[e,[],[]],[t,[],[]]];for(o=0;o<l.length;o++){for(a=l[o][0],i=l[o][1],n=0,r=a.length;n<r;n++)l[o][2].push(new h.default(a[n][0],a[n][1])),n<r-1&&i.push(new h.default(a[n+1][0]-a[n][0],a[n+1][1]-a[n][1]).normL());i.push(new h.default(a[0][0]-a[r-1][0],a[0][1]-a[r-1][1]).normL())}for(o=0;o<l.length;o++)for(n=0,r=(i=l[o][1]).length;n<r;n++){var u=h.default.getMinMax(l[0][2],i[n]),s=h.default.getMinMax(l[1][2],i[n]);if(u.max_o<s.min_o||u.min_o>s.max_o)return!1}return!0},e.hitTestPolygonArc=function(t,n){if(e.hitPolygon(t,n[0],n[1]))return!0;var o,r=void 0,a=void 0,i=void 0,l=void 0,u=void 0,s=void 0,f=void 0,c=void 0,d=void 0;for(r=0,o=t.length;r<o;r++)if(a=r<o-1?r+1:0,i=t[r],l=t[a],u=new h.default(n[0]-i[0],n[1]-i[1]),d=(s=new h.default(l[0]-i[0],l[1]-i[1])).normalize(),(c=h.default.dot(u,d))<=0){if(u.x*u.x+u.y*u.y<n[3])return!0}else if(c*c<s.x*s.x+s.y*s.y&&(f=h.default.cross(u,d))*f<n[3])return!0;return!1},e.hitTestArc=function(e,t,n,a){var i=.5*e.getWidth(),l=.5*t.getWidth(),u=e._startX?e._startX():e.startX(),s=t._startX?t._startX():t.startX(),f=e._startY?e._startY():e.startY(),c=t._startY?t._startY():t.startY();(void 0===n?"undefined":o(n))!==r.UNDEFINED&&(u+=i-n,f+=i-n,i=n),(void 0===a?"undefined":o(a))!==r.UNDEFINED&&(s+=l-a,c+=l-a,l=a);var d=u+i-s-l,h=f+i-c-l;return d*d+h*h<(i+l)*(i+l)},e.hitTestRect=function(e,t,n,a){var i=e.getWidth(),l=t.getWidth(),u=e.getHeight(),s=t.getHeight(),f=e._startX?e._startX():e.startX(),c=t._startX?t._startX():t.startX(),d=e._startY?e._startY():e.startY(),h=t._startY?t._startY():t.startY();return(void 0===n?"undefined":o(n))!==r.UNDEFINED&&(f+=.5*(i-n[0]),d+=.5*(u-n[1]),i=n[0],u=n[1]),(void 0===a?"undefined":o(a))!==r.UNDEFINED&&(c+=.5*(l-a[0]),h+=.5*(s-a[1]),l=a[0],s=a[1]),(f>c?f:c)<=(f+i>c+l?c+l:f+i)&&(d>h?d:h)<=(d+u>h+s?h+s:d+u)},e.hitTest=e.hitTestRect,e.setFrameRate=function(t){e.frameRate&&clearInterval(e.frameRate),e.speed=t,e.frameRate=setInterval(function(){e.onShow()},t)},e.ll_scaleX=function(t){return(t-e.left)*e.width/e.canvasStyleWidth},e.ll_scaleY=function(t){return(t-e.top)*e.height/e.canvasStyleHeight},e.ll_setStageSize=function(t,n){t=Math.ceil(t),n=Math.ceil(n),e.canvasObj.style.width=t+"px",e.canvasObj.style.height=n+"px",e.canvasStyleWidth=t,e.canvasStyleHeight=n},e.resize=function(t,n){var o=void 0,r=void 0,a=0,i=0,l=window.innerWidth,u=window.innerHeight;switch(e.innerWidth=l,e.innerHeight=u,t&&(o=t),n&&(r=n),"noScale"===e.stageScale&&(o=t||e.width,r=n||e.height),e.stageScale){case"exactFit":o=t||l,r=n||u;break;case"noBorder":switch(o=t||l,r=n||e.height*l/e.width,e.align){case p.default.BOTTOM:case p.default.BOTTOM_LEFT:case p.default.BOTTOM_RIGHT:case p.default.BOTTOM_MIDDLE:a=u-r}break;case"showAll":l/u>e.width/e.height?(r=n||u,o=t||e.width*u/e.height):(o=t||l,r=n||e.height*l/e.width)}if("exactFit"!==e.stageScale&&"noBorder"!==e.stageScale)switch(e.align){case p.default.BOTTOM:case p.default.BOTTOM_LEFT:a=u-r;break;case p.default.RIGHT:case p.default.TOP_RIGHT:i=l-o;break;case p.default.TOP_MIDDLE:i=.5*(l-o);break;case p.default.BOTTOM_RIGHT:a=u-r,i=l-o;break;case p.default.BOTTOM_MIDDLE:a=u-r,i=.5*(l-o);break;case p.default.MIDDLE:a=.5*(u-r),i=.5*(l-o);break;case p.default.TOP:case p.default.LEFT:case p.default.TOP_LEFT:}e.canvasObj.style.marginTop=a+"px",e.canvasObj.style.marginLeft=i+"px",e.isOldFirefox&&(e.left=parseInt(e.canvasObj.style.marginLeft),e.top=parseInt(e.canvasObj.style.marginTop)),e.ll_setStageSize(o,r)},e.sleep=function(e){for(var t=new Date;(new Date).getTime()-t.getTime()<e;);},e.screen=function(t){e.displayState=t,e.stage&&("number"==typeof e.displayState?e.resize(e.width*e.displayState,e.height*e.displayState):e.resize())},e.mouseJoint_start=function(t){if(e.IS_MOUSE_DOWN&&e.box2d&&!e.box2d.mouseJoint&&!e.box2d.stop){var n=t.offsetX/e.box2d.drawScale,o=t.offsetY/e.box2d.drawScale,r=e.box2d.getBodyAtMouse(n,o);if(r&&r.mouseJoint){var a=new e.box2d.b2MouseJointDef;a.bodyA=e.box2d.world.GetGroundBody(),a.bodyB=r,a.target.Set(n,o),a.collideConnected=!0,a.maxForce=3e5*r.GetMass(),e.box2d.mouseJoint=e.box2d.world.CreateJoint(a),r.SetAwake(!0)}}},e.mouseJoint_move=function(t){if(e.IS_MOUSE_DOWN&&e.box2d&&e.box2d.mouseJoint){var n=t.offsetX/e.box2d.drawScale,o=t.offsetY/e.box2d.drawScale;e.box2d.mouseJoint.SetTarget(new e.box2d.b2Vec2(n,o))}},e.mouseJoint_end=function(){e.box2d&&e.box2d.mouseJoint&&(e.box2d.world.DestroyJoint(e.box2d.mouseJoint),e.box2d.mouseJoint=null)},e}();b.default.LGlobal=g,window.LGlobal=g,t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="LObject",this.objectIndex=++e.objectIndex,this.objectindex=this.objectIndex}return o(e,[{key:"copyProperty",value:function(e){for(var t in e)if("number"==typeof e[t]||"string"==typeof e[t]||"boolean"==typeof e[t]){if("objectindex"===t||"objectIndex"===t)continue;this[t]=e[t]}else Array.isArray(e[t])&&(this[t]=e[t].slice());e.mask&&(this.mask=e.mask.clone())}},{key:"toString",value:function(){return"[object "+this.constructor.name+"]"}}]),e}();r.objectIndex=1,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=l(n(36)),i=l(n(24));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"sceneController",get:function(){for(var e=this;e;){if(e instanceof i.default)return e;if("object"!==(void 0===(e=e.parent)?"undefined":o(e)))break}return null}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(5),a=(o=r)&&o.__esModule?o:{default:o};var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();t.default=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(65)),a=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"lateInit",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"lateInit",this).call(this),this.updateView()}},{key:"updateView",value:function(e){this.model=e}}]),t}();a.default.set("BaseBindView",l),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=c(n(6)),i=c(n(21)),l=c(n(3)),u=c(n(7)),s=c(n(0)),f=n(2);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.type="LNode",e&&(o._initDataProperty(e),o.init(e),n||o._initDataChildNodes(e)),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"_initDataProperty",value:function(e){var t=e.property;if(t)for(var n in t){var o=t[n];"width"===n?n="_widgetWidth":"height"===n&&(n="_widgetHeight"),this[n]=o}}},{key:"_initDataChildNodes",value:function(e){if(e.childNodes){var n=!0,o=!1,r=void 0;try{for(var a,l=e.childNodes[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var u=a.value,s=t.create(u,!0);s instanceof i.default&&this.addChild(s),s instanceof t&&(s._initDataChildNodes(u),s.lateInit())}}catch(e){o=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw r}}}}},{key:"init",value:function(e){}},{key:"lateInit",value:function(){}},{key:"widgetInit",value:function(){var e,t=this._getWidgetTarget(this.widget.target),n=void 0,r=void 0,a=void 0,i=void 0;t?(n=t.widgetWidth||t.getWidth(),r=t.widgetHeight||t.getHeight()):(n=s.default.LGlobal.width,r=s.default.LGlobal.height);var l="number"==typeof(e=this.widget).top&&"number"==typeof e.bottom,c="number"==typeof e.left&&"number"==typeof e.right;l?(i=r-e.top-e.bottom,this._widgetHeight=i):i=this.widgetHeight,c?(a=n-e.left-e.right,this._widgetWidth=a):a=this.widgetWidth,(l||c)&&"function"==typeof this.resize&&this.resize(this.widgetWidth,this.widgetHeight);var d=void 0,h=void 0;"number"==typeof e.left?d=e.left:"number"==typeof e.right&&(d=n-a-e.right),"number"==typeof e.top?h=e.top:"number"==typeof e.bottom&&(h=r-i-e.bottom);var p=new u.default((void 0===d?"undefined":o(d))===f.UNDEFINED?0:d,(void 0===h?"undefined":o(h))===f.UNDEFINED?0:h),y=t?t.localToGlobal(p):p,v=this.parent.globalToLocal(y);this.x=(void 0===d?"undefined":o(d))===f.UNDEFINED?this.x:v.x,this.y=(void 0===h?"undefined":o(h))===f.UNDEFINED?this.y:v.y}},{key:"_getWidgetTarget",value:function(e){if(!e)return null;for(var n=this.parent;n;){if(e){if(n._ll_className===e)return n}else if(n instanceof t)return n;if("object"!==(void 0===(n=n.parent)?"undefined":o(n)))break}return null}},{key:"widgetWidth",get:function(){return this._widgetWidth?this._widgetWidth:this.sprite&&this.sprite.width?this.sprite.width:this.getWidth()}},{key:"widgetHeight",get:function(){return this._widgetHeight?this._widgetHeight:this.sprite&&this.sprite.height?this.sprite.height:this.getHeight()}}]),t}();d.create=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.class,o=void 0,r=l.default.get(n);return r?o=new r(e,t):console.error("class not found : ",n),o},l.default.set("LNode",d),t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LInit=void 0,t.trace=l,t.addChild=function(e){o.default.LGlobal.stage.addChild(e)},t.removeChild=function(e){o.default.LGlobal.stage.removeChild(e)},t.init=u,t.getTimer=function(){return(new Date).getTime()-o.default.LGlobal.startTimer},t.getExtension=function(e){var t=void 0;if((t=e.match(/([^#?]+\.)([^.#?]+)/)).length>=3)return t[2].toLowerCase();return null};var o=i(n(0)),r=i(n(1)),a=n(2);function i(e){return e&&e.__esModule?e:{default:e}}function l(){if(o.default.LGlobal.traceDebug){var e=document.getElementById("traceObject"),t=void 0;if(l.arguments.length>0&&!e){var n=document.createElement("DIV");n.position=0,n.style.position="absolute",document.body.appendChild(n),(e=document.createElement("TEXTAREA")).id="traceObject",e.style.width=.5*window.innerWidth+"px",e.style.height="200px";var a=document.createElement("BUTTON");a.style.width=.25*window.innerWidth+"px",a.innerHTML="Hide",n.appendChild(a),r.default.addEventListener(a,o.default.LGlobal.mobile?"touchstart":"click",function(t){e.style.display="none"===e.style.display?"":"none"}),(a=document.createElement("BUTTON")).style.width=.25*window.innerWidth+"px",a.innerHTML="position",n.appendChild(a);var i=function(t){n.position++,0===n.position?(n.style.top="5px",n.style.left="5px"):1===n.position?(n.style.top=window.innerHeight-20-parseInt(e.style.height)+"px",n.style.left="5px"):2===n.position?(n.style.top="5px",n.style.left=window.innerWidth-parseInt(e.style.width)+"px"):(n.style.top=window.innerHeight-20-parseInt(e.style.height)+"px",n.style.left=window.innerWidth-parseInt(e.style.width)+"px",n.position=-1)};i(),r.default.addEventListener(a,o.default.LGlobal.mobile?"touchstart":"click",i),n.appendChild(document.createElement("BR")),n.appendChild(e)}for(t=0;t<l.arguments.length;t++)e.value=e.value+l.arguments[t]+"\r\n",e.scrollTop=e.scrollHeight}}function u(e,t,n,i,l,u){o.default.LGlobal.speed=e;var s=function(){o.default.LGlobal.canTouch&&o.default.LGlobal.aspectRatio===a.LANDSCAPE&&window.innerWidth<window.innerHeight?o.default.LGlobal.horizontalError():o.default.LGlobal.canTouch&&o.default.LGlobal.aspectRatio===a.PORTRAIT&&window.innerWidth>window.innerHeight?o.default.LGlobal.verticalError():setTimeout(l,100),o.default.LGlobal.startTimer=(new Date).getTime()},f=void 0,c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)};"function"==typeof(e=e||c)?(f=function(){e(f),o.default.LGlobal.onShow()},o.default.LGlobal.speed=1e3/60):(o.default.LGlobal._requestAFBaseTime=(new Date).getTime(),f=function(){((new Date).getTime()-o.default.LGlobal._requestAFBaseTime)/e>=1&&(o.default.LGlobal._requestAFBaseTime+=e,o.default.LGlobal.onShow()),c(f,e)}),"complete"===document.readyState?(o.default.LGlobal.setCanvas(t,n,i),s(),f()):r.default.addEventListener(window,"load",function(){o.default.LGlobal._requestAFBaseTime=(new Date).getTime(),o.default.LGlobal.setCanvas(t,n,i),s(),f()})}window.console||(window.console={log:l,warn:l});t.LInit=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0},a=s(n(13)),i=s(n(27)),l=s(n(3)),u=s(n(18));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"init",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),this.sprite||(this.sprite={type:"simple",width:0,height:0}),this.bind.default&&this._updateSprite(this.bind.default)}},{key:"resize",value:function(e,t){this.sprite.width=e,this.sprite.height=t,this.getChildAt(0).resize(e,t),this.clearShape(),this.addShape(u.default.RECT,[0,0,e,t])}},{key:"updateView",value:function(){if(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateView",this).call(this),this.bind&&this.bind.key){var e=this.getByPath(this.bind.key);null!==e&&this._updateSprite(e)}}},{key:"_updateSprite",value:function(e){var t=i.default.get(this.bind.atlas);this.removeAllChild();var n=t.getSprite(e,this.sprite.type,this.sprite.width,this.sprite.height);n&&(this.addChild(n),this.addShape(u.default.RECT,[0,0,this.sprite.width,this.sprite.height]))}}]),t}();l.default.set("BindSpriteView",f),t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=f(n(10)),i=n(2),l=f(n(25)),u=f(n(7)),s=f(n(0));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(e,n,o){c(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.type="LTweenLiteChild",r.toNew=[],r.init(e,n,o),r}return h(t,a.default),r(t,[{key:"init",value:function(e,t,n){var r=this,a=null;for(a in o(n.tweenTimeline)===i.UNDEFINED&&(n.tweenTimeline=y.TYPE_FRAME),r.target=e,r.target.objectIndex||(r.target.objectIndex=++s.default.LGlobal.objectIndex),r.duration=t||.001,r.vars=n,r.delay=r.vars.delay||0,r.vars.tweenTimeline===y.TYPE_TIMER?(r.currentTime=(new Date).getTime()/1e3,r.initTime=r.currentTime,r.startTime=r.initTime+r.delay):(r.currentTime=0,r.duration*=1e3,r.currentTime-=1e3*r.delay),r.combinedTimeScale=r.vars.timeScale||1,r.active=0===r.duration&&0===r.delay,r.varsto={},r.varsfrom={},r.varsDiff={},r.varsListIndex={},r.varsListCurr={},r.varsListTo={},r.varsListLength={},r.stop=!1,"function"!=typeof r.vars.ease&&(r.vars.ease=l.default.None.easeIn),r.ease=r.vars.ease,delete r.vars.ease,"function"==typeof r.vars.onComplete?(r.onComplete=r.vars.onComplete,delete r.vars.onComplete):r.onComplete=null,"function"==typeof r.vars.onUpdate?(r.onUpdate=r.vars.onUpdate,delete r.vars.onUpdate):r.onUpdate=null,"function"==typeof r.vars.onStart?(r.onStart=r.vars.onStart,delete r.vars.onStart):r.onStart=null,r.vars)if("coordinate"===a&&Array.isArray(r.vars[a])){for(var f=0,c={x:r.target.x,y:r.target.y},d=0,h=r.vars[a].length;d<h;d++){var p=r.vars[a][d];f+=u.default.distance(p,c),c=p}r.varsListIndex[a]=0,r.varsListCurr[a]=0,r.varsListTo[a]=f,r.varsto[a]=r.vars[a],r.varsfrom[a]={x:r.target.x,y:r.target.y}}else"number"==typeof r.vars[a]&&(r.varsto[a]=r.vars[a],r.varsfrom[a]=r.target[a],r.varsDiff[a]=r.vars[a]-r.target[a])}},{key:"pause",value:function(){this.stop=!0}},{key:"resume",value:function(){this.stop=!1}},{key:"tween",value:function(){var e=this,t=void 0,n=void 0,r=e.vars.tweenTimeline===y.TYPE_TIMER;if(r){if((n=(new Date).getTime()/1e3-e.startTime)<0)return}else{if(e.stop)return;if(e.currentTime+=s.default.LGlobal.speed,e.currentTime<0)return}for(var a in e.varsto)if(o(e.varsListTo[a])===i.UNDEFINED)e.target[a]=e.ease(r?n:e.currentTime,e.varsfrom[a],e.varsDiff[a],e.duration);else{var l=e.ease(r?n:e.currentTime,0,e.varsListTo[a],e.duration);l>e.varsListTo[a]&&(l=e.varsListTo[a]);for(var f=e.varsListIndex[a]>0?e.vars[a][e.varsListIndex[a]-1]:e.varsfrom[a],c=e.vars[a][e.varsListIndex[a]],d=u.default.distance(f,c);e.varsListCurr[a]+d<l;)e.varsListCurr[a]+=d,f=c,e.varsListIndex[a]++,c=e.vars[a][e.varsListIndex[a]],d=u.default.distance(f,c);e.target.x=f.x,e.target.y=f.y,0!==d&&c.x-f.x!=0&&(e.target.x+=(c.x-f.x)*(l-e.varsListCurr[a])/d),0!==d&&c.y-f.y!=0&&(e.target.y+=(c.y-f.y)*(l-e.varsListCurr[a])/d)}e.onStart&&(e._dispatchEvent(e.onStart),delete e.onStart);if(r?n>=e.duration:e.currentTime>=e.duration){for(t in e.varsto)if(o(e.varsListTo[t])===i.UNDEFINED)e.target[t]=e.varsto[t];else{var h=e.varsto[t][e.vars[t].length-1];e.target.x=h.x,e.target.y=h.y}return e.onComplete&&e._dispatchEvent(e.onComplete,!0),!0}return e.onUpdate&&e._dispatchEvent(e.onUpdate),!1}},{key:"_dispatchEvent",value:function(e,t){var n=this,o={},r=function(){o.target=n.target,o.currentTarget=n,e(o)};t?setTimeout(function(){r()},1):r()}},{key:"to",value:function(e,t,n,o){return this.toNew.push({target:e,duration:t,vars:n,data:o}),this}},{key:"keep",value:function(){var e=this,t=void 0,n=void 0,r=void 0,a=void 0;if(e.toNew.length>0){if((t=e.toNew.shift()).vars.loop&&(e.loop=!0),e.loop){for(r in a={},n={},t.vars)n[r]=t.vars[r],o(t.target[r])!==i.UNDEFINED&&t.vars.playStyle===y.PlayStyle.Init&&(t.data?t.target[r]=t.data[r]:a[r]=t.target[r]);t.data||(t.data=a),e.to(t.target,t.duration,n,t.data)}return e.init(t.target,t.duration,t.vars),!0}return!1}}]),t}(),y=function(e){function t(){c(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LTweenLite",e.tweens=[],e}return h(t,a.default),r(t,[{key:"count",value:function(){return this.tweens.length}},{key:"ll_show",value:function(){var e=this,t=void 0,n=e.tweens.length,o=void 0;for(t=0;t<n;t++)(o=e.tweens[t])&&o.tween&&o.tween()&&(e.tweens.splice(t,1),t--,n=e.tweens.length,o.keep()&&e.add(o))}},{key:"to",value:function(e,t,n){if(e){var o=new p({},0,{});return this.tweens.push(o),o.to(e,t,n),o}}},{key:"add",value:function(e){this.tweens.push(e)}},{key:"remove",value:function(e){var t=this;if((void 0===e?"undefined":o(e))!==i.UNDEFINED)for(var n=0,r=t.tweens.length;n<r;n++)if(e.objectIndex===t.tweens[n].objectIndex){t.tweens.splice(n,1);break}}},{key:"removeTarget",value:function(e){for(var t=this,n=0,o=t.tweens.length;n<o;n++)if(e.objectIndex===t.tweens[n].target.objectIndex){t.tweens.splice(n,1);break}}},{key:"removeAll",value:function(){this.tweens.splice(0,this.tweens.length)}},{key:"pauseAll",value:function(){for(var e=0,t=this.tweens.length;e<t;e++)this.tweens[e].pause()}},{key:"resumeAll",value:function(){for(var e=0,t=this.tweens.length;e<t;e++)this.tweens[e].resume()}}]),t}();y.PlayStyle={None:"none",Init:"init"},y.TYPE_FRAME="type_frame",y.TYPE_TIMER="type_timer",s.default.LTweenLiteTimeline=new y,s.default.LGlobal.childList.push(s.default.LTweenLiteTimeline);var v=new y;v.TYPE_FRAME=y.TYPE_FRAME,v.TYPE_TIMER=y.TYPE_TIMER,v.PlayStyle=y.PlayStyle,s.default.LGlobal.childList.push(v),s.default.LTweenLite=v,t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(32)),a=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LShape",e.graphics=new a.default.LGraphics,e.graphics.parent=e,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"_ll_show",value:function(e){this.graphics.ll_show(e)}},{key:"getWidth",value:function(e){var t=this,n=void 0,o=void 0,r=t.graphics.startX(),a=r+t.graphics.getWidth();return e&&t.mask&&(n=t.mask._startX?t.mask._startX():t.mask.startX(),o=t.mask.getWidth(),r<n&&(r=n),a>n+o&&(a=n+o)),t.ll_left=t.x+r,t.ll_right=t.x+a,(a-r)*t.scaleX}},{key:"getHeight",value:function(e){var t=this,n=void 0,o=void 0,r=t.graphics.startY(),a=r+t.graphics.getHeight();return e&&t.mask&&(n=t.mask._startY?t.mask._startY():t.mask.startY(),o=t.mask.getHeight(),r<n&&(r=n),a>n+o&&(a=n+o)),t.ll_top=t.y+r,t.ll_bottom=t.y+a,(a-r)*t.scaleY}},{key:"_startX",value:function(){return this.getWidth(),this.ll_left}},{key:"startX",value:function(){return this._startX()*this.scaleX}},{key:"_startY",value:function(){return this.getHeight(),this.ll_top}},{key:"startY",value:function(){return this._startY()*this.scaleY}},{key:"clone",value:function(){var e=new t;return e.copyProperty(this),e.graphics=this.graphics.clone(),e.graphics.parent=e,e}},{key:"ismouseon",value:function(e,t){var n,o=this,r=!1;return!(!o.visible||!e)&&(!(o.mask&&(o.mask.parent||(o.mask.parent=o.parent),!o.mask.ismouseon(e,t)))&&(n={x:o.x*t.scaleX+t.x,y:o.y*t.scaleY+t.y,scaleX:t.scaleX*o.scaleX,scaleY:t.scaleY*o.scaleY},o.graphics&&(r=o.graphics.ismouseon(e,n)),r))}},{key:"die",value:function(){this.graphics.clear(),function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"die",this).call(this)}}]),t}();l.POINT="point",l.LINE="line",l.ARC="arc",l.RECT="rect",l.VERTICES="vertices",a.default.LShape=l,t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=s(n(10)),i=n(2),l=s(n(20)),u=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n,r,a,l,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(s.type="LBitmapData",(void 0===u?"undefined":o(u))===i.UNDEFINED&&(u=t.DATA_IMAGE),s.oncomplete=null,s._locked=!1,s._setPixel=!1,s.x=n||0,s.y=r||0,s.width=0,s.height=0,s.dataType=null,e&&"object"===(void 0===e?"undefined":o(e)))s.image=e,s.dataType=t.DATA_IMAGE,s.width=a||s.image.width,s.height=l||s.image.height,s._setDataType(u);else{if(s._createCanvas(),s.dataType=t.DATA_CANVAS,s._canvas.width=s.width=a||1,s._canvas.height=s.height=l||1,"string"==typeof e)s._context.fillStyle=e,s._context.fillRect(0,0,s.width,s.height);else if("number"==typeof e){for(var f=s._context.createImageData(s.width,s.height),c=0;c<f.data.length;c+=4)f.data[c+0]=e>>16&255,f.data[c+1]=e>>8&255,f.data[c+2]=255&e,f.data[c+3]=255;s._context.putImageData(f,0,0)}s.image=s._canvas,u===t.DATA_IMAGE&&s._setDataType(u)}return s.resize(),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"_setDataType",value:function(e){var n=this;n.dataType!==e&&(e===t.DATA_CANVAS?(n._createCanvas(),n._canvas.width=n.image.width,n._canvas.height=n.image.height,n._context.clearRect(0,0,n._canvas.width,n._canvas.height),n._context.drawImage(n.image,0,0),n.image=n._canvas):e===t.DATA_IMAGE&&(n.image=new Image,n.image.width=n._canvas.width,n.image.height=n._canvas.height,n.image.src=n._canvas.toDataURL()),n.dataType=e)}},{key:"_createCanvas",value:function(){var e=this;e._canvas||(e._canvas=document.createElement("canvas"),e._context=e._canvas.getContext("2d"))}},{key:"clear",value:function(e){var n=this;n._createCanvas(),e?n._context.clearRect(e.x,e.y,e.width,e.height):n._canvas.width=n.image.width,n.dataType===t.DATA_IMAGE&&(n.image.src=n._canvas.toDataURL())}},{key:"setProperties",value:function(e,t,n,o){var r=this;r.x=e,r.y=t,r.width=n,r.height=o,r.resize()}},{key:"setCoordinate",value:function(e,t){var n=this;n.x=e,n.y=t,n.resize()}},{key:"clone",value:function(){var e=this;return new t(e.image,e.x,e.y,e.width,e.height,e.dataType)}},{key:"_ready",value:function(){var e=this;e._dataType=e.dataType,e._setDataType(t.DATA_CANVAS),e._data=e._context.getImageData(e.x,e.y,e.width,e.height)}},{key:"_update",value:function(){var e=this;e._context.putImageData(e._data,e.x,e.y,0,0,e.width,e.height),e._setDataType(e._dataType),e._data=null}},{key:"applyFilter",value:function(e,t,n,o,r){var a=this,i=a._context.getImageData(a.x+t.x,a.y+t.y,t.width,t.height),u=o.filter(i,t.width,r);a.putPixels(new l.default(n.x,n.y,t.width,t.height),u)}},{key:"getPixel",value:function(e,t,n){var o,r,a=this;return e>>=0,t>>=0,a._locked||a._ready(),o=4*a.width*t+4*e,r=a._data.data,a._locked||a._update(),"number"===n?r[o]<<16|r[o+1]<<8|r[o+2]:[r[o],r[o+1],r[o+2],r[o+3]]}},{key:"setPixel",value:function(e,t,n){var r=this;e>>=0,t>>=0,r._locked||r._ready();var a=r._data,i=4*r.width*t+4*e;"object"===(void 0===n?"undefined":o(n))?(a.data[i+0]=n[0],a.data[i+1]=n[1],a.data[i+2]=n[2],a.data[i+3]=n[3]):("string"==typeof n&&(n=parseInt(n.replace("#","0x"))),a.data[i+0]=n>>16&255,a.data[i+1]=n>>8&255,a.data[i+2]=255&n,a.data[i+3]=255),r._locked||r._update()}},{key:"getPixels",value:function(e){var t,n=this;return n._locked||n._ready(),t=n._context.getImageData(n.x+e.x,n.y+e.y,e.width,e.height),n._locked||n._update(),t}},{key:"setPixels",value:function(e,t){var n=this,r=void 0,a=void 0,i=void 0,l=void 0,u=void 0,s=void 0;if(n._locked||n._ready(),i=n._data,"object"===(void 0===t?"undefined":o(t)))for(l=n._canvas.width,u=e.x;u<e.right;u++)for(s=e.y;s<e.bottom;s++)r=4*l*(n.y+s)+4*(n.x+u),a=4*t.width*(s-e.y)+4*(u-e.x),i.data[r+0]=t.data[a+0],i.data[r+1]=t.data[a+1],i.data[r+2]=t.data[a+2],i.data[r+3]=t.data[a+3];else for("string"==typeof t&&(t=parseInt(t.replace("#","0x"))),t=[t>>16&255,t>>8&255,255&t],l=n._canvas.width,u=e.x;u<e.right;u++)for(s=e.y;s<e.bottom;s++)r=4*l*(n.y+s)+4*(n.x+u),i.data[r+0]=t[0],i.data[r+1]=t[1],i.data[r+2]=t[2],i.data[r+3]=255;n._locked||n._update()}},{key:"putPixels",value:function(e,n){var r=this;r.dataType===t.DATA_CANVAS&&"object"===(void 0===n?"undefined":o(n))&&r._context.putImageData(n,r.x+e.x,r.y+e.y,0,0,e.width,e.height)}},{key:"lock",value:function(){this._locked=!0,this._ready()}},{key:"unlock",value:function(){this._locked=!1,this._update()}},{key:"draw",value:function(e,n,o,r,a){var i,u,s=this,f=void 0,c=e,d=void 0,h=void 0,p=!1,y=s.dataType;s._setDataType(t.DATA_CANVAS),(n||o||r||a)&&(s._context.save(),p=!0),a&&(c instanceof t?(d=c.x,h=c.y):d=h=0,c=new t(c.getDataCanvas(),d+a.x,h+a.y,a.width,a.height,t.DATA_CANVAS)),i=c.getWidth()>>>0,u=c.getHeight()>>>0,0!==i&&0!==u?(f=c.getDataCanvas(),o&&(c.colorTransform(new l.default(0,0,i,u),o),f=c.image),n&&s._context.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),r&&(s._context.globalCompositeOperation=r),s._context.drawImage(f,c.x,c.y,i,u,0,0,i,u),p&&s._context.restore(),s._setDataType(y),s.resize()):s._setDataType(y)}},{key:"getDataCanvas",value:function(){var e=this,n=e.dataType;return e._setDataType(t.DATA_CANVAS),e._setDataType(n),e._canvas}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"resize",value:function(){var e=this,t=e.image.width-e.x,n=e.image.height-e.y;e.width=e.width<t?e.width:t,e.height=e.height<n?e.height:n}},{key:"colorTransform",value:function(e,n){var o=this;if(o.dataType===t.DATA_CANVAS){for(var r=o._context.getImageData(o.x+e.x,o.y+e.y,e.width,e.height),a=r.data,i=0,l=a.length;i<l;i+=4){var u=i,s=i+1,f=i+2,c=i+3;a[u]=a[u]*n.redMultiplier+n.redOffset,a[s]=a[s]*n.greenMultiplier+n.greenOffset,a[f]=a[f]*n.blueMultiplier+n.blueOffset,a[c]=a[c]*n.alphaMultiplier+n.alphaOffset}o._context.putImageData(r,o.x+e.x,o.y+e.y,0,0,e.width,e.height)}}},{key:"copyPixels",value:function(e,n,o){var r,a,i,l,u=e;this.dataType===t.DATA_CANVAS&&(r=u.x,a=u.y,i=u.width,l=u.height,u.setProperties(n.x+u.x,n.y+u.y,n.width,n.height),this._context.drawImage(u.image,u.x,u.y,u.width,u.height,o.x,o.y,u.width,u.height),u.x=r,u.y=a,u.width=i,u.height=l)}}]),t}();f.DATA_IMAGE="data_image",f.DATA_CANVAS="data_canvas",u.default.LBitmapData=f,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,this.width=o,this.height=r,this.setRectangle()}return o(e,[{key:"setRectangle",value:function(){var e=this;e.bottom=e.y+e.height,e.right=e.x+e.width,e.left=e.x,e.top=e.y}},{key:"clone",value:function(){var t=this;return new e(t.x,t.y,t.width,t.height)}},{key:"contains",value:function(e,t){var n=this;return e>=n.x&&e<=n.right&&t>=n.y&&t<=n.bottom}},{key:"containsRect",value:function(e){var t=this;return e.x>=t.x&&e.right<=t.right&&e.y>=t.y&&e.bottom<=t.bottom}},{key:"equals",value:function(e){var t=this;return e.x===t.x&&e.width===t.width&&e.y===t.y&&e.height===t.height}},{key:"inflate",value:function(e,t){var n=this;n.width+=e,n.height+=t,n.setRectangle()}},{key:"intersection",value:function(t){var n=this,o=n.x>t.x?n.x:t.x,r=n.y>t.y?n.y:t.y,a=n.right>t.right?t.right:n.right,i=n.bottom>t.bottom?t.bottom:n.bottom;return o<=a&&r<=i?new e(o,r,a,i):new e(0,0,0,0)}},{key:"intersects",value:function(e){var t=this,n=t.x>e.x?t.x:e.x,o=t.y>e.y?t.y:e.y,r=t.right>e.right?e.right:t.right,a=t.bottom>e.bottom?e.bottom:t.bottom;return n<=r&&o<=a}},{key:"isEmpty",value:function(){var e=this;return 0===e.x&&0===e.y&&0===e.width&&0===e.height}},{key:"offset",value:function(e,t){var n=this;n.x+=e,n.y+=t,n.setRectangle()}},{key:"setEmpty",value:function(){var e=this;e.x=0,e.y=0,e.width=0,e.height=0,e.setRectangle()}},{key:"setTo",value:function(e,t,n,o){var r=this;r.x=e,r.y=t,r.width=n,r.height=o,r.setRectangle()}},{key:"toString",value:function(){var e=this;return"[object LRectangle("+e.x+","+e.y+","+e.width+","+e.height+")]"}},{key:"union",value:function(t){var n=this;return new e(n.x>t.x?t.x:n.x,n.y>t.y?t.y:n.y,n.right>t.right?n.right:t.right,n.bottom>t.bottom?n.bottom:t.bottom)}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=d(n(5)),i=d(n(83)),l=d(n(82)),u=d(n(7)),s=d(n(20)),f=n(2),c=d(n(0));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.name="instance"+n.objectIndex,n.x=0,n.y=0,n.width=0,n.height=0,n.scaleX=1,n.scaleY=1,n.alpha=1,n.visible=!0,n.rotate=0,n.blendMode=null,n.filters=null,n.transform=new i.default,n.parent=null,n.mask=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"_createCanvas",value:function(){var e=this;e._canvas||(e._canvas=document.createElement("canvas"),e._context=e._canvas.getContext("2d"))}},{key:"ll_show",value:function(e){var t=this;e=e||c.default.LGlobal.canvas,t._canShow()&&(t._ll_trans=!1,c.default.LGlobal.box2d||"function"!=typeof t._ll_loopframe||t._ll_loopframe(),e.save(),t._showReady(e),t.blendMode&&(e.globalCompositeOperation=t.blendMode),t.filters&&t._ll_setFilters(e),t._rotateReady(),t.mask&&t.mask.ll_show&&!t._ll_cacheAsBitmap&&(t.mask.ll_show(e),e.clip()),t._transformRotate(e),t._transformScale(e),t._coordinate(e),t.transform.matrix&&t.transform.matrix.transform(e),t.alpha<1&&(t._ll_trans=!0,e.globalAlpha*=t.alpha),c.default.LGlobal.fpsStatus&&(c.default.LGlobal.fpsStatus.display++,t._ll_trans&&c.default.LGlobal.fpsStatus.transform++),t._ll_cacheAsBitmap?t._ll_cacheAsBitmap._ll_show(e):t._ll_show(e),e.restore(),c.default.LGlobal.box2d&&"function"==typeof t._ll_loopframe&&t._ll_loopframe())}},{key:"_canShow",value:function(){return this.visible}},{key:"_coordinate",value:function(e){var t=this;0===t.x&&0===t.y||(t._ll_trans=!0,e.transform(1,0,0,1,t.x,t.y))}},{key:"_rotateReady",value:function(){}},{key:"_showReady",value:function(e){}},{key:"_ll_show",value:function(e){}},{key:"_ll_setFilters",value:function(e){var t,n=this.filters,o=void 0;if(n)for(o=0,t=n.length;o<t;o++)n[o].ll_show(this,e)}},{key:"startX",value:function(){return 0}},{key:"startY",value:function(){return 0}},{key:"getWidth",value:function(e){return 1}},{key:"getHeight",value:function(e){return 1}},{key:"_transformRotate",value:function(e){var t=this,n=void 0,r=void 0;e=e||c.default.LGlobal.canvas,0!==t.rotate&&(t._ll_trans=!0,r=Math.PI/180,n=new l.default,o(t.rotatex)===f.UNDEFINED&&(t.rotatex=0,t.rotatey=0),t.box2dBody&&(r=1),n.a=Math.cos(t.rotate*r),n.b=Math.sin(t.rotate*r),n.c=-n.b,n.d=n.a,n.tx=t.x+t.rotatex,n.ty=t.y+t.rotatey,n.transform(e).setTo(1,0,0,1,-n.tx,-n.ty).transform(e))}},{key:"_transformScale",value:function(e){var t=this,n=void 0;e=e||c.default.LGlobal.canvas,1===t.scaleX&&1===t.scaleY||(t._ll_trans=!0,n=new l.default,1!==t.scaleX&&(n.tx=t.x),1!==t.scaleY&&(n.ty=t.y),n.a=t.scaleX,n.d=t.scaleY,n.transform(e).setTo(1,0,0,1,-n.tx,-n.ty).transform(e))}},{key:"getAbsoluteScale",value:function(){var e=this,t=void 0,n=void 0,o=void 0;for(t=e.scaleX,n=e.scaleY,o=e.parent;o&&"root"!==o;)t*=o.scaleX,n*=o.scaleY,o=o.parent;return{scaleX:t,scaleY:n}}},{key:"getRootCoordinate",value:function(){return this.localToGlobal(new u.default(0,0))}},{key:"localToGlobal",value:function(e){var t;return t=this.getRootMatrix().toArray([e.x,e.y,1]),new u.default(t[0],t[1])}},{key:"globalToLocal",value:function(e){var t;return t=this.getLocalMatrix().toArray([e.x,e.y,1]),new u.default(t[0],t[1])}},{key:"getBounds",value:function(e){if((void 0===e?"undefined":o(e))===f.UNDEFINED)return new s.default(0,0,0,0);var t,n,r=this,a=0,i=0,l=void 0,u=void 0;return r.objectIndex!==e.objectIndex&&(l=r.getRootCoordinate(),u=e.getRootCoordinate(),a=l.x-u.x,i=l.y-u.y),t=r.getWidth(!0),n=r.getHeight(!0),new s.default(a,i,t,n)}},{key:"cacheAsBitmap",value:function(e){var t=this;if(e){var n=t.x-t.startX(!0),o=t.y-t.startY(!0),r=t.getDataCanvas(n,o,t.getWidth(!0),t.getHeight(!0)),a=new c.default.LBitmapData(r,0,0,null,null,c.default.LBitmapData.DATA_CANVAS),i=new c.default.LBitmap(a);i.x=-n,i.y=-o,t._ll_cacheAsBitmap=i}else t._ll_cacheAsBitmap=null}},{key:"getDataCanvas",value:function(e,t,n,o){var r,a,i=this;i._createCanvas(),r=i.x,a=i.y,i.x=e||0,i.y=t||0,i.width=n||i.getWidth(),i.height=o||i.getHeight(),i._canvas.width=i.width,i._canvas.height=i.height;var l=void 0,u=void 0;return i.mask&&(l=i.mask.x,u=i.mask.y,i.mask.x+=i.x-r,i.mask.y+=i.y-a),i.ll_show(i._context),i.x=r,i.y=a,i.mask&&(i.mask.x=l,i.mask.y=u),i._canvas}},{key:"getDataURL",value:function(){var e=this,t=e.x-e.startX(!0),n=e.y-e.startY(!0),o=e.getDataCanvas(t,n,e.getWidth(!0),e.getHeight(!0));return o.toDataURL.apply(o,arguments)}},{key:"getParentByConstructor",value:function(e){for(var t=this.parent;"object"===(void 0===t?"undefined":o(t));){if(t instanceof e)return t;t=t.parent}return null}},{key:"ismouseonShapes",value:function(e,t,n){var r,a=this,i=void 0,l=void 0,u=void 0,s=void 0;for((void 0===e?"undefined":o(e))===f.UNDEFINED&&(e=a.shapes),r=a.getRootMatrix(),l=e.length-1;l>=0;l--)if(s=(i=e[l]).arg,u=a._changeShape(i.type,s,r),i.type===c.default.LShape.VERTICES){if(c.default.LGlobal.hitPolygon(u,t,n))return!0}else if(i.type===c.default.LShape.RECT){if(c.default.LGlobal.hitPolygon(u,t,n))return!0}else if(i.type===c.default.LShape.ARC&&(u[0]-t)*(u[0]-t)+(u[1]-n)*(u[1]-n)<u[3])return!0;return!1}},{key:"_changeShape",value:function(e,t,n){var o=void 0,r=void 0,a=void 0,i=void 0,l=void 0,u=void 0;if(e===c.default.LShape.VERTICES)for(o=[],a=0,i=t.length;a<i;a++)o[a]=n.toArray([t[a][0],t[a][1],1]);else if(e===c.default.LShape.RECT)for(a=0,i=(o=[[t[0],t[1]],[t[0]+t[2],t[1]],[t[0]+t[2],t[1]+t[3]],[t[0],t[1]+t[3]]]).length;a<i;a++)o[a]=n.toArray([o[a][0],o[a][1],1]);else e===c.default.LShape.ARC&&(l=n.toArray([t[0],t[1],1]),u=n.toArray([t[0]+t[2],t[1],1]),r=(l[0]-u[0])*(l[0]-u[0])+(l[1]-u[1])*(l[1]-u[1]),o=[l[0],l[1],Math.sqrt(r),r]);return o}},{key:"getRootMatrix",value:function(){for(var e=this,t=new l.default;e&&"root"!==e;)1===e.scaleX&&1===e.scaleY||t.scale(e.scaleX,e.scaleY),0!==e.rotate&&t.rotate(e.rotate),0===e.x&&0===e.y||t.translate(e.x,e.y),e=e.parent;return t}},{key:"getLocalMatrix",value:function(){for(var e=this,t=new l.default,n=[];e&&"root"!==e;)n.push(e),e=e.parent;for(var o=n.length-1;o>=0;o--)0===(e=n[o]).x&&0===e.y||t.translate(-e.x,-e.y),0!==e.rotate&&t.rotate(-e.rotate),1===e.scaleX&&1===e.scaleY||t.scale(1/e.scaleX,1/e.scaleY);return t}},{key:"remove",value:function(){var e=this,t=e.parent;t&&"root"!==t&&(t.removeChild(e),e._ll_removeFromSelf=!0)}}]),t}();c.default.LDisplayObject=h,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(4),l=(o=i)&&o.__esModule?o:{default:o},u=n(2);var s=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispatchAllEvent=!1,this.container={},this.mouseDownContainer=[],this.mouseUpContainer=[],this.mouseMoveContainer=[],this.mouseOverContainer=[],this.mouseOutContainer=[],this.mouseDblContainer=[],this.textFieldInputContainer=[],this.buttonContainer=[]}return a(e,[{key:"pushInputBox",value:function(e){for(var t=this.textFieldInputContainer,n=0,o=t.length;n<o;n++)if(e.objectIndex===t[n].objectIndex)return;this.textFieldInputContainer.push(e)}},{key:"removeInputBox",value:function(e){var t,n=this.textFieldInputContainer,o=void 0;for(o=0,t=n.length;o<t;o++)if(e.objectIndex===n[o].objectIndex){this.textFieldInputContainer.splice(o,1);break}}},{key:"pushButton",value:function(e){var t,n=this.buttonContainer,o=void 0;for(o=0,t=n.length;o<t;o++)if(e.objectIndex===n[o].objectIndex)return;this.buttonContainer.push(e)}},{key:"removeButton",value:function(e){var t,n=this.buttonContainer,o=void 0;for(o=0,t=n.length;o<t;o++)if(e.objectIndex===n[o].objectIndex){this.buttonContainer.splice(o,1);break}}},{key:"dispatchEventButton",value:function(e){var t,n=this,o=void 0;for(o=0,t=n.buttonContainer.length;o<t;o++)"function"==typeof n.buttonContainer[o].ll_button_mode&&n.buttonContainer[o].ll_button_mode(e)}},{key:"addEvent",value:function(e,t,n,o){t.push({container:e,listener:n,_this:o})}},{key:"removeEvent",value:function(e,t,n){var o,r=void 0;for(r=0,o=t.length;r<o;r++)if(t[r].container.objectIndex===e.objectIndex&&(!n||t[r].listener===n)){t.splice(r,1);break}}},{key:"addMouseDownEvent",value:function(e,t,n){this.addEvent(e,this.mouseDownContainer,t,n)}},{key:"addMouseUpEvent",value:function(e,t,n){this.addEvent(e,this.mouseUpContainer,t,n)}},{key:"addMouseMoveEvent",value:function(e,t,n){this.addEvent(e,this.mouseMoveContainer,t,n)}},{key:"addMouseOverEvent",value:function(e,t,n){this.addEvent(e,this.mouseOverContainer,t,n)}},{key:"addMouseOutEvent",value:function(e,t,n){this.addEvent(e,this.mouseOutContainer,t,n)}},{key:"addMouseDblEvent",value:function(e,t,n){this.addEvent(e,this.mouseDblContainer,t,n)}},{key:"addMouseEvent",value:function(e,t,n,o){var r=this;t===l.default.MOUSE_DOWN?r.addMouseDownEvent(e,n,o):t===l.default.MOUSE_UP?r.addMouseUpEvent(e,n,o):t===l.default.MOUSE_OVER?r.addMouseOverEvent(e,n,o):t===l.default.MOUSE_OUT?r.addMouseOutEvent(e,n,o):t===l.default.MOUSE_MOVE?r.addMouseMoveEvent(e,n,o):r.addMouseDblEvent(e,n,o)}},{key:"hasEventListener",value:function(e,t,n){for(var o=this,r=void 0,a=0,i=(r=t===l.default.MOUSE_DOWN?o.mouseDownContainer:t===l.default.MOUSE_UP?o.mouseUpContainer:t===l.default.MOUSE_OVER?o.mouseOverContainer:t===l.default.MOUSE_OUT?o.mouseOutContainer:t===l.default.MOUSE_MOVE?o.mouseMoveContainer:o.mouseDblContainer).length;a<i;a++)if(r[a].container.objectIndex===e.objectIndex&&(!n||r[a].listener===n))return!0;return!1}},{key:"removeMouseDownEvent",value:function(e,t){this.removeEvent(e,this.mouseDownContainer,t)}},{key:"removeMouseUpEvent",value:function(e,t){this.removeEvent(e,this.mouseUpContainer,t)}},{key:"removeMouseMoveEvent",value:function(e,t){this.removeEvent(e,this.mouseMoveContainer,t)}},{key:"removeMouseOverEvent",value:function(e,t){this.removeEvent(e,this.mouseOverContainer,t)}},{key:"removeMouseOutEvent",value:function(e,t){this.removeEvent(e,this.mouseOutContainer,t)}},{key:"removeMouseDblEvent",value:function(e,t){this.removeEvent(e,this.mouseDblContainer,t)}},{key:"removeMouseEvent",value:function(e,t,n){var o=this;t===l.default.MOUSE_DOWN?o.removeMouseDownEvent(e,n):t===l.default.MOUSE_UP?o.removeMouseUpEvent(e,n):t===l.default.MOUSE_OVER?o.removeMouseOverEvent(e,n):t===l.default.MOUSE_OUT?o.removeMouseOutEvent(e,n):t===l.default.MOUSE_MOVE?o.removeMouseMoveEvent(e,n):o.removeMouseDblEvent(e,n)}},{key:"dispatchMouseEvent",value:function(e,t){var n=this;t===l.default.MOUSE_DOWN?(n.dispatchEvent(e,n.mouseDownContainer,l.default.MOUSE_DOWN),n.dispatchEvent(e,n.textFieldInputContainer)):t===l.default.MOUSE_UP?n.dispatchEvent(e,n.mouseUpContainer,l.default.MOUSE_UP):t===l.default.DOUBLE_CLICK?n.dispatchEvent(e,n.mouseDblContainer,l.default.DOUBLE_CLICK):(n.dispatchEventButton(e),n.dispatchEvent(e,n.mouseOutContainer,l.default.MOUSE_OUT),n.dispatchEvent(e,n.mouseOverContainer,l.default.MOUSE_OVER),n.dispatchEvent(e,n.mouseMoveContainer,l.default.MOUSE_MOVE))}},{key:"getRootParams",value:function(e){for(var t=e.parent,n={x:0,y:0,scaleX:1,scaleY:1};t&&"root"!==t;)n.x*=t.scaleX,n.y*=t.scaleY,n.x+=t.x,n.y+=t.y,n.scaleX*=t.scaleX,n.scaleY*=t.scaleY,t=t.parent;return n}},{key:"_mouseEnabled",value:function(e){if(!e||!e.parent)return!1;if(!e.visible||r(e.mouseEnabled)!==u.UNDEFINED&&!e.mouseEnabled)return!1;for(var t=e.parent;t&&"root"!==t;){if(!t.mouseEnabled||!t.mouseChildren||!t.visible)return!1;if(!(t=t.parent))return!1}return!0}},{key:"_dispatchEvent",value:function(e,t,n,o,r,a){var i=void 0,l=void 0,u=n.length;for(i=r;i<=a&&i<u;i++)(l=n[i]).sp.objectIndex===o&&(e.currentTarget=e.clickTarget=l.sp,e.target||(e.target=l.sp),e.event_type=t,e.selfX=(e.offsetX-l.co.x-l.sp.x)/(l.co.scaleX*l.sp.scaleX),e.selfY=(e.offsetY-l.co.y-l.sp.y)/(l.co.scaleY*l.sp.scaleY),l.listener.call(l._this?l._this:l,e,l.sp))}},{key:"dispatchEvent",value:function(e,t,n){var o=void 0,r=void 0,a=[],i=void 0,u=void 0,s=void 0;for(u=0,s=t.length;u<s;u++)if(o=t[u].container||t[u],this._mouseEnabled(o))if(r=this.getRootParams(o),n||!o.mouseEvent)if(o.ismouseon(e,r)){if(n===l.default.MOUSE_OUT)continue;if(n===l.default.MOUSE_OVER&&o.ll_mousein)continue;n!==l.default.MOUSE_UP&&(o.ll_mousein=!0),a.push({sp:o,co:r,listener:t[u].listener,_this:t[u]._this})}else{if(n!==l.default.MOUSE_OUT&&n!==l.default.MOUSE_OVER)continue;if(!o.ll_mousein)continue;o.ll_mousein=!1,a.push({sp:o,co:r,listener:t[u].listener,_this:t[u]._this})}else o.mouseEvent(e,l.default.MOUSE_DOWN,r);if(0!==a.length)for(a.length>1&&(a=a.sort(this._sort.bind(this))),s=a.length,u=0;u<s;u++)if(i=a[u],this._dispatchEvent(e,n,a,i.sp.objectIndex,u,this.dispatchAllEvent?s-1:u),u<a.length-1&&i.sp.objectIndex===a[u+1].sp.objectIndex)a.splice(u,1),u--;else{for(var f=void 0;f&&"root"!==f&&(f||(f=i.sp.parent,e.target=i.sp),f&&"root"!==f);)this._dispatchEvent(e,n,a,f.objectIndex,u+1,s),e.target=f,f=f.parent;if(!this.dispatchAllEvent)break}}},{key:"set",value:function(e,t){this.container[e]=t}},{key:"_sort",value:function(e,t){var n,o,r=void 0,a=void 0,i=this._getSort(e.sp),l=this._getSort(t.sp),u=void 0;for(u=0,n=i.length,o=l.length;u<n&&u<o;u++)if(r=i[u],a=l[u],r.objectIndex!==a.objectIndex)return a.parent.getChildIndex(a)-r.parent.getChildIndex(r);return l.length-i.length}},{key:"_getSort",value:function(e){for(var t=e.parent,n=[e];t&&"root"!==t;)n.unshift(t),t=t.parent;return n}}]),e}());s.set(l.default.MOUSE_DOWN,!0),s.set(l.default.MOUSE_UP,!0),s.set(l.default.MOUSE_MOVE,!0),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameEvent=t.ClientEvent=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=l(n(5)),a=l(n(1)),i=l(n(55));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.ClientEvent={READY:1,SHOOT:2,ATTACK:3},s=t.GameEvent={ROOM_IN:"roomIn",GAME_INIT:"gameInit"},f=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"gameStart",value:function(){var e=new a.default(s.ROOM_IN);e.enemyPlayer=this.enemy,this.dispatchEvent(e)}},{key:"onEvent",value:function(e,t,n){console.error("MasterClient",e,t);var o=void 0;switch(e){case u.SHOOT:console.error("this.client.myActor().getId()="+this.client.myActor().getId()),console.error("content.id="+t.id),this.client.myActor().getId()!==t.id&&((o=new a.default("ball:sendout")).x=t.eventObject.x,o.x=t.eventObject.x,o.speedX=t.eventObject.speedX,o.speedY=t.eventObject.speedY,this.dispatchEvent(o));break;case u.READY:this.client.myActor().getId()!==t.id&&this.client.myActor().setCustomProperty("ready",!0),this.player.getCustomProperty("ready")&&this.enemy.getCustomProperty("ready")&&((o=new a.default(s.GAME_INIT)).index=t.index,o.hert=t.hertValue,this.dispatchEvent(o))}}},{key:"shoot",value:function(e){this.client.raiseEventAll(u.SHOOT,{id:this.client.myActor().getId(),eventObject:{x:e.x,y:e.y,speedX:e.speedX,speedY:e.speedY}})}},{key:"attack",value:function(e,t){this.client.raiseEventAll(u.ATTACK,{id:this.client.myActor().getId(),index:e,hertValue:t})}},{key:"battleReady",value:function(){this.client.raiseEventAll(u.READY,{id:this.client.myActor().getId()})}},{key:"start",value:function(e,t,n){this.client.start(e,t,n)}},{key:"setClient",value:function(e,t){this.photonClient=e,this.aiClient=t}},{key:"enemy",get:function(){return this.client.myRoomActorsArray()[1]}},{key:"player",get:function(){return this.client.myRoomActorsArray()[0]}},{key:"playerId",get:function(){return this.player.id}},{key:"enemyId",get:function(){return this.enemy.id}},{key:"ai",set:function(e){this.client=e?this.aiClient:this.photonClient}}]),t}()),c=new window.PhotonClient(f),d=new i.default(f);f.setClient(c,d),t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=l(n(36)),a=l(n(58)),i=l(n(35));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"init",value:function(e){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),this._waitExecuteFuncs=[]}},{key:"nextFrameExecute",value:function(e){var t=this;this._timer||(this._timer=new a.default,this._timer.addEventListener(i.default.TIMER,function(){t._waitExecuteFuncsExecute()})),0===this._waitExecuteFuncs.length&&(this._timer.reset(),this._timer.start()),this._waitExecuteFuncs.push(e)}},{key:"_waitExecuteFuncsExecute",value:function(){if(0!==this._waitExecuteFuncs.length){for(var e=0;e<this._waitExecuteFuncs.length;e++){var t=this._waitExecuteFuncs[e];"function"==typeof t&&t()}this._waitExecuteFuncs.length=0}}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(2),a={None:{easeIn:function(e,t,n,o){return t+e*n/o},easeOut:function(e,t,n,o){return t+e*n/o},easeInOut:function(e,t,n,o){return t+e*n/o}},Quad:{easeIn:function(e,t,n,o){return n*(e/=o)*e+t},easeOut:function(e,t,n,o){return-n*(e/=o)*(e-2)+t},easeInOut:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},Cubic:{easeIn:function(e,t,n,o){return n*(e/=o)*e*e+t},easeOut:function(e,t,n,o){return n*((e=e/o-1)*e*e+1)+t},easeInOut:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}},Quart:{easeIn:function(e,t,n,o){return n*(e/=o)*e*e*e+t},easeOut:function(e,t,n,o){return-n*((e=e/o-1)*e*e*e-1)+t},easeInOut:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t}},Quint:{easeIn:function(e,t,n,o){return n*(e/=o)*e*e*e*e+t},easeOut:function(e,t,n,o){return n*((e=e/o-1)*e*e*e*e+1)+t},easeInOut:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}},Sine:{easeIn:function(e,t,n,o){return-n*Math.cos(e/o*(Math.PI/2))+n+t},easeOut:function(e,t,n,o){return n*Math.sin(e/o*(Math.PI/2))+t},easeInOut:function(e,t,n,o){return-n/2*(Math.cos(Math.PI*e/o)-1)+t}},Strong:{easeIn:function(e,t,n,o){return n*(e/=o)*e*e*e*e+t},easeOut:function(e,t,n,o){return n*((e=e/o-1)*e*e*e*e+1)+t},easeInOut:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}},Expo:{easeIn:function(e,t,n,o){return 0===e?t:n*Math.pow(2,10*(e/o-1))+t},easeOut:function(e,t,n,o){return e===o?t+n:n*(1-Math.pow(2,-10*e/o))+t},easeInOut:function(e,t,n,o){return 0===e?t:e===o?t+n:(e/=o/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t}},Circ:{easeIn:function(e,t,n,o){return-n*(Math.sqrt(1-(e/=o)*e)-1)+t},easeOut:function(e,t,n,o){return n*Math.sqrt(1-(e=e/o-1)*e)+t},easeInOut:function(e,t,n,o){return(e/=o/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t}},Elastic:{easeIn:function(e,t,n,o,r,a){var i=void 0;return 0===e?t:1==(e/=o)?t+n:(a||(a=.3*o),!r||r<Math.abs(n)?(r=n,i=a/4):i=a/(2*Math.PI)*Math.asin(n/r),-r*Math.pow(2,10*(e-=1))*Math.sin((e*o-i)*(2*Math.PI)/a)+t)},easeOut:function(e,t,n,o,r,a){var i=void 0;return 0===e?t:1==(e/=o)?t+n:(a||(a=.3*o),!r||r<Math.abs(n)?(r=n,i=a/4):i=a/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*e)*Math.sin((e*o-i)*(2*Math.PI)/a)+n+t)},easeInOut:function(e,t,n,o,r,a){var i=void 0;return 0===e?t:2==(e/=o/2)?t+n:(a||(a=o*(.3*1.5)),!r||r<Math.abs(n)?(r=n,i=a/4):i=a/(2*Math.PI)*Math.asin(n/r),e<1?r*Math.pow(2,10*(e-=1))*Math.sin((e*o-i)*(2*Math.PI)/a)*-.5+t:r*Math.pow(2,-10*(e-=1))*Math.sin((e*o-i)*(2*Math.PI)/a)*.5+n+t)}},Back:{easeIn:function(e,t,n,a,i){return(void 0===i?"undefined":o(i))===r.UNDEFINED&&(i=1.70158),n*(e/=a)*e*((i+1)*e-i)+t},easeOut:function(e,t,n,a,i){return(void 0===i?"undefined":o(i))===r.UNDEFINED&&(i=1.70158),n*((e=e/a-1)*e*((i+1)*e+i)+1)+t},easeInOut:function(e,t,n,a,i){return(void 0===i?"undefined":o(i))===r.UNDEFINED&&(i=1.70158),(e/=a/2)<1?n/2*(e*e*((1+(i*=1.525))*e-i))+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t}},Bounce:{easeIn:function(e,t,n,o){return n-a.Bounce.easeOut(o-e,0,n,o)+t},easeOut:function(e,t,n,o){return(e/=o)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOut:function(e,t,n,o){return e<o/2?.5*a.Bounce.easeIn(2*e,0,n,o)+t:.5*a.Bounce.easeOut(2*e-o,0,n,o)+.5*n+t}}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(21)),a=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.type="LBitmap",n.rotateCenter=!0,n.bitmapData=e,n.bitmapData&&(n.width=n.bitmapData.width,n.height=n.bitmapData.height),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"_canShow",value:function(){return this.visible&&this.bitmapData}},{key:"_rotateReady",value:function(){var e=this;0!==e.rotate&&e.rotateCenter?(e.rotatex=.5*e.getWidth(),e.rotatey=.5*e.getHeight()):e.rotatex=e.rotatey=0}},{key:"_coordinate",value:function(e){}},{key:"_ll_show",value:function(e){this.ll_draw(e)}},{key:"ll_draw",value:function(e){var t=this;a.default.LGlobal.fpsStatus&&a.default.LGlobal.fpsStatus.bitmapData++,e.drawImage(t.bitmapData.image,t.bitmapData.x,t.bitmapData.y,t.bitmapData.width,t.bitmapData.height,t.x,t.y,t.bitmapData.width,t.bitmapData.height)}},{key:"clone",value:function(){var e=this,n=new t(e.bitmapData.clone());return n.copyProperty(e),n.rotateCenter=e.rotateCenter,n}},{key:"ismouseon",value:function(e,t){var n=this;return!!e&&(!(!n.visible||!n.bitmapData)&&(!(n.mask&&(n.mask.parent||(n.mask.parent=n.parent),!n.mask.ismouseon(e,t)))&&n.ismouseonShapes([{type:a.default.LShape.RECT,arg:[0,0,n.bitmapData.width,n.bitmapData.height]}],e.offsetX,e.offsetY)))}},{key:"getWidth",value:function(e){var t,n=this,o=void 0,r=void 0;return t=n.bitmapData?n.bitmapData.width*(n.scaleX>0?n.scaleX:-n.scaleX):0,e&&n.mask?(o=n.mask._startX?n.mask._startX():n.mask.startX())>t?0:o+(r=n.mask.getWidth())>t?t-o:r:t}},{key:"getHeight",value:function(e){var t,n=this,o=void 0,r=void 0;return t=n.bitmapData?n.bitmapData.height*(n.scaleY>0?n.scaleY:-n.scaleY):0,e&&n.mask?(o=n.mask._startY?n.mask._startY():n.mask.startY())>t?0:o+(r=n.mask.getHeight())>t?t-o:r:t}},{key:"startX",value:function(){return this.x}},{key:"startY",value:function(){return this.y}},{key:"die",value:function(){}}]),t}();a.default.LBitmap=l,t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=u(n(31)),a=u(n(1)),i=u(n(77)),l=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.LEventDispatcher),o(t,[{key:"destroy",value:function(){delete t._container[name]}},{key:"load",value:function(e,t){var n=this,o=[{name:e+"/"+t+".png",path:this.url(e+"/"+t+".png")},{name:e+"/"+t+".plist",path:this.url(e+"/"+t+".plist"+(l.default.LGlobal.wx?".meta":"")),type:"text"},{name:e+"/"+t+".json",path:this.url(e+"/"+t+".json"),type:"text"}];r.default.load(o,null,function(o){n._loadComplete(o,e,t)})}},{key:"url",value:function(e){return l.default.LGlobal.traceDebug?e+(e.indexOf("?")>=0?"&":"?")+"t="+Date.now():e}},{key:"_loadComplete",value:function(e,n,o){var r=n.indexOf("resources/");this._atlasKey=n.substring(r+"resources/".length)+"/"+o,t._container[this._atlasKey]=this;var i=e[n+"/"+o+".png"],l=e[n+"/"+o+".plist"],u=JSON.parse(e[n+"/"+o+".json"]);this.set(l,i,u);var s=new a.default(a.default.COMPLETE);s.currentTarget=this,s.target=this,this.dispatchEvent(s)}},{key:"set",value:function(e,t,n){this._texture=t,this._setting=n,this._initData(e)}},{key:"_initData",value:function(e){if(l.default.LGlobal.wx)this._textureData=JSON.parse(e);else{var t=new DOMParser;this.xmlDom=t.parseFromString(e,"text/xml");for(var n=this.xmlDom.querySelector("plist").querySelector("dict").children,o=void 0,r=0;r<n.length;r++){var a=n[r];if("key"===a.tagName&&"frames"===a.textContent){o=n[r+1].children;break}}this._textureData={};for(var i=0;i<o.length;i+=2){var u=o[i].textContent.replace(".png",""),s=o[i+1],f=this._getTextureData(s.children);this._textureData[u]=f}}}},{key:"getSprite",value:function(e,t,n,o){var r=this._textureData[e],a=new i.default(this._texture,this._setting[e],r,t);return n&&o&&a.resize(n,o),a}},{key:"_getTextureData",value:function(e){for(var t={},n=0;n<e.length;n+=2){var o=e[n].textContent,r=e[n+1],a=JSON.parse("string"===r.tagName?r.textContent.replace(/\{/g,"[").replace(/\}/g,"]"):r.tagName);t[o]=a}return t}}]),t}();s.TYPE_PLIST="type_plist",s._container={},s.get=function(e){return s._container[e]||new s},l.default.LAtlas=s,t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=l(n(5)),a=l(n(29)),i=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LLoader",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"load",value:function(e,n,o){var r=this;if(n||(n=t.TYPE_BITMAPDATE),r.loadtype=n,r.useXHR=o&&!a.default.local&&a.default.canUseBlob,n===t.TYPE_BITMAPDATE){var l=t.get(e);if(l)return void setTimeout(function(){r.dispatchCompleteEvent(l)});r.useXHR?(a.default.responseType=a.default.ARRAY_BUFFER,a.default.progress=function(e){var t=new i.default(i.default.PROGRESS);t.currentTarget=r,t.target=e.currentTarget,t.loaded=e.loaded,t.total=e.total,t.responseURL=e.responseURL,r.dispatchEvent(t)},a.default.post(e,{},function(t){var n=void 0;try{n=new Blob([t],{type:"image/png"})}catch(e){if("TypeError"===e.name&&window.BlobBuilder){var o=new BlobBuilder;o.append(t),n=o.getBlob()}else n=null,r.useXHR=!1}r.useXHR&&(e=r.createObjectURL(n)),r.loadStart(e)},function(e){var t=new i.default(i.default.ERROR);t.currentTarget=r,t.target=e,t.responseURL=e.responseURL,r.dispatchEvent(t)})):r.loadStart(e)}}},{key:"dispatchCompleteEvent",value:function(e){var t=new i.default(i.default.COMPLETE);t.currentTarget=this,t.target=e,this.useXHR&&this.revokeObjectURL(e.src),this.dispatchEvent(t)}},{key:"loadStart",value:function(e){var n=this;n.content=new Image,n.content.onload=function(){n.content.onload=null,n.dispatchCompleteEvent(n.content),t._container[e]=n.content,delete n.content},n.useXHR||(n.content.onerror=function(e){var t=new i.default(i.default.ERROR);t.currentTarget=n,t.target=e.target,t.responseURL=e.target.src,n.dispatchEvent(t)}),n.content.src=e}},{key:"createObjectURL",value:function(e){return(window.URL||window.webkitURL).createObjectURL(e)}},{key:"revokeObjectURL",value:function(e){(window.URL||window.webkitURL).revokeObjectURL(e)}}]),t}();u.TYPE_BITMAPDATE="bitmapData",u._container={},u.get=function(e){return u._container[e]},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(2),i=u(n(9)),l=u(n(79));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.responseType=null,window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,this.canUseBlob=window.Blob||window.BlobBuilder;var t=location.protocol;this.local=!("http:"===t||"https:"===t),this.TEXT="text",this.JSON="json",this.ARRAY_BUFFER="arraybuffer",this.BLOB="blob"}return r(e,[{key:"get",value:function(e,t,n,o){this.getRequest("GET",e,t,n,o)}},{key:"post",value:function(e,t,n,o){this.getRequest("POST",e,t,n,o)}},{key:"getRequest",value:function(e,t,n,o,r){var a=this,i=void 0,l="",u="";a.err=r;var s=t.indexOf("http")<0,f=a.getHttp(s);if(f){if(n)for(i in n)l+=u+i+"="+n[i],u="&";"get"===e.toLowerCase()&&l.length>0&&(t+=(t.indexOf("?")>=0?"&":"?")+l,l=null),f.onerror=function(e){r&&(r(e),r=null)};var c=a.progress;if(a.progress=null,f.addEventListener||(f.addEventListener=function(e,t){f["on"+e]=t}),f.addEventListener("progress",function(e){404===e.currentTarget.status?r&&(r(e.currentTarget),r=null):200===e.currentTarget.status&&c&&c(e)},!1),f.open(e,t,!0),a.responseType){if(a.responseType===a.JSON)try{f.responseType=a.responseType}catch(e){f.responseType=a.TEXT,f._responseType="json"}else f.responseType=a.responseType;a.responseType=a.TEXT}f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.onreadystatechange=function(e){var t=e.currentTarget;4===t.readyState&&(t.status>=200&&t.status<300||304===t.status?o&&(t._responseType===a.JSON?(t._responseType=a.TEXT,o(JSON.parse(t.responseText))):t.responseType===a.ARRAY_BUFFER||t.responseType===a.BLOB||t.responseType===a.JSON?o(t.response):t.responseText.length>0?o(t.responseText):o(null)):r&&(r(t),r=null))},f.send(l)}}},{key:"getHttp",value:function(e){if(i.default.wx&&e)return new l.default;if(("undefined"==typeof XMLHttpRequest?"undefined":o(XMLHttpRequest))!==a.UNDEFINED)return new XMLHttpRequest;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){this.err||this.err(e)}}return!1}}]),e}();t.default=new s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=u(n(5)),a=u(n(1)),i=n(15),l=u(n(29));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LURLLoader",e.loadtype="",e.content=null,e.event={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"load",value:function(e,n){var o=this,r=void 0,u=void 0;if(n||("txt"===(u=(0,i.getExtension)(e))?n=t.TYPE_TEXT:"js"===u&&(n=t.TYPE_JS)),o.loadtype=n,n===t.TYPE_TEXT)l.default.progress=function(e){var t=new a.default(a.default.PROGRESS);t.currentTarget=o,t.target=e.currentTarget,t.loaded=e.loaded,t.total=e.total,t.responseURL=e.responseURL,o.dispatchEvent(t)},l.default.get(e,{},function(e){r=new a.default(a.default.COMPLETE),o.data=e,r.currentTarget=o,r.target=e,o.dispatchEvent(r),delete o.content,delete o.data},function(e){var t=new a.default(a.default.ERROR);t.currentTarget=o,t.target=e,t.responseURL=e.responseURL,o.dispatchEvent(t)});else if(n===t.TYPE_JS){var s=document.createElement("script");s.onerror=function(t){var n=new a.default(a.default.ERROR);n.currentTarget=o,n.target=t.target,n.responseURL=e,o.dispatchEvent(n)},s.onload=function(){(r=new a.default(a.default.COMPLETE)).currentTarget=o,r.target=o,o.dispatchEvent(r),delete o.content},s.src=e,s.type="text/javascript",document.querySelector("head").appendChild(s)}}}]),t}();s.TYPE_TEXT="text",s.TYPE_JS="js",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(15),a=s(n(30)),i=s(n(78)),l=s(n(28)),u=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.llname="ll.file.",e.llload="ll.load.",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.LEventDispatcher),o(t,[{key:"load",value:function(e,t,n){var o=this;if(!e||0===e.length){var r=new u.default.LEvent(u.default.LEvent.COMPLETE);return r.currentTarget=o,r.target={},void o.dispatchEvent(r)}o.list=e,o.onupdate=t,o.oncomplete=n,o.loader=o,o.index=0,o.loadIndex=0,o.result=[],o.lresult=[],o.loadInit()}},{key:"loadInit",value:function(){var e=this;e.index>=e.list.length||(e.loadIndex=0,e.loadStart(),e.reloadtime=setTimeout(e.loadInit.bind(e),1e4))}},{key:"loadStart",value:function(){var e=this,t=void 0,n=void 0;e.loadIndex>=e.list.length||(void 0===(t=e.list[e.loadIndex]).progress&&(t.progress=0),t.name||(t.name=e.llname+e.loadIndex),e.lresult[e.llload+t.name]||(t.type||("txt"===(n=(0,r.getExtension)(t.path))?t.type=a.default.TYPE_TEXT:"js"===n?t.type=a.default.TYPE_JS:new Array("mp3","ogg","wav","m4a").indexOf(n)>=0&&(t.type=u.default.LSound.TYPE_SOUND)),t.type===a.default.TYPE_TEXT||t.type===a.default.TYPE_JS?(e.loader=new a.default,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(u.default.LEvent.PROGRESS,e._loadProgress),e.loader.addEventListener(u.default.LEvent.ERROR,e._loadError),e.loader.addEventListener(u.default.LEvent.COMPLETE,e._loadComplete),e.loader.load(e.url(t.path),t.type)):t.type===u.default.LSound.TYPE_SOUND?(e.loader=new u.default.LSound,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(u.default.LEvent.PROGRESS,e._loadProgress),e.loader.addEventListener(u.default.LEvent.ERROR,e._loadError),e.loader.addEventListener(u.default.LEvent.COMPLETE,e._loadComplete),u.default.LSound.webAudioEnabled||u.default.LGlobal.wx?e.loader.load(t.path):(u.default.LSound.addWait(e.loader,t.path),e.loader.dispatchEvent(u.default.LEvent.COMPLETE))):t.type===u.default.LAtlas.TYPE_PLIST?(e.loader=new u.default.LAtlas,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(u.default.LEvent.PROGRESS,e._loadProgress),e.loader.addEventListener(u.default.LEvent.ERROR,e._loadError),e.loader.addEventListener(u.default.LEvent.COMPLETE,e._loadComplete),e.loader.load(t.path,t.name)):t.type===i.default.TYPE_FONT?(e.loader=new i.default,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(u.default.LEvent.ERROR,e._loadError),e.loader.addEventListener(u.default.LEvent.COMPLETE,e._loadComplete),e.loader.load(t.path,t.name)):(e.loader=new l.default,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(u.default.LEvent.PROGRESS,e._loadProgress),e.loader.addEventListener(u.default.LEvent.ERROR,e._loadError),e.loader.addEventListener(u.default.LEvent.COMPLETE,e._loadComplete),e.loader.load(e.url(t.path),l.default.TYPE_BITMAPDATE,t.useXHR)),e.loader._loadIndex=e.loadIndex),e.loadIndex++,e.loadStart())}},{key:"_loadProgress",value:function(e){var t=e.currentTarget,n=t.parent;n.list[t._loadIndex].progress=e.loaded/e.total;for(var o=0,r=0,a=n.list.length;r<a;r++)o+=n.list[r].progress;var i=new u.default.LEvent(u.default.LEvent.PROGRESS);i.currentTarget=n,i.target=e.currentTarget,i.loaded=o,i.total=n.list.length,i.responseURL=e.responseURL,n.dispatchEvent(i)}},{key:"_loadError",value:function(e){var t=e.currentTarget,n=t.parent;delete t.parent,t.removeEventListener(u.default.LEvent.ERROR,n._loadError);var o=new u.default.LEvent(u.default.LEvent.ERROR);o.currentTarget=n,o.target=e.target,o.responseURL=e.responseURL,n.dispatchEvent(o)}},{key:"_loadComplete",value:function(e){var t=e.currentTarget.parent;if(t){if(e&&e.currentTarget.name){if(e.currentTarget.removeEventListener(u.default.LEvent.COMPLETE,t._loadComplete),e.currentTarget.name.indexOf(t.llname)>=0&&(e.target=1),t.lresult[t.llload+e.currentTarget.name])return;t.result[e.currentTarget.name]=e.target,t.lresult[t.llload+e.currentTarget.name]=1}if(t.index++,e.loaded=e.total=1,t._loadProgress(e),delete e.currentTarget.parent,t.index>=t.list.length){t.reloadtime&&clearTimeout(t.reloadtime);var n=new u.default.LEvent(u.default.LEvent.COMPLETE);n.currentTarget=t,n.target=t.result,t.dispatchEvent(n),u.default.LGlobal.forceRefresh=!0}}}},{key:"url",value:function(e){return u.default.LGlobal.traceDebug?e+(e.indexOf("?")>=0?"&":"?")+"t="+(new Date).getTime():e}}]),t}();f.load=function(e,t,n,o){var r=new f;t&&r.addEventListener(u.default.LEvent.PROGRESS,function(e){t((100*e.loaded/e.total).toFixed(2))}),n&&r.addEventListener(u.default.LEvent.COMPLETE,function(e){n(e.target)}),o&&r.addEventListener(u.default.LEvent.ERROR,o),r.load(e)},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0},a=u(n(21)),i=u(n(22)),l=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LInteractiveObject",e.mouseEnabled=!0,e.mouseList=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"addEventListener",value:function(e,t,n){var o=this;if(e.indexOf("mouse")>=0||e.indexOf("touch")>=0||e===l.default.DOUBLE_CLICK){if(i.default.container[e]||(e===l.default.MOUSE_OVER||e===l.default.MOUSE_OUT)&&i.default.container[l.default.MOUSE_MOVE])return void i.default.addMouseEvent(o,e,t,n);o.mouseList.push({listener:t,type:e,_this:n})}else o._eventList.push({listener:t,type:e,_this:n})}},{key:"removeEventListener",value:function(e,n){var o=this,a=void 0,u=void 0;if(!(e.indexOf("mouse")>=0||e.indexOf("touch")>=0||e===l.default.DOUBLE_CLICK))return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeEventListener",this).call(this,e,n);if(i.default.container[e]||(e===l.default.MOUSE_OVER||e===l.default.MOUSE_OUT)&&i.default.container[l.default.MOUSE_MOVE])i.default.removeMouseEvent(o,e,n);else for(u=o.mouseList.length,a=0;a<u;a++)if(o.mouseList[a]&&e===o.mouseList[a].type&&o.mouseList[a].listener===n)return void o.mouseList.splice(a,1)}},{key:"removeAllEventListener",value:function(){var e=this;e.mouseList.length=0,e._eventList.length=0,i.default.container[l.default.MOUSE_DOWN]&&i.default.removeMouseEvent(e,l.default.MOUSE_DOWN),i.default.container[l.default.MOUSE_UP]&&i.default.removeMouseEvent(e,l.default.MOUSE_UP),i.default.container[l.default.MOUSE_MOVE]&&(i.default.removeMouseEvent(e,l.default.MOUSE_MOVE),i.default.removeMouseEvent(e,l.default.MOUSE_OVER),i.default.removeMouseEvent(e,l.default.MOUSE_OUT))}},{key:"hasEventListener",value:function(e,n){var o=this,a=void 0,u=void 0;if(i.default.container[e])return i.default.hasEventListener(o,e,n);if(!(e.indexOf("mouse")>=0||e.indexOf("touch")>=0||e===l.default.DOUBLE_CLICK))return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"hasEventListener",this).call(this,e,n);for(u=o.mouseList.length,a=0;a<u;a++)if(o.mouseList[a]&&e===o.mouseList[a].type&&(!n||o.mouseList[a].listener===n))return!0;return!1}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(3)),a=i(n(34));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"init",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this),this._focus=!1}},{key:"_iconReset",value:function(e){var t=this.currentButton.upState.getChildAt(1);e?t.resize(100,100):t.resize(80,80),t.x=.5*(this.widgetWidth-t.widgetWidth),t.y=this.widgetHeight-t.widgetHeight}},{key:"focusOn",value:function(){this._focus||(this._focus=!0,this.currentButton.upState.resize(190,this.widgetHeight),this._iconReset(!0))}},{key:"focusOff",value:function(){this._focus&&(this._focus=!1,this.currentButton.upState.resize(150,this.widgetHeight),this._iconReset(!1))}},{key:"focus",get:function(){return this._focus}}]),t}();r.default.set("FooterMenuButtonView",l),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0},a=f(n(13)),i=f(n(49)),l=f(n(4)),u=f(n(3)),s=f(n(14));function f(e){return e&&e.__esModule?e:{default:e}}var c="sprite",d="scale",h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"init",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e)}},{key:"updateView",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateView",this).call(this);var e=this.button;e.onMouseDown&&this._addMouseEvent(l.default.MOUSE_DOWN,e.onMouseDown),e.onMouseMove&&this._addMouseEvent(l.default.MOUSE_MOVE,e.onMouseMove),e.onMouseUp&&this._addMouseEvent(l.default.MOUSE_UP,e.onMouseUp)}},{key:"_addMouseEvent",value:function(e,t){var n=this.getTarget(t.target);n&&this.addEventListener(e,function(e){n[t.method](e,t.param)})}},{key:"_initDataChildNodes",value:function(e){if(e.property&&e.property.button){var t=[],n=[],o=e.property.button;t.push(o.upState),o.transition===c&&(o.overState&&t.push(o.overState),o.downState&&t.push(o.downState),o.disableState&&t.push(o.disableState));var r=!0,a=!1,l=void 0;try{for(var u,f=t[Symbol.iterator]();!(r=(u=f.next()).done);r=!0){var h=u.value,p=s.default.create(h);n.push(p),p instanceof s.default&&p.lateInit()}}catch(e){a=!0,l=e}finally{try{!r&&f.return&&f.return()}finally{if(a)throw l}}for(var y=n.length-1;y<4;y++)n.push(null);var v=new i.default(n[0],n[1],n[2],n[3]);o.transition!==d&&(v.staticMode=!0),this.addChild(v)}}},{key:"widgetWidth",get:function(){return this._widgetWidth?this._widgetWidth:this.currentButton.upState.widgetWidth?this.currentButton.upState.widgetWidth:this.currentButton.upState.getWidth()}},{key:"widgetHeight",get:function(){return this._widgetHeight?this._widgetHeight:this.currentButton.upState.widgetHeight?this.currentButton.upState.widgetHeight:this.currentButton.upState.getHeight()}},{key:"currentButton",get:function(){return this.getChildAt(0)}}]),t}();u.default.set("BindButtonView",h),t.default=h},function(e,t,n){"use strict";function o(){throw"LTimerEvent cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.TIMER="timer",o.TIMER_COMPLETE="timerComplete",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(14)),a=i(n(8));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"init",value:function(e){var n=this;(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),this.dispatcher=this.dispatcher||{},this.onLoad(e.request),setTimeout(function(){n.widget&&a.default.currentScene&&a.default.currentScene.nextFrameExecute(function(){n.widgetInit()})})}},{key:"onLoad",value:function(e){}},{key:"onLoadEnd",value:function(){}},{key:"isController",get:function(){return!0}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=u(n(70)),i=u(n(1)),l=n(2);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,null,e,n)),r=o;r.type="LAnimationTimeline",r.speed=0,r._speedIndex=0,r.ll_labelList={};for(var a,l,u,s=0;s<n.length;s++)for(a=n[s],l=0;l<a.length;l++)(u=a[l]).label&&r.setLabel(u.label,s,l,1,!!u.isMirror);return r.addEventListener(i.default.ENTER_FRAME,r._ll_onframe),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"clone",value:function(){var e=this,t=void 0,n=void 0,o=new e.constructor(e.bitmapList,e.imageArray.slice(0));for(t in o.copyProperty(e),o.childList.length=0,o.bitmap=e.bitmap.clone(),o.addChild(o.bitmap),e.ll_labelList)n=e.ll_labelList[t],o.ll_labelList[t]={rowIndex:n.rowIndex,colIndex:n.colIndex,mode:n.mode,isMirror:n.isMirror};return o}},{key:"setFrameSpeedAt",value:function(e,t,n){var o=this;o._ll_stepArray[e]||(o._ll_stepArray[e]=[]),o._ll_stepArray[e][t]=n}},{key:"_ll_onframe",value:function(e){var t=e.target;t._ll_stop||t._speedIndex++<t.speed||t._send_complete&&(t.dispatchEvent(i.default.COMPLETE),t._send_complete=!1,t._ll_stop)||(t._speedIndex=0,t.onframe())}},{key:"setLabel",value:function(e,t,n,r,a){this.ll_labelList[e]={rowIndex:t,colIndex:n,mode:(void 0===r?"undefined":o(r))===l.UNDEFINED?1:r,isMirror:(void 0===a?"undefined":o(a))!==l.UNDEFINED&&a}}},{key:"play",value:function(){this._ll_stop=!1}},{key:"stop",value:function(){this._ll_stop=!0}},{key:"gotoAndPlay",value:function(e){var t=this,n=t.ll_labelList[e];t.setAction(n.rowIndex,n.colIndex,n.mode,n.isMirror),t.play(),t.onframe()}},{key:"gotoAndStop",value:function(e){var t=this,n=t.ll_labelList[e];t.setAction(n.rowIndex,n.colIndex,n.mode,n.isMirror),t.stop(),t.onframe()}},{key:"addFrameScript",value:function(e,t,n,o){var r=this.ll_labelList[e],a=this.imageArray[r.rowIndex][r.colIndex];a.script||(a.script=[]),a.script.push({func:t,params:n,name:e,_this:o})}},{key:"removeFrameScript",value:function(e){var t=this.ll_labelList[e],n=void 0,o=void 0;if(n=this.imageArray[t.rowIndex][t.colIndex].script)for(o=0;o<n.length;o++)if(n[o].name===e){n.splice(o,1);break}}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CHARACTER_IMG=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=p(n(6)),a=p(n(72)),i=p(n(1)),l=p(n(9)),u=p(n(19)),s=p(n(37)),f=p(n(28)),c=n(39),d=p(n(7)),h=p(n(18));function p(e){return e&&e.__esModule?e:{default:e}}var y=t.DEFAULT_CHARACTER_IMG="character-default",v=48,b=48,_="stand",g="move",m="attack",w="attack_start",O="block",E="hert",x="wake",L="pant",T="levelup",S="magic_attack",k={DOWN:"down",LEFT:"left",RIGHT:"right",UP:"up"},P={"-1,0":k.LEFT,"0,-1":k.UP,"0,1":k.DOWN,"1,0":k.RIGHT},j="moveComplete",I="attackActionComplete",C=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=e.id,r=e.level,a=e.belong,i=e.index;return n.id=o,n.level=r,n.belong=a,n.index=i,n._init(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"_init",value:function(){this.model=new a.default(this.id,this.level),this.step=this.stepX=8,this.stepY=6,this.to=new d.default(0,0),this.layer=new r.default,this.addChild(this.layer),this.hpLayer=new r.default,this.hpLayer.x=.5*(32*this.model.width-64),this.hpLayer.y=24*this.model.height-10,this.hpLayer.graphics.drawRect(1,"#000000",[0,0,64,5],!0,"#008800"),this.hpLayer.graphics.drawRect(1,"#000000",[0,5,64,5],!0,"#FF0000"),this.addChild(this.hpLayer),this.layer.addEventListener(i.default.ENTER_FRAME,this._onframe,this),this._addAnimation(),this.setActionDirection(_,this.belong?k.UP:k.DOWN)}},{key:"setActionDirection",value:function(e,t){if(this.action!==e||this.direction!==t){this.anime._send_complete=!1;var n=e+"-"+t;this.anime.gotoAndPlay(n),this.action=e,this.direction=t}}},{key:"changeAction",value:function(e){this.setActionDirection(e,this.direction)}},{key:"changeDirection",value:function(e){this.setActionDirection(this.action,e)}},{key:"setMoveDirection",value:function(e,t){var n=P[e+","+t];this.setActionDirection(g,n)}},{key:"setCoordinate",value:function(e,t){this.x=this.to.x=e,this.y=this.to.y=t}},{key:"setRoad",value:function(e){this.roads=e,this.to.x===this.x&&this.to.y===this.y&&this._setTo()}},{key:"_setTo",value:function(){var e=this.roads.shift();this.to.x=e.x*this.w,this.to.y=e.y*this.h}},{key:"_getValue",value:function(e,t){return e===t?0:e<t?1:-1}},{key:"_onframe",value:function(e){if(this.to&&(this.x!==this.to.x||this.y!==this.to.y)){this.x!==this.to.x?this.step=this.stepX:this.step=this.stepY;var t=this._getValue(this.x,this.to.x),n=this._getValue(this.y,this.to.y);this.x+=this.step*t,this.y+=this.step*n*this.h/this.w;var o=this._getValue(this.x,this.to.x),r=this._getValue(this.y,this.to.y);if(t!==o||n!==r){if(0===this.roads.length)return this.x=this.to.x,this.y=this.to.y,this.changeAction(_),void this.dispatchEvent(j);var a=this.roads[0],i=this._getValue(this.to.x,a.x),l=this._getValue(self.to.y,a.y);t===i&&n===l||(this.x=this.to.x,this.y=this.to.y),this.roads.length>0&&this._setTo()}this.setMoveDirection(t,n)}}},{key:"_loadImage",value:function(){var e=new f.default;e.addEventListener(i.default.COMPLETE,this._loadImageComplete,this),e.load("./resources/images/"+this.id+".png",f.default.TYPE_BITMAPDATE)}},{key:"_loadImageComplete",value:function(e){var n=new u.default(e.target),o=n.height;console.log("height=",o,this.model.width,.5*(32*this.model.width-o));var r=this.anime.bitmap.bitmapData;n.setProperties(o*r.x/r.height>>>0,0,o,o),this.anime.bitmap.bitmapData=n,this.anime.x=.5*(32*this.model.width-o),this.anime.y=this.model.y,this.anime.setList(t._getAnimationData(28*o,o)),this.addShape(h.default.RECT,[0,0,32*this.model.width,24*this.model.height])}},{key:"_addAnimation",value:function(){var e=new u.default(c.Common.datalist[y],0,0,v,b);for(var n in this.anime=new s.default(e,t._getAnimationData()),this.anime.speed=4,this.layer.addChild(this.anime),t._setAnimationLabel(this.anime),this.anime.setFrameSpeedAt(13,0,2),this.anime.addEventListener(i.default.COMPLETE,this._actionComplete),k)this.anime.addFrameScript(w+"-"+k[n],this._attackToHert,[]);this._loadImage()}},{key:"_actionComplete",value:function(){}},{key:"_attackToHert",value:function(){this.dispatchEvent(I)}}]),t}();C._getAnimationData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1792,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=l.default.divideCoordinate(e,t,1,28);return[[n[0][0],n[0][1],n[0][2],n[0][3],n[0][3]],[n[0][4],n[0][5],n[0][6],n[0][7],n[0][7]],[n[0][8],n[0][9],n[0][10],n[0][11],n[0][11]],[n[0][12],n[0][13]],[n[0][14],n[0][15]],[n[0][16],n[0][17]],[n[0][18]],[n[0][19]],[n[0][20]],[n[0][21],n[0][22]],[n[0][23],n[0][23]],[n[0][24],n[0][24]],[n[0][25],n[0][25]],[n[0][26],n[0][26]],[n[0][27]],[n[0][18],n[0][23],n[0][18],n[0][23],n[0][27],n[0][27],n[0][27]],[n[0][19],n[0][24],n[0][19],n[0][24],n[0][27],n[0][27],n[0][27]],[n[0][20],n[0][25],n[0][20],n[0][25],n[0][27],n[0][27],n[0][27]],[n[0][0]],[n[0][4]],[n[0][8]]]},C._setAnimationLabel=function(e){e.setLabel(m+"-"+k.DOWN,0,0,1,!1),e.setLabel(m+"-"+k.UP,1,0,1,!1),e.setLabel(m+"-"+k.LEFT,2,0,1,!1),e.setLabel(m+"-"+k.RIGHT,2,0,1,!0),e.setLabel(w+"-"+k.DOWN,0,3,1,!1),e.setLabel(w+"-"+k.UP,1,3,1,!1),e.setLabel(w+"-"+k.LEFT,2,3,1,!1),e.setLabel(w+"-"+k.RIGHT,2,3,1,!0),e.setLabel(g+"-"+k.DOWN,3,0,1,!1),e.setLabel(g+"-"+k.UP,4,0,1,!1),e.setLabel(g+"-"+k.LEFT,5,0,1,!1),e.setLabel(g+"-"+k.RIGHT,5,0,1,!0),e.setLabel(_+"-"+k.DOWN,6,0,1,!1),e.setLabel(_+"-"+k.UP,7,0,1,!1),e.setLabel(_+"-"+k.LEFT,8,0,1,!1),e.setLabel(_+"-"+k.RIGHT,8,0,1,!0),e.setLabel(L+"-"+k.DOWN,9,0,1,!1),e.setLabel(L+"-"+k.UP,9,0,1,!1),e.setLabel(L+"-"+k.LEFT,9,0,1,!1),e.setLabel(L+"-"+k.RIGHT,9,0,1,!1),e.setLabel(O+"-"+k.DOWN,10,0,1,!1),e.setLabel(O+"-"+k.UP,11,0,1,!1),e.setLabel(O+"-"+k.LEFT,12,0,1,!1),e.setLabel(O+"-"+k.RIGHT,12,0,1,!0),e.setLabel(E+"-"+k.DOWN,13,0,1,!1),e.setLabel(E+"-"+k.UP,13,0,1,!1),e.setLabel(E+"-"+k.LEFT,13,0,1,!1),e.setLabel(E+"-"+k.RIGHT,13,0,1,!1),e.setLabel(x+"-"+k.DOWN,14,0,1,!1),e.setLabel(x+"-"+k.UP,14,0,1,!1),e.setLabel(x+"-"+k.LEFT,14,0,1,!1),e.setLabel(x+"-"+k.RIGHT,14,0,1,!1),e.setLabel(T+"-"+k.DOWN,15,0,1,!1),e.setLabel(T+"-"+k.UP,16,0,1,!1),e.setLabel(T+"-"+k.LEFT,17,0,1,!1),e.setLabel(T+"-"+k.RIGHT,17,0,1,!0),e.setLabel(S+"-"+k.DOWN,18,0,1,!1),e.setLabel(S+"-"+k.UP,19,0,1,!1),e.setLabel(S+"-"+k.LEFT,20,0,1,!1),e.setLabel(S+"-"+k.RIGHT,20,0,1,!0)},t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Common={datalist:{}}},function(e,t,n){"use strict";function o(){throw"LStageAlign cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.TOP="T",o.BOTTOM="B",o.LEFT="L",o.RIGHT="Re",o.TOP_LEFT="TL",o.TOP_RIGHT="TR",o.TOP_MIDDLE="TM",o.BOTTOM_LEFT="BL",o.BOTTOM_RIGHT="BR",o.BOTTOM_MIDDLE="BM",o.MIDDLE="M",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t||0,this.y=n||0}return o(e,[{key:"length",value:function(){var e=this;return Math.sqrt(e.x*e.x+e.y*e.y)}},{key:"normalize",value:function(){var t=this,n=t.length();return new e(t.x/n,t.y/n)}},{key:"normR",value:function(){return new e(-this.y,this.x)}},{key:"normL",value:function(){return new e(this.y,-this.x)}}]),e}();r.dot=function(e,t){return e.x*t.x+e.y*t.y},r.cross=function(e,t){return e.x*t.y-e.y*t.x},r.distance=function(e,t){var n=e.x-t.x,o=e.y-t.y;return Math.sqrt(n*n+o*o)},r.getMinMax=function(e,t){for(var n=r.dot(e[0],t),o=r.dot(e[0],t),a=0,i=0,l=1;l<e.length;l++){var u=r.dot(e[l],t);n>u&&(n=u,a=l),o<u&&(o=u,i=l)}return{min_o:n,min_i:a,max_o:o,max_i:i}},t.default=r},function(e,t,n){"use strict";function o(){throw"LFocusEvent cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.FOCUS_IN="focusIn",o.FOCUS_OUT="focusOut",t.default=o},function(e,t,n){"use strict";function o(){throw"LKeyboardEvent cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.KEY_DOWN="keydown",o.KEY_UP="keyup",o.KEY_PRESS="keypress",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0},a=s(n(3)),i=s(n(24)),l=s(n(8)),u=s(n(33));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"onLoad",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this,e),this.dispatcher.username="测试",this.dispatcher.avatar="stone",this.dispatcher.cards=[{name:"老虎",icon:"dog"},{name:"狮子",icon:"dragon"},{name:"狮子",icon:"dragon"},{name:"狮子",icon:"dragon"}]}},{key:"onLoadEnd",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoadEnd",this).call(this),this.footerButtons=this.childList.filter(function(e){return e instanceof u.default}),this.changePanel(null,"Home")}},{key:"changePanel",value:function(e,t){var n=this.footerButtons.findIndex(function(e){return e.focus});n>=0&&this.footerButtons[n].focusOff();var o=this.footerButtons.findIndex(function(e){return e.name===t});this.footerButtons[o].focusOn();var r=0;this.footerButtons.forEach(function(e){e.x=r,r+=e.focus?190:150}),l.default.loadPanel("prefabs/panel/"+t,{},o>n?"right":"left")}},{key:"gotoBattleScene",value:function(e,t){console.error("gotoBattleScene",e,t),l.default.loadScene("prefabs/scene/Battle")}}]),t}();a.default.set("TopSceneController",f),t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0},a=u(n(3)),i=u(n(24)),l=u(n(8));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"onLoad",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this,e)}},{key:"onLoadEnd",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoadEnd",this).call(this),l.default.loadPanel("prefabs/panel/Marching")}},{key:"roomIn",value:function(){l.default.loadPanel("prefabs/panel/Battle")}},{key:"gotoTopScene",value:function(e,t){l.default.loadScene("prefabs/Scene/Top")}}]),t}();a.default.set("BattleSceneController",s),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(3)),a=i(n(11));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"onLoad",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this),this.dispatcher.title="Team测试"}}]),t}();r.default.set("TeamPanelController",l),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(3)),a=i(n(11));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"onLoad",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this),this.dispatcher.title="Shop测试"}}]),t}();r.default.set("ShopPanelController",l),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0},a=c(n(3)),i=c(n(11)),l=c(n(8)),u=n(23),s=c(u),f=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"onLoad",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this,e)}},{key:"onLoadEnd",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoadEnd",this).call(this),s.default.addEventListener(u.GameEvent.ROOM_IN,this.roomIn,this);var e=1e8*Math.random()>>>0,n="id."+e,o="name."+e;s.default.ai=!1,s.default.start(n,o,{}),console.log("MarchingPanelController onLoadEnd"),this.addEventListener(f.default.ENTER_FRAME,this.spinnerRun,this)}},{key:"spinnerRun",value:function(e){this.spinner.rotate+=5}},{key:"roomIn",value:function(){s.default.removeEventListener(u.GameEvent.ROOM_IN,this.roomIn),console.log(this.sceneController),this.sceneController.roomIn()}},{key:"gotoTopScene",value:function(e,t){l.default.loadScene("prefabs/Scene/Top")}}]),t}();a.default.set("MarchingPanelController",d),t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0},a=d(n(6)),i=d(n(22)),l=d(n(4)),u=d(n(9)),s=n(2),f=d(n(0)),c=d(n(25));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),u=a;return u.type="LButton",u.addChild(e),n?u.addChild(n):n=e,o?u.addChild(o):o=n,r?u.addChild(r):r=e,u.upState=u.bitmap_up=e,u.overState=u.bitmap_over=n,u.downState=o,u.disableState=r,u._ll_down_sx=u.downState.scaleX,u._ll_down_sy=u.downState.scaleY,u.overState.visible=!1,u.downState.visible=!1,u.upState.visible=!0,u.buttonMode=!0,u.staticMode=!1,u.setState(t.STATE_ENABLE),i.default.container[l.default.MOUSE_MOVE]&&i.default.pushButton(u),u.addEventListener(l.default.MOUSE_DOWN,u.ll_modeDown),u.setCursorEnabled(!0),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"setState",value:function(e){var n=this;if(e===t.STATE_DISABLE)n.upState.visible=!1,n.overState.visible=!1,n.downState.visible=!1,n.disableState.visible=!0,n.mouseEnabled=!1;else{if(e!==t.STATE_ENABLE)return;n.overState.visible=!1,n.downState.visible=!1,n.disableState.visible=!1,n.upState.visible=!0,n.mouseEnabled=!0}n.state=e}},{key:"ll_mouseout",value:function(e,t,n,o,r){var a=this;a.ll_mousein&&(e.clickTarget=a,a.ll_modeOut(e),a.ll_mousein=!1)}},{key:"mouseEvent",value:function(e,n,o){if(!e)return!1;u.default.os===s.OS_PC&&n===l.default.MOUSE_MOVE&&this.ll_button_mode&&this.ll_button_mode(e),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mouseEvent",this).call(this,e,n,o)}},{key:"ll_button_mode",value:function(e){var t=this;t.visible&&(e.clickTarget=t,t.hitTestPoint(e.offsetX,e.offsetY)?t.ll_modeOver(e):t.ll_modeOut(e))}},{key:"ll_modeDown",value:function(e){var n,o=e.clickTarget,r=void 0,a=void 0,i=void 0,l=void 0,u=void 0,s=void 0,d=void 0,h=void 0;if(o.buttonMode&&!o.tween){if(o.state===t.STATE_DISABLE)return o.upState.visible=!1,o.overState.visible=!1,o.downState.visible=!1,void(o.disableState.visible=!0);o.upState.visible=!1,o.overState.visible=!1,o.downState.visible=!0,o._tweenOver=o.ll_modeOver,n=function(e){var t=e.target.parent;t&&t.tween&&(delete t.tween,t._tweenOver({clickTarget:t}),delete t._tweenOver)},o.staticMode?o.tween=f.default.LTweenLiteTimeline.to(o.downState,.3,{}).to(o.downState,.1,{onComplete:n}):(i=1.1*(r=o.downState.getWidth()),l=1.1*(a=o.downState.getHeight()),d=(u=o.downState.x)+.5*(r-i),h=(s=o.downState.y)+.5*(a-l),o.tween=f.default.LTweenLiteTimeline.to(o.downState,.3,{x:d,y:h,scaleX:1.1*o._ll_down_sx,scaleY:1.1*o._ll_down_sy,ease:c.default.Quart.easeOut}).to(o.downState,.1,{x:u,y:s,scaleX:o._ll_down_sx,scaleY:o._ll_down_sy,ease:c.default.Quart.easeOut,onComplete:n}))}}},{key:"ll_modeOver",value:function(e){var n=e.clickTarget;if(n.buttonMode)if(n.tween)n._tweenOver=n.ll_modeOver;else{if(n.state===t.STATE_DISABLE)return n.upState.visible=!1,n.overState.visible=!1,n.downState.visible=!1,void(n.disableState.visible=!0);n.upState.visible=!1,n.downState.visible=!1,n.overState.visible=!0}}},{key:"ll_modeOut",value:function(e){var n=e.clickTarget;if(n.buttonMode)if(n.tween)n._tweenOver=n.ll_modeOut;else{if(n.state===t.STATE_DISABLE)return n.upState.visible=!1,n.overState.visible=!1,n.downState.visible=!1,void(n.disableState.visible=!0);n.overState.visible=!1,n.downState.visible=!1,n.upState.visible=!0}}},{key:"setCursorEnabled",value:function(e){this.useCursor=e?"pointer":null}},{key:"clone",value:function(){var e=this;return new t(e.upState.clone(),e.overState.clone(),e.downState.clone(),e.disableState.clone())}},{key:"die",value:function(){i.default.container[l.default.MOUSE_MOVE]&&i.default.removeButton(this),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"die",this).call(this)}}]),t}();h.STATE_DISABLE="disable",h.STATE_ENABLE="enable",t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=l(n(3)),a=l(n(11)),i=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"onLoad",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this),this.dispatcher.title="Home测试"}},{key:"showRankingDialog",value:function(){i.default.showDialog("prefabs/dialog/RankingDialog")}},{key:"gotoBattle",value:function(){i.default.loadScene("prefabs/scene/Battle")}}]),t}();r.default.set("HomePanelController",u),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(3)),a=i(n(11));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"onLoad",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this),this.dispatcher.title="Event测试"}}]),t}();r.default.set("EventPanelController",l),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0},a=h(n(13)),i=h(n(3)),l=h(n(8)),u=h(n(14)),s=h(n(4)),f=h(n(7)),c=h(n(1)),d=h(n(12));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"init",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),this.dragChild=null}},{key:"die",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"die",this).call(this)}},{key:"updateView",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateView",this).call(this);var n=this.getByPath(this.bind.key);if(null!==n){var o=this.bind.childPrefab;return l.default.loadPrefab(o).then(function(t){var o=!0,r=!1,a=void 0;try{for(var i,l=n[Symbol.iterator]();!(o=(i=l.next()).done);o=!0){var u=i.value;e.createListObject(t,u)}}catch(e){r=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(r)throw a}}e.addEventListener(s.default.MOUSE_DOWN,e._clickCard,e)})}}},{key:"createListObject",value:function(e,t){var n=u.default.create(e);n.x=70*this.numChildren,n.updateWidget(t),this.addChild(n),this.numChildren>4&&(n.visible=!1)}},{key:"_clickCard",value:function(e){var t=e.target;console.log(t.model)}},{key:"_touchCard",value:function(e){var t=e.target;t.startDrag(e.touchPointID),this.dragChild=t,this.savePoint=new f.default(t.x,t.y)}},{key:"_touchEnd",value:function(e){if(this.dragChild){this.dragChild.stopDrag();var t=new c.default("card:dragEnd");t.card=this.dragChild,t.x=e.offsetX,t.y=e.offsetY,d.default.dispatchEvent(t)}}},{key:"_cardBack",value:function(e){this.dragChild.x=this.savePoint.x,this.dragChild.y=this.savePoint.y,this.dragChild=null}},{key:"_cardChange",value:function(e){var t=this.getChildAt(4);this.setChildIndex(this.dragChild,7),this.dragChild.visible=!1,t.visible=!0,t.x=this.savePoint.x,t.y=this.savePoint.y,this.dragChild=null}}]),t}();i.default.set("BattleCardListView",p),t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0},a=c(n(3)),i=c(n(16)),l=c(n(1)),u=c(n(41)),s=c(n(12)),f=c(n(23));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"init",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),this.vec=new u.default(0,0),this.addEventListener(l.default.ENTER_FRAME,this._onframe,this),s.default.addEventListener("ball:sendout",this._ballSendOut,this),f.default.addEventListener("ball:sendout",this._ballSendOutToEnemy,this)}},{key:"die",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"die",this).call(this),this.removeEventListener(l.default.ENTER_FRAME,this._onframe),s.default.removeEventListener("ball:sendout",this._ballSendOut),f.default.removeEventListener("ball:sendout",this._ballSendOutToEnemy)}},{key:"_onframe",value:function(e){var t=this.getController(),n=t.deskLayer;this.x+=this.vec.x,this.y+=this.vec.y,this.x<n.x?(this.vec.x*=-1,this.x=n.x+n.x-this.x,console.log("min",this.x)):this.x>n.x+576&&(this.vec.x*=-1,this.x=n.x+576-(this.x-n.x-576),console.log("max",this.x)),t.me.checkHitBall()}},{key:"_ballSendOutToEnemy",value:function(e){var t=this.getController();this.launcher=t.enemy;var n=t.deskLayer;e.speedY*=-1,e.y=n.y+(n.y+n.getHeight()-e.y),console.error("_ballSendOutToEnemy",n.y,n.getHeight(),e.y),this._ballSendOut(e)}},{key:"_ballSendOut",value:function(e){this.alpha=1,this.x=e.x,this.y=e.y,this.vec.x=e.speedX,this.vec.y=e.speedY,console.error(e.x,e.y,e.speedX,e.speedY)}}]),t}();a.default.set("BallView",d),t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.client=t,this._photonPlayer=new window.PhotonPlayer(t)}return o(e,[{key:"gameStart",value:function(){}},{key:"onEvent",value:function(e,t,n){}},{key:"actor",get:function(){return this._photonPlayer}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(54),i=(o=a)&&o.__esModule?o:{default:o};var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.masterClient=t,this._init()}return r(e,[{key:"_init",value:function(){this.aiPlayer=new i.default(this),this._myRoomActorsArray=[],this._myRoomActorsArray.push(this.myActor()),this._myRoomActorsArray.push(this.aiPlayer.actor)}},{key:"onEvent",value:function(e,t,n){this.masterClient.onEvent(e,t,n),this.aiPlayer.onEvent(e,t,n)}},{key:"start",value:function(e,t,n){this.myActor().setInfo(e,t,n),this.connectToRegionMaster("EU")}},{key:"connectToRegionMaster",value:function(e){this.masterClient.gameStart(),this.aiPlayer.gameStart()}},{key:"myRoomActorsArray",value:function(){return this._myRoomActorsArray}},{key:"raiseEventAll",value:function(){}},{key:"setUserId",value:function(e){console.error("AIClient setUserId="+e)}},{key:"updatePlayerOnlineList",value:function(){console.error("updatePlayerOnlineList")}},{key:"myActor",value:function(){return this._myActor=this._myActor||new window.PhotonPlayer(this),this._myActor}},{key:"enemy",get:function(){return this.client.myRoomActorsArray()[1]}},{key:"player",get:function(){return this.client.myRoomActorsArray()[0]}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0},a=f(n(3)),i=f(n(16)),l=f(n(1)),u=f(n(12)),s=f(n(23));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"init",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e)}},{key:"die",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"die",this).call(this)}},{key:"checkHitBall",value:function(){return 0!==this.ball.alpha&&this.ball.launcher.objectIndex!==this.objectIndex&&(!(this.ball.y+this.ball.getHeight()<this.y)&&(!!this.hitTestObject(this.ball)&&(!(this.ball.y+this.ball.getHeight()>this.y+.5*this.getHeight())&&void this.shoot(this.ball.x,this.ball.y))))}},{key:"shoot",value:function(e,t,n){this.ball.launcher=this;var o=new l.default("ball:sendout");o.x=e,o.y=t;var r=8;if(n){var a=Math.random(),i=(45+90*a)*Math.PI/180;o.speedX=r*Math.sin(i)*(a>.5?-1:1),o.speedY=r*Math.abs(Math.cos(i))*-1}else{r+=.5*this.ball.vec.length()*Math.random(),this.ball.vec.x=this.ball.x+.5*this.ball.getWidth()-this.x-.5*this.getWidth(),this.ball.vec.y=this.ball.y+.5*this.ball.getHeight()-this.y-.5*this.getHeight();var f=this.ball.vec.normalize();f.x*=r,f.y*=r,o.speedX=f.x,o.speedY=f.y}u.default.dispatchEvent(o),s.default.shoot(o)}},{key:"ball",get:function(){return this._ball=this._ball||this.getController().ball,this._ball}}]),t}();a.default.set("PaddleView",c),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0},a=f(n(3)),i=f(n(12)),l=f(n(16)),u=f(n(38)),s=f(n(7));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),o(t,[{key:"init",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),i.default.addEventListener("card:dragEnd",this._dragEnd,this)}},{key:"die",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"die",this).call(this),i.default.removeEventListener("card:dragEnd",this._cardChange)}},{key:"updateView",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateView",this).call(this)}},{key:"_dragEnd",value:function(e){if(this.hitTestPoint(e.x,e.y)){var t=e.card,n=this.getChildAt(0).globalToLocal(new s.default(e.x,e.y));console.log("point=",n,n.x/32>>>0,n.y/24>>>0);var o=new u.default({id:t.model.id,level:1,playerId:1});o.setCoordinate(32*(n.x/32>>>0),24*(n.y/24>>>0)),this.characterLayer.addChild(o),i.default.dispatchEvent("card:change")}else i.default.dispatchEvent("card:back")}}]),t}();a.default.set("BattlefieldView",c),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=l(n(0)),a=l(n(5)),i=l(n(35));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=o;return r.type="LTimer",r.delay=e,r.repeatCount=n||Number.MAX_VALUE,r.running=!1,r.currentCount=0,r.reset(),t.TimerManager.add(r),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"start",value:function(){this.running=!0}},{key:"stop",value:function(){this.running=!1}},{key:"reset",value:function(){var e=this;e.currentTime=0,e.currentCount=0,e.stop()}},{key:"destroy",value:function(){t.TimerManager.remove(this)}},{key:"ll_show",value:function(){var e=this;!e.running||e.currentCount>=e.repeatCount||(e.currentTime+=r.default.LGlobal.speed,e.currentTime<e.delay||(e.currentTime=0,e.currentCount++,e.dispatchEvent(i.default.TIMER),e.currentCount>=e.repeatCount&&e.dispatchEvent(i.default.TIMER_COMPLETE)))}}]),t}();u.TimerManager=function(){function e(){this.childList=[]}return e.prototype={ll_show:function(){for(var e=void 0,t=0;t<this.childList.length;t++)(e=this.childList[t])&&e.ll_show()},add:function(e){this.childList.push(e)},remove:function(e){var t,n=this.childList,o=void 0;for(o=0,t=n.length;o<t;o++)if(e.objectIndex===n[o].objectIndex){this.childList.splice(o,1);break}}},new e}(),r.default.LGlobal.childList.push(u.TimerManager),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0},a=c(n(3)),i=c(n(11)),l=c(n(9)),u=c(n(12)),s=c(n(4)),f=c(n(20));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"onLoad",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this,e),this.dispatcher.skills=[{id:1,name:"测试1",icon:"skill01",cost:3},{id:2,name:"测试2",icon:"skill02",cost:5},{id:3,name:"测试3",icon:"skill03",cost:2},{id:4,name:"测试4",icon:"skill04",cost:3}],console.log("BattlePanelController onLoad")}},{key:"onLoadEnd",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoadEnd",this).call(this),this._resizeBattleLayer(),u.default.addEventListener("enemy:move",this._enemyMove,this),this.me.addEventListener(s.default.MOUSE_DOWN,this._touchMe,this)}},{key:"die",value:function(){u.default.removeEventListener("enemy:move",this._enemyMove)}},{key:"_resizeBattleLayer",value:function(){l.default.width/l.default.height>this.battleLayer.getWidth()/this.battleLayer.getHeight()?this.battleLayer.scaleX=this.battleLayer.scaleY=l.default.height/this.battleLayer.getHeight():this.battleLayer.scaleX=this.battleLayer.scaleY=l.default.width/this.battleLayer.getWidth(),this.battleLayer.x=.5*(l.default.width-this.battleLayer.getWidth()),this.battleLayer.y=.5*(l.default.height-this.battleLayer.getHeight())}},{key:"_enemyMove",value:function(e){}},{key:"_touchMe",value:function(e){var t=e.target;t.objectIndex===this.me.objectIndex&&(this.paddle=t,t.dragRange=new f.default(32,752,528,0),t.startDrag(e.touchPointID),this.addEventListener(s.default.MOUSE_UP,this._touchEnd,this))}},{key:"_touchEnd",value:function(e){this.paddle&&(this.removeEventListener(s.default.MOUSE_UP,this._touchEnd),this.paddle.stopDrag(),this.paddle=null,0===this.ball.alpha&&this.me.shoot(this.me.x+12,this.me.y-24))}}]),t}();a.default.set("BattlePanelController",d),t.default=d},function(e,t,n){"use strict";function o(){throw"LTextEvent cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.TEXT_INPUT="textInput",o.WIND_COMPLETE="windComplete",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(10),i=(o=a)&&o.__esModule?o:{default:o};var l=function(e){function t(e,n,o,r,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),u=l;return u.font=e||"Arial",u.size=n||15,u.color=o||"#000000",u.bold=r||!1,u.italic=a||!1,u.underline=i||!1,l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"clone",value:function(){var e=new this.constructor;return e.copyProperty(this),e}},{key:"getFontText",value:function(){var e=this;return(e.italic?"italic ":"")+(e.bold?"bold ":"")+e.size+"px "+e.font}},{key:"setCss",value:function(e){var t=this,n=void 0;for(n in e)switch(n){case"color":t.color=e[n];break;case"font-family":t.font=e[n];break;case"font-size":t.size=e[n];break;case"font-style":t.italic="italic"===e[n];break;case"font-weight":t.bold="bold"===e[n];break;case"text-decoration":t.color="underline"===e[n]}}}]),t}();t.default=l},function(e,t,n){"use strict";function o(){throw"LTextFieldType cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.INPUT="input",o.DYNAMIC=null,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=_(n(32)),i=_(n(18)),l=_(n(62)),u=_(n(61)),s=_(n(6)),f=_(n(22)),c=_(n(4)),d=_(n(1)),h=_(n(43)),p=_(n(42)),y=_(n(60)),v=n(2),b=_(n(0));function _(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.type="LTextField",n.texttype=null,n.text="",n.htmlText="",n.styleSheet="",n.font="Arial",n.size=15,n.color="#000000",n.weight="normal",n.textAlign="left",n.textBaseline="top",n.heightMode=t.HEIGHT_MODE_BOTTOM,n.stroke=!1,n.lineWidth=1,n.lineColor="#000000",n.width=150,n.height=n.size,n.displayAsPassword=!1,n.wordWrap=!1,n.multiline=!1,n.numLines=1,n.speed=0,n._speedIndex=100,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"_showReady",value:function(e){var t=this;e.font=t.weight+" "+t.size+"px "+t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.fillStyle=t.color,t.stroke&&(e.strokeStyle=t.lineColor,e.lineWidth=t.lineWidth+1)}},{key:"ll_getStyleSheet",value:function(e,t,n,o){var r=this,a=e.clone();if("font"===t)for(var i=0;n&&!(i++>4);){var l=/(([^\s]*?)(\s*)=(\s*)("|')(.*?)\5)*/g.exec(n);if(!l||!l[0])break;switch(l[2]){case"face":a.font=l[6];break;case"color":a.color=l[6];break;case"size":a.size=l[6]}n=n.replace(l[0],"").replace(/(^\s*)|(\s*$)|(\n)/g,"")}else if("b"===t)a.bold=!0;else if("u"===t)a.underline=!0;else if("i"===t)a.italic=!0;else if("p"===t&&r.wordWrap)o="\n"+o+"\n";else if(r.styleSheet){var u=void 0;if("span"===t){var s=/(([^\s]*?)(\s*)=(\s*)("|')(.*?)\5)*/g.exec(n);if(s&&s[0])switch(s[2]){case"class":u=r.styleSheet.getStyle("."+s[6])}}else r.styleSheet.getStyle(t)&&(u=r.styleSheet.getStyle(t));u&&a.setCss(u)}r.ll_getHtmlText(a,o)}},{key:"ll_getHtmlText",value:function(e,t){if(t){var n,o,r=this,a=void 0,i=void 0,l=/<(.*?)(\s*)(.*?)>(.*?)<\/\1>/g.exec(t);if(l&&l[0]){l.index>0&&r.ll_htmlTexts.push({textFormat:e.clone(),text:t.substring(0,l.index)}),n=l[1],i=a=l.index;do{i=t.indexOf("</"+n,i+1),a=t.indexOf("<"+n,a+1)}while(a>0&&a<i);o=t.substring(t.indexOf(">",l.index)+1,i),r.ll_getStyleSheet(e,n,l[3],o),r.ll_getHtmlText(e,t.substring(i+n.length+3))}else r.ll_htmlTexts.push({textFormat:e.clone(),text:t})}}},{key:"_ll_show",value:function(e){var n=this,o=void 0,r=void 0,a=void 0,i=void 0,s=void 0,f=void 0,c=void 0,d=void 0,h=void 0,p=void 0,y=void 0;if(b.default.LGlobal.enableWebGL?(n._createCanvas(),n._canvas.width=b.default.LGlobal.width,n._canvas.height=b.default.LGlobal.height,n._showReady(n._context),o=n._context):o=e,n.texttype===l.default.INPUT){if(n.inputBackLayer.ll_show(o),i=n.getRootCoordinate(),b.default.LGlobal.wx||b.default.LGlobal.inputBox.name!=="input"+n.objectIndex||(b.default.LGlobal.inputBox.style.marginTop=parseInt(b.default.LGlobal.canvasObj.style.marginTop)+((i.y+n.inputBackLayer.startY())*parseInt(b.default.LGlobal.canvasObj.style.height)/b.default.LGlobal.canvasObj.height>>>0)+"px",b.default.LGlobal.inputBox.style.marginLeft=parseInt(b.default.LGlobal.canvasObj.style.marginLeft)+((i.x+n.inputBackLayer.startX())*parseInt(b.default.LGlobal.canvasObj.style.width)/b.default.LGlobal.canvasObj.width>>>0)+"px"),b.default.LGlobal.inputTextField&&b.default.LGlobal.inputTextField.objectIndex===n.objectIndex)return;0===n.inputBackLayer.graphics.setList.length&&o.rect(0,0,n.inputBackLayer.getWidth(),n.inputBackLayer.getHeight()),o.clip()}if(b.default.LGlobal.fpsStatus&&b.default.LGlobal.fpsStatus.text++,n.htmlText)return(n.ll_htmlText!==n.htmlText||n.styleSheet&&(n.ll_style_objectIndex!==n.styleSheet.objectIndex||n.ll_styleIndex===n.styleSheet.styleIndex))&&(p=new u.default,n.ll_htmlTexts=[],n.ll_htmlText=n.htmlText,n.styleSheet&&(n.ll_style_objectIndex=n.styleSheet.objectIndex,n.ll_styleIndex=n.styleSheet.styleIndex),n.ll_getHtmlText(p,n.htmlText)),s=0,c=0,d=0,n._ll_height=n.wordHeight||30,t.underlineY||(t.underlineY={alphabetic:0,top:1,bottom:-.2,middle:.4,hanging:.8}),n.ll_htmlTexts.forEach(function(e){var r=e.textFormat,i=e.text;for(o.font=r.getFontText(),o.fillStyle=r.color,a=0,f=i.length;a<f;a++)/(?:\r\n|\r|\n|¥n)/.exec(i.substr(a,1))?(s=0,c=a+1,d++):(h=1.2*o.measureText("O").width,n.stroke&&o.strokeText(i.substr(a,1),s,d*n._ll_height),o.fillText(i.substr(a,1),s,d*n._ll_height),r.underline&&(o.beginPath(),y=d*n._ll_height+h*t.underlineY[n.textBaseline],o.moveTo(s,y),o.lineTo(s+o.measureText(i.substr(a,1)).width,y),o.stroke())),s+=o.measureText(i.substr(a,1)).width,n.wordWrap&&s+o.measureText(i.substr(a+1,1)).width>n.width&&(s=0,c=a+1,d++);n.height=(d+1)*n._ll_height}),void(b.default.LGlobal.enableWebGL&&e.drawImage(n._canvas,0,0));if(r=n.text,n.displayAsPassword)for(r="",a=0,f=n.text.length;a<f;a++)r+="*";if(n.wordWrap||n.multiline){for(s=0,c=0,d=0,a=0,f=n.text.length;a<f;a++)/(?:\r\n|\r|\n|¥n)/.exec(r.substr(a,1))?(s=0,c=a+1,d++):(n.stroke&&o.strokeText(r.substr(a,1),s,d*n.wordHeight),o.fillText(r.substr(a,1),s,d*n.wordHeight)),n.numLines=d,s=o.measureText(n.text.substr(c,a+1-c)).width,n.wordWrap&&s+o.measureText(r.substr(a,1)).width>n.width&&(s=0,c=a+1,d++);n.height=(d+1)*n.wordHeight}else n.numLines=1,n.stroke&&o.strokeText(r,0,0,o.measureText(r).width),o.fillText(r,0,0,o.measureText(r).width);b.default.LGlobal.enableWebGL&&e.drawImage(n._canvas,0,0),n.windRunning&&n._ll_windRun()}},{key:"_wordHeight",value:function(e){var t=this;e>0?t.wordHeight=e:(t.wordWrap=!1,t.wordHeight=t.getHeight()),t.height=0}},{key:"setMultiline",value:function(e,t){e&&this._wordHeight(t),this.multiline=e}},{key:"setWordWrap",value:function(e,t){e&&this._wordHeight(t),this.wordWrap=e}},{key:"setType",value:function(e,t){var n=this;n.texttype!==e&&e===l.default.INPUT?(t&&t instanceof s.default?n.inputBackLayer=t:(n.inputBackLayer=new s.default,n.inputBackLayer.graphics.drawRect(1,"#000000",[0,.4*-n.getHeight(),n.width,1.5*n.getHeight()])),n.inputBackLayer.parent=n,f.default.container[c.default.MOUSE_DOWN]&&f.default.pushInputBox(n)):(n.inputBackLayer=null,f.default.removeInputBox(n)),n.texttype=e}},{key:"ismouseon",value:function(e,t){var n=this;return!!e&&(!!n.visible&&(t||(t={x:0,y:0,scaleX:1,scaleY:1}),!(n.mask&&(n.mask.parent||(n.mask.parent=n.parent),!n.mask.ismouseon(e,t)))&&(n.inputBackLayer?n.inputBackLayer.ismouseon(e,{x:n.x*t.scaleX+t.x,y:n.y*t.scaleY+t.y,scaleX:t.scaleX*n.scaleX,scaleY:t.scaleY*n.scaleY}):n.ismouseonShapes([{type:i.default.RECT,arg:[0,0,n._getWidth(),n._getHeight()]}],e.offsetX,e.offsetY))))}},{key:"clone",value:function(){var e=this,t=new e.constructor;return t.copyProperty(e),t.texttype=null,e.texttype===l.default.INPUT&&t.setType(l.default.INPUT),t}},{key:"mouseEvent",value:function(e,t,n){var o=this;o.inputBackLayer&&t===c.default.MOUSE_DOWN&&o.ismouseon(e,n)&&o.focus()}},{key:"_wx_ll_getValue",value:function(e){b.default.LGlobal.inputTextField.text=e,console.error("_wx_ll_getValue=",e),wx.offKeyboardInput(b.default.LGlobal.inputTextField._ll_input),wx.offKeyboardComplete(this._ll_getValue),b.default.LGlobal.inputTextField.dispatchEvent(p.default.FOCUS_OUT),b.default.LGlobal.inputTextField=null}},{key:"_ll_getValue",value:function(e){b.default.LGlobal.inputTextField&&(b.default.LGlobal.wx?b.default.LGlobal.inputTextField._wx_ll_getValue(e.value):(b.default.LGlobal.inputTextField.text=b.default.LGlobal.inputTextBox.value,d.default.removeEventListener(b.default.LGlobal.inputTextBox,h.default.KEY_DOWN,b.default.LGlobal.inputTextField._ll_input),b.default.LGlobal.inputBox.style.display=v.NONE,o(b.default.LGlobal.inputTextField.preventDefault)!==v.UNDEFINED&&(b.default.LGlobal.preventDefault=b.default.LGlobal.inputTextField.preventDefault),b.default.LGlobal.inputTextField.dispatchEvent(p.default.FOCUS_OUT),b.default.LGlobal.inputTextField=null))}},{key:"_wxUpdateInput",value:function(){var e=this;wx.hideKeyboard({complete:function(){e.focus()}})}},{key:"updateInput",value:function(){if(b.default.LGlobal.wx)this._wxUpdateInput();else{this.texttype===l.default.INPUT&&b.default.LGlobal.inputTextField.objectIndex===this.objectIndex&&(b.default.LGlobal.inputTextBox.value=b.default.LGlobal.inputTextField.text)}}},{key:"_wx_ll_input",value:function(e){if(b.default.LGlobal.inputTextField.hasEventListener(y.default.TEXT_INPUT)){var t=new d.default(y.default.TEXT_INPUT);t.keyCode=e,b.default.LGlobal.inputTextField.dispatchEvent(t)}}},{key:"_ll_input",value:function(e){if(b.default.LGlobal.wx)b.default.LGlobal.inputTextField._wx_ll_input(e);else if(b.default.LGlobal.inputTextField.text=b.default.LGlobal.inputTextBox.value,b.default.LGlobal.inputTextField.hasEventListener(y.default.TEXT_INPUT)){var t=new d.default(y.default.TEXT_INPUT);t.keyCode=e.keyCode,e.returnValue=b.default.LGlobal.inputTextField.dispatchEvent(t)}else e.returnValue=!0}},{key:"_wxFocus",value:function(){b.default.LGlobal.inputTextField=this,wx.showKeyboard({defaultValue:this.text,maxLength:20,multiple:!1,confirmHold:!1,confirmType:"done"}),wx.onKeyboardInput(this._ll_input),wx.onKeyboardComplete(this._ll_getValue)}},{key:"focus",value:function(){var e,t,n,o=this,r=void 0;o.parent&&o.texttype===l.default.INPUT&&(b.default.LGlobal.inputTextField&&b.default.LGlobal.inputTextField.objectIndex!==o.objectIndex&&o._ll_getValue(),o.dispatchEvent(p.default.FOCUS_IN),b.default.LGlobal.wx?this._wxFocus():(e=o.getAbsoluteScale(),b.default.LGlobal.inputBox.style.display="",b.default.LGlobal.inputBox.name="input"+o.objectIndex,b.default.LGlobal.inputTextField=o,b.default.LGlobal.inputTextareaBoxObj.style.display=v.NONE,b.default.LGlobal.inputTextBoxObj.style.display=v.NONE,b.default.LGlobal.passwordBoxObj.style.display=v.NONE,o.displayAsPassword?b.default.LGlobal.inputTextBox=b.default.LGlobal.passwordBoxObj:o.multiline?b.default.LGlobal.inputTextBox=b.default.LGlobal.inputTextareaBoxObj:b.default.LGlobal.inputTextBox=b.default.LGlobal.inputTextBoxObj,t=parseInt(b.default.LGlobal.canvasObj.style.width)/b.default.LGlobal.canvasObj.width,n=parseInt(b.default.LGlobal.canvasObj.style.height)/b.default.LGlobal.canvasObj.height,b.default.LGlobal.inputTextBox.style.display="",b.default.LGlobal.inputTextBox.value=o.text,b.default.LGlobal.inputTextBox.style.height=o.inputBackLayer.getHeight()*e.scaleY*o.scaleY*n+"px",b.default.LGlobal.inputTextBox.style.width=o.inputBackLayer.getWidth()*e.scaleX*o.scaleX*t+"px",b.default.LGlobal.inputTextBox.style.color=o.color,b.default.LGlobal.inputTextBox.style.fontSize=(o.size*parseFloat(b.default.LGlobal.canvasObj.style.height)/b.default.LGlobal.canvasObj.height>>0)+"px",b.default.LGlobal.inputTextBox.style.fontFamily=o.font,d.default.addEventListener(b.default.LGlobal.inputTextBox,h.default.KEY_DOWN,b.default.LGlobal.inputTextField._ll_input),o.texttype===l.default.INPUT&&(r=o.getRootCoordinate(),b.default.LGlobal.inputBox.name==="input"+o.objectIndex&&(b.default.LGlobal.inputBox.style.marginTop=parseInt(b.default.LGlobal.canvasObj.style.marginTop)+((r.y+o.inputBackLayer.startY())*parseInt(b.default.LGlobal.canvasObj.style.height)/b.default.LGlobal.canvasObj.height>>>0)+"px",b.default.LGlobal.inputBox.style.marginLeft=parseInt(b.default.LGlobal.canvasObj.style.marginLeft)+((r.x+o.inputBackLayer.startX())*parseInt(b.default.LGlobal.canvasObj.style.width)/b.default.LGlobal.canvasObj.width>>>0)+"px")),setTimeout(function(){b.default.LGlobal.ios&&(o.preventDefault=b.default.LGlobal.preventDefault,b.default.LGlobal.preventDefault=!1),b.default.LGlobal.inputTextBox.focus()},0)))}},{key:"_getWidth",value:function(){var e=this;if(e.wordWrap)return e.width;b.default.LGlobal.enableWebGL&&this._createCanvas();var t=b.default.LGlobal.enableWebGL?e._context:b.default.LGlobal.canvas;return t.font=e.size+"px "+e.font,t.measureText(e.text).width}},{key:"getWidth",value:function(e){var t,n=this,o=void 0,r=void 0;return t=n._getWidth()*n.scaleX,e&&n.mask?(o=n.mask._startX?n.mask._startX():n.mask.startX())>t?0:o+(r=n.mask.getWidth())>t?t-o:r:t}},{key:"_startX",value:function(e){var t=this;if("left"===t.textAlign)return t.x;var n=t.getWidth(e);return t.x+("right"===t.textAlign?-n:.5*-n)}},{key:"_getHeight",value:function(){var e=this;b.default.LGlobal.enableWebGL&&this._createCanvas();var n=b.default.LGlobal.enableWebGL?e._context:b.default.LGlobal.canvas,o=void 0,r=void 0,a=void 0,i=void 0,l=void 0;if(e.wordWrap){if(n.font=e.weight+" "+e.size+"px "+e.font,0===e.height){for(a=0,i=0,l=0,o=0,r=e.text.length;o<r;o++)/(?:\r\n|\r|\n|¥n)/.exec(e.text.substr(o,1))&&(a=0,i=o+1,l++),a=n.measureText(e.text.substr(i,o+1-i)).width,e.wordWrap&&a+n.measureText(e.text.substr(o+1,1)).width>e.width&&(a=0,i=o+1,l++);e.height=(l+1)*e.wordHeight}return e.height}return n.font=e.weight+" "+e.size+"px "+e.font,r=1.2*n.measureText("O").width,e.heightMode===t.HEIGHT_MODE_BASELINE&&(r*=1.2),r}},{key:"getHeight",value:function(e){var t,n=this,o=void 0,r=void 0;return t=n._getHeight()*n.scaleY,e&&n.mask?(o=n.mask._startY?n.mask._startY():n.mask.startY())>t?0:o+(r=n.mask.getHeight())>t?t-o:r:t}},{key:"wind",value:function(e){var t=this;t.wind_over_function=e,t.windRunning=!0,t._ll_wind_text=t.text,t.text="",t._ll_wind_length=0}},{key:"_ll_windRun",value:function(){var e=this;if(!(e._speedIndex++<e.speed)){if(e._speedIndex=0,e._ll_wind_length>e._ll_wind_text.length)return e.windRunning=!1,e.wind_over_function&&e.wind_over_function(),void e.dispatchEvent(new d.default(y.default.WIND_COMPLETE));e.text=e._ll_wind_text.substring(0,e._ll_wind_length),e._ll_wind_length++}}},{key:"windComplete",value:function(){var e=this;e._speedIndex=e.speed,e.text=e._ll_wind_text,e._ll_wind_length=e._ll_wind_text.length+1,e._ll_windRun()}},{key:"die",value:function(){f.default.removeInputBox(this)}}]),t}();g.HEIGHT_MODE_BOTTOM="bottom",g.HEIGHT_MODE_BASELINE="baseline",t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0},a=u(n(13)),i=u(n(63)),l=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"init",value:function(e){if(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),this._label=new i.default,this.addChild(this._label),this.textField)for(var n in this.textField)this._label[n]=this.textField[n];this.bind.default&&(this._label.text=this.bind.default)}},{key:"updateView",value:function(){if(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateView",this).call(this),this.bind.key){var e=this.getByPath(this.bind.key);null!==e&&(this._label.text=e)}}}]),t}();l.default.set("BindTextView",s),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=l(n(14)),i=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"init",value:function(e){var n=this;(function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),setTimeout(function(){n.widget&&i.default.currentScene&&i.default.currentScene.nextFrameExecute(function(){n.widgetInit()})})}},{key:"lateInit",value:function(){if(this.bind&&this.bind.target&&this.bind.toParent){var e=this.getTarget(this.bind.target);e&&(e[this.bind.toParent]=this)}}},{key:"getController",value:function(){if(this._controller)return this._controller;for(var e=this.parent;e;){if(e.isController)return this._controller=e,e;if("object"!==(void 0===(e=e.parent)?"undefined":o(e)))break}return null}},{key:"getTarget",value:function(e){for(var t=this.parent;t;){if(e){if(t._ll_className===e)return t}else if(t.isController)return t;if("object"!==(void 0===(t=t.parent)?"undefined":o(t)))break}return null}},{key:"getValue",value:function(e){var t=this.bind.target,n=this.getTarget(t);return n?n.isController?n.dispatcher[e]:n.model?n.model[e]:null:null}},{key:"getByPath",value:function(e){if(e.indexOf(".")<0)return this.getValue(e)||null;var t=e.split("."),n=this.getValue(t[0]);if(!n)return null;for(var o=1;o<t.length;o++){if(null===(n=n[t[o]]))break}return n}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(13)),a=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"updateWidget",value:function(e){this.model=e;var t=!0,n=!1,o=void 0;try{for(var r,a=this.childList[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){r.value.updateView()}}catch(e){n=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw o}}}}]),t}();a.default.set("BindListChildView",l),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=f(n(21)),i=f(n(9)),l=n(2),u=f(n(1)),s=f(n(0));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.length=0,e.loopIndex=0,e.loopLength=1,e.playing=!1,e.oncomplete=null,e.onsoundcomplete=null,e.currentStart=0,s.default.LSound.Container.add(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"onload",value:function(){var e=this;if(e.canplaythrough=e.canplaythrough||function(){e.onload()},e.error=e.error||function(t){var n=new u.default(u.default.ERROR);n.currentTarget=e,n.target=t.target,n.responseURL=t.target.src,e.dispatchEvent(n)},e._addEvent||(e.data.addEventListener("error",e.error,!1),e.data.addEventListener("canplaythrough",e.canplaythrough,!1)),e._addEvent=!0,e.data.readyState){e.data.removeEventListener("error",e.error),e.data.removeEventListener("canplaythrough",e.canplaythrough),e.length=e.data.duration-(i.default.android?.1:0);var t=new u.default(u.default.COMPLETE);return t.currentTarget=e,t.target=e.data,void e.dispatchEvent(t)}}},{key:"_onended",value:function(){var e=this,t=void 0;e.dispatchEvent(u.default.SOUND_COMPLETE),++e.loopIndex<e.loopLength?(t=e.loopIndex,e.close(),e.play(e.currentStart,e.loopLength,e.currentTimeTo),e.loopIndex=t):e.close()}},{key:"load",value:function(e){var t=this;if("[object HTMLAudioElement]"===Object.prototype.toString.apply(e)||"object"===(void 0===e?"undefined":o(e))&&"AUDIO"===e.tagName)return t.data=e,void t.onload();var n=void 0,r=void 0,a=void 0,l=void 0,s={mov:["quicktime"],"3gp":["3gpp"],midi:["midi"],mid:["midi"],ogv:["ogg"],m4a:["acc"],mp3:["mpeg"],wav:["wav","x-wav","wave"],wave:["wav","x-wav","wave"],aac:["mp4","aac"]};for(n=e.split(","),a=0;a<n.length;a++){if((l=s[l=(r=n[a].split("."))[r.length-1]]?s[l]:[l]).some(function(e,n,o){return t.data.canPlayType(t._type+"/"+e)}))return void(i.default.wx?(t.onload(),t.data.src=n[a]):(t.data.src=n[a],t.onload(),t.data.load()));console.warn("Not support "+r[r.length-1]+" : "+n[a]);var f=new u.default(u.default.COMPLETE);f.currentTarget=f.target=t,t.dispatchEvent(f)}t.oncomplete&&t.oncomplete({})}},{key:"getCurrentTime",value:function(){return this.data.currentTime}},{key:"setVolume",value:function(e){this.data.volume=e}},{key:"getVolume",value:function(){return this.data.volume}},{key:"play",value:function(e,t,n){var r=this;0!==r.length&&(i.default.android&&!i.default.wx&&s.default.LSound.Container.stopOther(this),(void 0===e?"undefined":o(e))!==l.UNDEFINED&&(r.data.currentTime=e,r.currentStart=e),(void 0===t?"undefined":o(t))!==l.UNDEFINED&&(r.loopLength=t),(void 0===n?"undefined":o(n))!==l.UNDEFINED?r.currentTimeTo=n>r.length?r.length:n:r.currentTimeTo=r.length,r.timeout&&(clearTimeout(r.timeout),delete r.timeout),r.timeout=setTimeout(function(){r._onended()},1e3*(r.currentTimeTo-r.data.currentTime)),r.data.loop=!1,r.loopIndex=0,r.playing=!0,r.data.play())}},{key:"playSegment",value:function(e,t,n){this.playTo(e,e+t,n)}},{key:"playTo",value:function(e,t,n){this.play(e,n,t)}},{key:"stop",value:function(){var e=this;e.playing&&(e.timeout&&(clearTimeout(e.timeout),delete e.timeout),e.playing=!1,e.data.pause())}},{key:"close",value:function(){var e=this;e.playing&&(e.timeout&&(clearTimeout(e.timeout),delete e.timeout),e.playing=!1,e.data.pause(),e.data.currentTime=0,e.currentSave=0)}},{key:"ll_check",value:function(){var e=this;e.playing&&!i.default.wx&&(e.data.duration!==e._ll_duration&&(e._ll_duration=e.data.duration,e.length=e.data.duration-(i.default.android?.1:0)),e.currentTimeTo<e.data.currentTime+.005*s.default.LSound.Container.time&&e._onended())}},{key:"die",value:function(){s.default.LSound.Container.remove(this)}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=f(n(5)),i=f(n(0)),l=f(n(1)),u=n(2),s=f(n(29));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.currentTime=0,n.currentStart=0,n.currentSave=0,n.length=0,n.loopStart=0,n.loopEnd=0,n.loopIndex=0,n.loopLength=1,n.playing=!1,n.volume=1,i.default.LSound.Container.add(n),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"getWebAudio",value:function(){var e=void 0;if(t.containerCount>0)e=t.container.shift();else if(("undefined"==typeof AudioContext?"undefined":o(AudioContext))!==u.UNDEFINED)try{e=new AudioContext}catch(n){t.containerCount=t.container.length,e=t.container.shift()}else{if(("undefined"==typeof webkitAudioContext?"undefined":o(webkitAudioContext))===u.UNDEFINED)throw"AudioContext not supported. :(";try{e=new webkitAudioContext}catch(n){t.containerCount=t.container.length,e=t.container.shift()}}return e.createGainNode||(e.createGainNode=e.createGain),t.container.push(e),e}},{key:"onload",value:function(e){var t=this;if("[object AudioBuffer]"===Object.prototype.toString.apply(e)){t.data||(t.data=t.getWebAudio()),t.buffer=e,t.length=t.buffer.duration;var n=new l.default(l.default.COMPLETE);n.currentTarget=t,n.target=t.buffer,t.dispatchEvent(n)}else t.load(e)}},{key:"_onended",value:function(){var e=this;e.dispatchEvent(l.default.SOUND_COMPLETE),e.close(),++e.loopIndex<e.loopLength&&e.play(e.currentStart,void 0,e.currentTimeTo)}},{key:"load",value:function(e){var n=this;if("string"==typeof e){var o=void 0,r=void 0,a=void 0,i=void 0,u={mov:["quicktime"],"3gp":["3gpp"],midi:["midi"],mid:["midi"],ogv:["ogg"],m4a:["acc"],mp3:["mpeg"],wav:["wav","x-wav","wave"],wave:["wav","x-wav","wave"],aac:["mp4","aac"]};for(o=e.split(","),a=0;a<o.length;a++){if((i=u[i=(r=o[a].split("."))[r.length-1]]?u[i]:[i]).some(function(e,o,r){return t.audioTag.canPlayType(n._type+"/"+e)}))return s.default.responseType=s.default.ARRAY_BUFFER,s.default.progress=function(e){var t=new l.default(l.default.PROGRESS);t.currentTarget=n,t.target=e.currentTarget,t.loaded=.5*e.loaded,t.total=e.total,t.responseURL=e.responseURL,n.dispatchEvent(t)},void s.default.get(o[a],{},n.onload.bind(n),function(e){var t=new l.default(l.default.ERROR);t.currentTarget=n,t.target=e,t.responseURL=e.responseURL,n.dispatchEvent(t)});console.warn("Not support "+r[r.length-1]+" : "+o[a]);var f=new l.default(l.default.COMPLETE);f.currentTarget=f.target=n,n.dispatchEvent(f)}}else"[object AudioBuffer]"===Object.prototype.toString.apply(e)?n.onload(e):"[object ArrayBuffer]"===Object.prototype.toString.apply(e)&&(n.data||(n.data=n.getWebAudio()),n.data.decodeAudioData(e,n.onload.bind(n),function(e){throw"AudioContext decodeAudioData error : "+e.toString()}))}},{key:"getCurrentTime",value:function(){var e=this;return e.playing?e.data.currentTime-e.currentSave+e.currentTime:e.currentSave}},{key:"setVolume",value:function(e){var t=this;t.volume=e,t.playing&&(t.volumeNode.gain.value=e)}},{key:"getVolume",value:function(){return this.volume}},{key:"play",value:function(e,t,n){var r=this;0!==r.length&&((void 0===t?"undefined":o(t))!==u.UNDEFINED&&(r.loopIndex=0,r.loopLength=t),(void 0===e?"undefined":o(e))!==u.UNDEFINED&&(r.currentTime=e,r.currentStart=e),(void 0===n?"undefined":o(n))!==u.UNDEFINED?r.currentTimeTo=n>r.length?r.length:n:r.currentTimeTo=r.length,r.data.loop=!1,r.playing=!0,r.timeout&&(clearTimeout(r.timeout),delete r.timeout),r.timeout=setTimeout(r._onended.bind(r),1e3*(r.currentTimeTo-r.currentTime)),r.bufferSource=r.data.createBufferSource(),r.bufferSource.buffer=r.buffer,r.volumeNode=r.data.createGainNode(),r.volumeNode.gain.setTargetAtTime=r.volumeNode.gain.setTargetAtTime||r.volumeNode.gain.setTargetValueAtTime||r._setTargetAtTime,r.volumeNode.gain.setValueAtTime(r.volume,r.currentTime,.5),r.volumeNode.connect(r.data.destination),r.bufferSource.connect(r.volumeNode),r.currentSave=r.data.currentTime,r.bufferSource.start?r.bufferSource.start(0,r.currentTime,r.length-r.currentTime):r.bufferSource.noteGrainOn(0,r.currentTime,r.length-r.currentTime))}},{key:"_setTargetAtTime",value:function(e,t,n){this.volumeNode.gain.value=e}},{key:"playSegment",value:function(e,t,n){this.playTo(e,e+t,n)}},{key:"playTo",value:function(e,t,n){this.play(e,n,t)}},{key:"stop",value:function(){var e=this;e.playing&&(e.timeout&&(clearTimeout(e.timeout),delete e.timeout),e.bufferSource.stop?e.bufferSource.stop(0):e.bufferSource.noteOff(0),e.currentSave=e.getCurrentTime(),e.currentTime=e.currentSave,e.playing=!1)}},{key:"close",value:function(){var e=this;e.playing&&(e.timeout&&(clearTimeout(e.timeout),delete e.timeout),e.bufferSource.stop?e.bufferSource.stop(0):e.bufferSource.noteOff(0),e.playing=!1,e.currentTime=0,e.currentSave=0)}},{key:"ll_check",value:function(){var e=this;e.playing&&e.currentTimeTo<e.data.currentTime-e.currentSave+.001*i.default.LSound.Container.time&&e._onended()}},{key:"die",value:function(){i.default.LSound.Container.remove(this)}}]),t}();c.container=[],c.containerCount=0;try{c.audioTag=new Audio}catch(e){console.warn("ReferenceError: Can't find variable: Audio"),c.audioTag={canPlayType:function(){return!1}}}t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=u(n(68)),a=u(n(67)),i=u(n(0)),l=n(2);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(e){s(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.type="LSound",n._type="audio";try{n.data=new Audio}catch(e){console.warn("ReferenceError: Can't find variable: Audio"),n.data={}}return n.data.loop=!1,n.data.autoplay=!1,e&&n.load(e),n}return c(t,a.default),t}(),h=function(e){function t(e){s(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.type="LSound",n._type="audio",e&&n.load(e),n}return c(t,r.default),t}();var p=void 0;(p=!i.default.LGlobal.wx&&function(){r.default._context=null;var e=location.protocol;if(!i.default.LGlobal.wx&&("http:"===e||"https:"===e)){if(("undefined"==typeof AudioContext?"undefined":o(AudioContext))!==l.UNDEFINED)try{r.default._context=new AudioContext}catch(e){}else if(("undefined"==typeof webkitAudioContext?"undefined":o(webkitAudioContext))!==l.UNDEFINED)try{r.default._context=new webkitAudioContext}catch(e){}if(r.default._context)return!0}return!1}()?h:d).TYPE_SOUND="sound",p.webAudioEnabled=!1,p._waitSounds=[],p.addWait=function(e,t){p._waitSounds.push({sound:e,path:t})},p.startLoad=function(e){0!==p._waitSounds.length&&(p._waitSounds.forEach(function(e){e.sound.load(e.path)}),p._waitSounds.length=0)},p.Container={ll_save:0,time:0,list:[],ll_show:function(){var e=p.Container,t=(new Date).getTime();e.time=t-(e.ll_save?e.ll_save:t),e.ll_save=t;for(var n=e.list,o=n.length-1;o>=0;o--)n[o]&&n[o].ll_check()},add:function(e){p.Container.list.indexOf(e)>=0||p.Container.list.push(e)},remove:function(e){for(var t=p.Container.list,n=t.length-1;n>=0;n--)if(t[n].objectIndex===e.objectIndex){t.splice(n,1);break}},stopOther:function(e){for(var t=p.Container.list,n=t.length-1;n>=0;n--)t[n].objectIndex!==e.objectIndex&&t[n].stop()}},setTimeout(function(){i.default.LGlobal.childList.push(p.Container),r.default._context&&(r.default.container.push(r.default._context),p.webAudioEnabled=!0)}),i.default.LSound=p,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=f(n(6)),i=f(n(1)),l=n(2),u=f(n(0)),s=f(n(37));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.type="LAnimation",r.rowIndex=0,r.colIndex=0,r._ll_stepIndex=0,r._ll_stepArray=[],r.mode=1,r.isMirror=!1,Array.isArray(n)?r.bitmapList=n:r.bitmapList=[n],r.bitmap=new u.default.LBitmap(r.bitmapList[0]),r.imageArray=o,r.addChild(r.bitmap),e&&e.addChild(r),r.onframe(),r.colIndex=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"setList",value:function(e){this.imageArray=e}},{key:"setAction",value:function(e,t,n,r){var a=this,i=!1;(void 0===e?"undefined":o(e))!==l.UNDEFINED&&e>=0&&e<a.imageArray.length&&(a.rowIndex=e,i=!0),(void 0===t?"undefined":o(t))!==l.UNDEFINED&&t>=0&&t<a.imageArray[e].length&&(a.colIndex=t,i=!0),(void 0===n?"undefined":o(n))!==l.UNDEFINED&&(a.mode=n,i=!0),(void 0===r?"undefined":o(r))!==l.UNDEFINED&&(a.isMirror=r,a.isMirror?(a.bitmap.x=a.bitmap.getWidth(),a.bitmap.scaleX=-1*Math.abs(a.bitmap.scaleX)):(a.bitmap.x=0,a.bitmap.scaleX=Math.abs(a.bitmap.scaleX)),i=!0),i&&(a._ll_stepIndex=0,a._send_complete=!1)}},{key:"getAction",value:function(){var e=this;return[e.rowIndex,e.colIndex,e.mode,e.isMirror]}},{key:"onframe",value:function(){var e,t=this,n=0,r=null;if(t.colIndex>=t.imageArray[t.rowIndex].length&&(t.colIndex=0),e=t.imageArray[t.rowIndex][t.colIndex],r=t._ll_stepArray[t.rowIndex]&&t._ll_stepArray[t.rowIndex][t.colIndex]?t._ll_stepArray[t.rowIndex][t.colIndex]:0,0===t._ll_stepIndex){if("number"==typeof e.dataIndex&&Array.isArray(t.bitmapList)&&e.dataIndex<t.bitmapList.length&&(t.bitmap.bitmapData=t.bitmapList[e.dataIndex]),e.script)for(var a=0;a<e.script.length;a++){var u=e.script[a],f=t.ll_labelList[u.name];f&&f.rowIndex===t.rowIndex&&f.colIndex===t.colIndex&&f.mode===t.mode&&f.isMirror===(-1===t.bitmap.scaleX)&&u.func.call(this,t,u.params)}o(e.width)!==l.UNDEFINED&&o(e.height)!==l.UNDEFINED?t.bitmap.bitmapData.setProperties(e.x,e.y,e.width,e.height):t.bitmap.bitmapData.setCoordinate(e.x,e.y),o(e.sx)!==l.UNDEFINED&&(n=e.sx),o(e.sy)!==l.UNDEFINED&&(t.bitmap.y=e.sy),o(e.mirror)!==l.UNDEFINED&&(t.bitmap.rotateCenter=!1,t.bitmap.scaleX=e.mirror?-1:1),t.bitmap.x=n+(1===t.bitmap.scaleX?0:t.bitmap.getWidth())}t._ll_stepIndex++<r||(t._ll_stepIndex=0,t.colIndex+=t.mode,(t.colIndex>=t.imageArray[t.rowIndex].length||t.colIndex<0)&&(t.colIndex=t.mode>0?0:t.imageArray[t.rowIndex].length-1,t instanceof s.default?t._send_complete=!0:t.dispatchEvent(i.default.COMPLETE)))}},{key:"clone",value:function(){var e=this,t=new e.constructor(null,e.bitmapList,e.imageArray.slice(0));return t.copyProperty(e),t.childList.length=0,t.bitmap=e.bitmap.clone(),t.addChild(t.bitmap),t}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(30)),a=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._configs={}}return o(e,[{key:"loadConfig",value:function(e){var t=this;return this._configs[e]?Promise.resolve():new Promise(function(n,o){var i=new r.default;i.addEventListener(a.default.COMPLETE,function(o){t._configs[e]=JSON.parse(o.target),n()}),i.load("./resources/configs/"+e+".json",r.default.TYPE_TEXT)})}},{key:"get",value:function(e){return this._configs[e]}}]),e}();t.default=new l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(71),i=(o=a)&&o.__esModule?o:{default:o};var l=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.level=n,this.data=i.default.get("characters").find(function(e){return e.id===o.id}),this._init()}return r(e,[{key:"_init",value:function(){}},{key:"width",get:function(){return this.data.width}},{key:"height",get:function(){return this.data.height}},{key:"y",get:function(){return this.data.y}},{key:"speed",get:function(){return this.data.speed}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(17),i=(o=a)&&o.__esModule?o:{default:o};var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.duration=.3}return r(e,[{key:"fadeAnimation",value:function(e,t){t.alpha=0,e&&i.default.to(e,this.duration,{alpha:0,onComplete:function(e){e.target.remove()}}),i.default.to(t,this.duration,{alpha:1})}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=l(n(73)),a=l(n(17)),i=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"changePanel",value:function(e,t,n){"fade"===n?this.fadeAnimation(e,t):"left"===n?this.leftAnimation(e,t):"right"===n&&this.rightAnimation(e,t)}},{key:"leftAnimation",value:function(e,t){t.x=-i.default.width,a.default.to(t,this.duration,{x:0,onUpdate:function(n){e.x=t.x+i.default.width},onComplete:function(n){e.x=t.x+i.default.width,e.remove()}})}},{key:"rightAnimation",value:function(e,t){t.x=i.default.width,a.default.to(t,this.duration,{x:0,onUpdate:function(n){e.x=t.x-i.default.width},onComplete:function(n){e.x=t.x-i.default.width,e.remove()}})}}]),t}();t.default=new u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=f(n(6)),i=f(n(18)),l=f(n(19)),u=f(n(26)),s=n(2);function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n,r,a,f,c,d,h){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var p=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),y=p;if(y.type="LPanel",(void 0===h?"undefined":o(h))===s.UNDEFINED&&(h=0),self.overlapping=h,"string"==typeof e){var v=new i.default;(void 0===n?"undefined":o(n))===s.UNDEFINED&&(n=20),(void 0===r?"undefined":o(r))===s.UNDEFINED&&(r=20),v.graphics.drawRoundRect(1,"#000000",[0,0,n,r,n<10?.5*n:5],!0,e),(e=new l.default(null,0,0,n,r,l.default.DATA_CANVAS)).draw(v)}y.x1=a||.4*e.width,y.x2=f||.6*e.width,y.y1=c||.4*e.height,y.y2=d||.6*e.height,y.bitmapData=e;var b=new l.default(e.image,e.x,e.y,y.x1,y.y1),_=new l.default(e.image,e.x+y.x1,e.y,y.x2-y.x1,y.y1),g=new l.default(e.image,e.x+y.x2,e.y,e.width-y.x2,y.y1),m=new l.default(e.image,e.x,e.y+y.y1,y.x1,y.y2-y.y1),w=new l.default(e.image,e.x+y.x1,e.y+y.y1,y.x2-y.x1,y.y2-y.y1),O=new l.default(e.image,e.x+y.x2,e.y+y.y1,e.width-y.x2,y.y2-y.y1),E=new l.default(e.image,e.x,e.y+y.y2,y.x1,e.height-y.y2),x=new l.default(e.image,e.x+y.x1,e.y+y.y2,y.x2-y.x1,e.height-y.y2),L=new l.default(e.image,e.x+y.x2,e.y+y.y2,e.width-y.x2,e.height-y.y2);return y.ltBitmap=new u.default(b),y.addChild(y.ltBitmap),y.mtBitmap=new u.default(_),y.mtBitmap.x=y.x1-h,y.addChild(y.mtBitmap),y.rtBitmap=new u.default(g),y.addChild(y.rtBitmap),y.lmBitmap=new u.default(m),y.lmBitmap.y=y.y1-h,y.addChild(y.lmBitmap),y.mmBitmap=new u.default(w),y.mmBitmap.x=y.x1-h,y.mmBitmap.y=y.y1-h,y.addChild(y.mmBitmap),y.rmBitmap=new u.default(O),y.rmBitmap.y=y.y1-h,y.addChild(y.rmBitmap),y.lbBitmap=new u.default(E),y.addChild(y.lbBitmap),y.mbBitmap=new u.default(x),y.mbBitmap.x=y.x1-h,y.addChild(y.mbBitmap),y.rbBitmap=new u.default(L),y.addChild(y.rbBitmap),y.resize(n,r),p}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"resize",value:function(e,t){var n=this;n._ll_w=e,n._ll_h=t,n.rtBitmap.x=n.rmBitmap.x=n.rbBitmap.x=e-(n.bitmapData.width-n.x2),n.lbBitmap.y=n.mbBitmap.y=n.rbBitmap.y=t-(n.bitmapData.height-n.y2),n.lmBitmap.scaleY=n.mmBitmap.scaleY=n.rmBitmap.scaleY=(t-n.y1-(n.bitmapData.height-n.y2)+2*self.overlapping)/(n.y2-n.y1),n.mtBitmap.scaleX=n.mmBitmap.scaleX=n.mbBitmap.scaleX=(e-n.x1-(n.bitmapData.width-n.x2)+2*self.overlapping)/(n.x2-n.x1)}},{key:"getSize",value:function(){return{width:this._ll_w,height:this._ll_h}}},{key:"clone",value:function(){var e=new t(this.bitmapData.clone(),this._ll_w,this._ll_h,this.x1,this.x2,this.y1,this.y2,this.overlapping);return e.copyProperty(this),e}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={SIMPLE:"simple",SLICED:"sliced"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=s(n(6)),a=s(n(19)),i=s(n(26)),l=s(n(76)),u=s(n(75));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(a.atlasType=r,a._rotated=o.rotated,r!==l.default.SIMPLE&&n){if(r===l.default.SLICED){var i=a._getPanel(e,n,o);a.addChild(i)}}else{a.atlasType=l.default.SIMPLE;var u=a._getBitmap(e,o);a.addChild(u)}return a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"resize",value:function(e,t){if(this.atlasType===l.default.SIMPLE){var n=this.getChildAt(0);n.scaleX=e/this._sourceSize[0],n.scaleY=t/this._sourceSize[1]}else if(this.atlasType===l.default.SLICED){var o=this.getChildAt(0).getChildAt(0);e-=this._minusWidth,t-=this._minusHeight,this._rotated?(o.resize(t,e),o.y=t):o.resize(e,t)}}},{key:"_getBitmapData",value:function(e,t){var n=t.frame[0][0],o=t.frame[0][1],r=t.frame[1][t.rotated?1:0],i=t.frame[1][t.rotated?0:1],l=new a.default(e,n,o,r,i);return this._sourceSize=t.sourceSize,l}},{key:"_getBitmap",value:function(e,t){var n=this._getBitmapData(e,t),o=new i.default(n),a=void 0,l=void 0;o.rotateCenter=!1,t.rotated?(a=n.getHeight(),l=n.getWidth(),o.y=l,o.rotate=-90):(a=n.getWidth(),l=n.getHeight()),o.x+=.5*(this._sourceSize[0]-a)+t.offset[0],o.y+=.5*(this._sourceSize[1]-l)-t.offset[1];var u=new r.default;return u.addChild(o),u}},{key:"_getPanel",value:function(e,t,n){var o=this._getBitmapData(e,n),a=void 0,i=void 0,l=o.getWidth(),s=o.getHeight(),f=n.rotated?t.bottom:t.left,c=l-(n.rotated?t.top:t.right),d=n.rotated?t.left:t.top,h=s-(n.rotated?t.right:t.bottom),p=new u.default(o,l,s,f,c,d,h);n.rotated?(a=s,i=l,p.y=i,p.rotate=-90):(a=l,i=s),this._minusWidth=this._sourceSize[0]-a,this._minusHeight=this._sourceSize[1]-i,p.x+=.5*this._minusWidth+n.offset[0],p.y+=.5*this._minusHeight-n.offset[1];var y=new r.default;return y.addChild(p),y}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(5)),a=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LFontLoader",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"load",value:function(e,t){var n=this,o=void 0,r=void 0,i=void 0,l=void 0,u=void 0,s=void 0,f="";(o=document.createElement("style")).onerror=function(t){var o=new a.default(a.default.ERROR);o.currentTarget=n,o.target=t.target,o.responseURL=e,n.dispatchEvent(o)},l=e.split(",");for(var c=0;c<l.length;c++)"ttf"===(s=(u=l[c].split("."))[u.length-1])?r=l[c]:"eot"===s&&(i=l[c]);f="@font-face { font-family:'"+t+"';",i&&(f+="src: url("+i+");"),r&&(f+="src: local('lufy'),url("+r+") format('opentype');"),o.innerHTML=f,document.querySelector("head").appendChild(o),setTimeout(function(){var e=new a.default(a.default.COMPLETE);e.currentTarget=n,e.target=n,n.dispatchEvent(e)},1)}}]),t}();l.TYPE_FONT="font",t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.responseType="text"}return o(e,[{key:"setRequestHeader",value:function(e,t){}},{key:"_onreadystatechange",value:function(e){if(this.onreadystatechange){var t={currentTarget:{readyState:4,status:200,responseType:this.responseType,_responseType:this._responseType,responseText:e.data,response:e.data}};this.onreadystatechange(t)}}},{key:"_onerror",value:function(e){this.onerror&&this.onerror(e)}},{key:"open",value:function(e,t,n,o,r){this.url=t}},{key:"send",value:function(e){var t=this,n={filePath:this.url,success:function(e){t._onreadystatechange(e)},fail:function(e){t._onerror(e)}};"text"===this.responseType&&(n.encoding="utf8"),wx.getFileSystemManager().readFile(n)}}]),e}();t.default=r},function(e,t,n){"use strict";function o(){throw"LStageScaleMode cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.EXACT_FIT="exactFit",o.SHOW_ALL="showAll",o.NO_BORDER="noBorder",o.NO_SCALE="noScale",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=u(n(10)),i=u(n(0)),l=n(2);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.type="LGraphics",n.color="#000000",n.alpha=1,n.bitmap=null,n.setList=new Array,n.showList=new Array,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"ll_show",value:function(e){var t=void 0,n=this.setList.length;if(0!==n)for(t=0;t<n;t++)this.setList[t](e),i.default.LGlobal.fpsStatus&&i.default.LGlobal.fpsStatus.graphics++}},{key:"clone",value:function(){var e=this,n=new t,o=void 0,r=void 0,a=void 0;for(n.color=e.color,n.alpha=e.alpha,n.bitmap=e.bitmap,o=0,r=e.setList.length;o<r;o++)a=e.setList[o],n.setList.push(a);for(o=0,r=e.showList.length;o<r;o++)a=e.showList[o],n.showList.push(a);return n}},{key:"lineCap",value:function(e){this.setList.push(function(t){t.lineCap=e})}},{key:"lineJoin",value:function(e){this.setList.push(function(t){t.lineJoin=e})}},{key:"lineWidth",value:function(e){this.setList.push(function(t){t.lineWidth=e})}},{key:"strokeStyle",value:function(e){this.setList.push(function(t){t.strokeStyle=e})}},{key:"stroke",value:function(){this.setList.push(function(e){e.stroke()})}},{key:"beginPath",value:function(){this.setList.push(function(e){e.beginPath()})}},{key:"closePath",value:function(){this.setList.push(function(e){e.closePath()})}},{key:"moveTo",value:function(e,t){this.setList.push(function(n){n.moveTo(e,t)}),this.showList.push({type:i.default.LShape.POINT,arg:[e,t]})}},{key:"lineTo",value:function(e,t){this.setList.push(function(n){n.lineTo(e,t)}),this.showList.push({type:i.default.LShape.POINT,arg:[e,t]})}},{key:"rect",value:function(e,t,n,o){this.setList.push(function(r){r.rect(e,t,n,o)}),this.showList.push({type:i.default.LShape.RECT,arg:[e,t,n,o]})}},{key:"fillStyle",value:function(e){this.setList.push(function(t){t.fillStyle=e})}},{key:"fill",value:function(){this.setList.push(function(e){e.fill()})}},{key:"arc",value:function(e,t,n,o,r,a){this.setList.push(function(i){i.arc(e,t,n,o,r,a)}),this.showList.push({type:i.default.LShape.ARC,arg:o})}},{key:"lineStyle",value:function(e,t){var n=this;t||(t=n.color),n.color=t,n.setList.push(function(n){n.lineWidth=e,n.strokeStyle=t})}},{key:"clear",value:function(){var e=this;e.bitmap=null,e.setList.length=0,e.showList.length=0}},{key:"beginBitmapFill",value:function(e){var t=this;t.setList.push(function(){t.bitmap=e})}},{key:"drawEllipse",value:function(e,t,n,o,r){var a=this;a.setList.push(function(i){var l,u,s,f,c,d,h,p,y,v,b;if(i.beginPath(),c=.5522848,l=n[0],u=n[1],d=(s=n[2])/2*c,h=(f=n[3])/2*c,p=l+s,y=u+f,v=l+s/2,b=u+f/2,i.moveTo(l,b),i.bezierCurveTo(l,b-h,v-d,u,v,u),i.bezierCurveTo(v+d,u,p,b-h,p,b),i.bezierCurveTo(p,b+h,v+d,y,v,y),i.bezierCurveTo(v-d,y,l,b+h,l,b),a.bitmap)return i.save(),i.clip(),i.drawImage(a.bitmap.image,a.bitmap.x,a.bitmap.y,a.bitmap.width,a.bitmap.height,0,0,a.bitmap.width,a.bitmap.height),i.restore(),void(a.bitmap=null);o&&(i.fillStyle=r,i.fill()),e>0&&(i.lineWidth=e,i.strokeStyle=t,i.stroke())}),a.showList.push({type:i.default.LShape.RECT,arg:n})}},{key:"drawArc",value:function(e,t,n,o,r){var a=this;a.setList.push(function(i){if(i.beginPath(),n.length>6&&n[6]&&i.moveTo(n[0],n[1]),i.arc(n[0],n[1],n[2],n[3],n[4],n[5]),n.length>6&&n[6]&&i.lineTo(n[0],n[1]),a.bitmap)return i.save(),i.clip(),i.drawImage(a.bitmap.image,a.bitmap.x,a.bitmap.y,a.bitmap.width,a.bitmap.height,0,0,a.bitmap.width,a.bitmap.height),i.restore(),void(a.bitmap=null);o&&(i.fillStyle=r,i.fill()),e>0&&(i.lineWidth=e,i.strokeStyle=t,i.stroke())}),a.showList.push({type:i.default.LShape.ARC,arg:n})}},{key:"drawRect",value:function(e,t,n,o,r){var a=this;a.setList.push(function(i){if(i.beginPath(),i.rect(n[0],n[1],n[2],n[3]),i.closePath(),a.bitmap)return i.save(),i.clip(),i.drawImage(a.bitmap.image,a.bitmap.x,a.bitmap.y,a.bitmap.width,a.bitmap.height,0,0,a.bitmap.width,a.bitmap.height),i.restore(),void(a.bitmap=null);o&&(i.fillStyle=r,i.fill()),e>0&&(i.lineWidth=e,i.strokeStyle=t,i.stroke())}),a.showList.push({type:i.default.LShape.RECT,arg:n})}},{key:"drawRoundRect",value:function(e,t,n,o,r){var a=this;i.default.LGlobal.enableWebGL?a.drawRect(e,t,n,o,r):(a.setList.push(function(i){if(i.beginPath(),i.moveTo(n[0]+n[4],n[1]),i.lineTo(n[0]+n[2]-n[4],n[1]),i.arcTo(n[0]+n[2],n[1],n[0]+n[2],n[1]+n[4],n[4]),i.lineTo(n[0]+n[2],n[1]+n[3]-n[4]),i.arcTo(n[0]+n[2],n[1]+n[3],n[0]+n[2]-n[4],n[1]+n[3],n[4]),i.lineTo(n[0]+n[4],n[1]+n[3]),i.arcTo(n[0],n[1]+n[3],n[0],n[1]+n[3]-n[4],n[4]),i.lineTo(n[0],n[1]+n[4]),i.arcTo(n[0],n[1],n[0]+n[4],n[1],n[4]),i.closePath(),a.bitmap)return i.save(),i.clip(),i.drawImage(a.bitmap.image,0,0,a.bitmap.width,a.bitmap.height,0,0,a.bitmap.width,a.bitmap.height),i.restore(),void(a.bitmap=null);o&&(i.fillStyle=r,i.fill()),e>0&&(i.lineWidth=e,i.strokeStyle=t,i.stroke())}),a.showList.push({type:i.default.LShape.RECT,arg:n}))}},{key:"drawVertices",value:function(e,t,n,o,r){var a=this;n.length<3||(a.setList.push(function(i){i.beginPath(),i.moveTo(n[0][0],n[0][1]);var l=void 0,u=n.length,s=void 0;for(l=1;l<u;l++)s=n[l],i.lineTo(s[0],s[1]);if(i.lineTo(n[0][0],n[0][1]),i.closePath(),a.bitmap)return i.save(),i.clip(),i.drawImage(a.bitmap.image,a.bitmap.x,a.bitmap.y,a.bitmap.width,a.bitmap.height,0,0,a.bitmap.width,a.bitmap.height),i.restore(),void(a.bitmap=null);o&&(i.fillStyle=r,i.fill()),e>0&&(i.lineWidth=e,i.strokeStyle=t,i.closePath(),i.stroke())}),a.showList.push({type:i.default.LShape.VERTICES,arg:n}))}},{key:"drawTriangles",value:function(e,t,n,o,r){var a=this,i=void 0,l=void 0,u=void 0,s=t.length;a.setList.push(function(f){var c=e,d=void 0,h=void 0;for(i=0,l=0;i<s;i+=3){if(f.save(),f.beginPath(),f.moveTo(c[2*t[i]],c[2*t[i]+1]),f.lineTo(c[2*t[i+1]],c[2*t[i+1]+1]),f.lineTo(c[2*t[i+2]],c[2*t[i+2]+1]),f.lineTo(c[2*t[i]],c[2*t[i]+1]),f.closePath(),o&&(f.lineWidth=o,f.strokeStyle=r,f.stroke()),f.clip(),i%6==0){h=-1;var p=(n[2*t[i+1+l]]-n[2*t[i+l]])*a.bitmap.width,y=(n[2*t[i+2]+1]-n[2*t[i]+1])*a.bitmap.height;if(0===l&&p<0){for(d=i+9;d<s;d+=3)if(n[2*t[i+2]+1]===n[2*t[d+2]+1]){l=d-i;break}0===l&&(l=s-i),p=(n[2*t[i+1+l]]-n[2*t[i+l]])*a.bitmap.width}i+l>=s?(p=(n[2*t[i+l-s]]-n[2*t[i+1]])*a.bitmap.width,(h=1===n[2*t[i]]?0:a.bitmap.width*n[2*t[i]]+p)>a.bitmap.width&&(h-=a.bitmap.width)):h=a.bitmap.width*n[2*t[i+l]],u=a.bitmap.height*n[2*t[i]+1],y<0&&(y=(n[2*t[i+2-(i>0?6:-6)]+1]-n[2*t[i-(i>0?6:-6)]+1])*a.bitmap.height,u=0);var v=(c[2*t[i+1]]-c[2*t[i]])/p,b=(c[2*t[i+1]+1]-c[2*t[i]+1])/p,_=(c[2*t[i+2]]-c[2*t[i]])/y,g=(c[2*t[i+2]+1]-c[2*t[i]+1])/y;f.transform(v,b,_,g,c[2*t[i]],c[2*t[i]+1]),f.drawImage(a.bitmap.image,a.bitmap.x+h,a.bitmap.y+u,p,y,0,0,p,y)}else{var m=(n[2*t[i+2+l]]-n[2*t[i+1+l]])*a.bitmap.width,w=(n[2*t[i+2]+1]-n[2*t[i]+1])*a.bitmap.height;if(0===l&&m<0){for(d=i+9;d<s;d+=3)if(n[2*t[i+2]+1]===n[2*t[d+2]+1]){l=d-i;break}0===l&&(l=s-i),m=(n[2*t[i+2+l]]-n[2*t[i+1+l]])*a.bitmap.width}i+1+l>=s?(m=(n[2*t[i+1+l-s]]-n[2*t[i+2]])*a.bitmap.width,(h=1===n[2*t[i+1]]?0:a.bitmap.width*n[2*t[i+1]]+m)>a.bitmap.width&&(h-=a.bitmap.width)):h=a.bitmap.width*n[2*t[i+1+l]],u=a.bitmap.height*n[2*t[i]+1],w<0&&(w=(n[2*t[i+2-(i>0?6:-6)]+1]-n[2*t[i-(i>0?6:-6)]+1])*a.bitmap.height,u=0);var O=(c[2*t[i+2]]-c[2*t[i+1]])/m,E=(c[2*t[i+2]+1]-c[2*t[i+1]+1])/m,x=(c[2*t[i+2]]-c[2*t[i]])/w,L=(c[2*t[i+2]+1]-c[2*t[i]+1])/w;f.transform(O,E,x,L,c[2*t[i+1]],c[2*t[i+1]+1]),f.drawImage(a.bitmap.image,a.bitmap.x+h,a.bitmap.y+u,m,w,0,-w,m,w)}f.restore()}})}},{key:"drawLine",value:function(e,t,n){this.setList.push(function(o){o.beginPath(),o.moveTo(n[0],n[1]),o.lineTo(n[2],n[3]),o.lineWidth=e,o.strokeStyle=t,o.closePath(),o.stroke()}),this.showList.push({type:i.default.LShape.LINE,arg:n})}},{key:"add",value:function(e){this.setList.push(e)}},{key:"ismouseon",value:function(e,t){var n=this;return!(!e||0===n.showList.length||!n.parent)&&n.parent.ismouseonShapes(n.showList,e.offsetX,e.offsetY)}},{key:"getWidth",value:function(){var e,t=this,n=void 0,r=void 0,a=void 0,u=void 0,s=void 0,f=void 0;for(n=0,e=t.showList.length;n<e;n++)if(t.showList[n].type===i.default.LShape.RECT)(a>t.showList[n].arg[0]||(void 0===a?"undefined":o(a))===l.UNDEFINED)&&(a=t.showList[n].arg[0]),(u<t.showList[n].arg[0]+t.showList[n].arg[2]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[0]+t.showList[n].arg[2]);else if(t.showList[n].type===i.default.LShape.ARC)(a>t.showList[n].arg[0]-t.showList[n].arg[2]||(void 0===a?"undefined":o(a))===l.UNDEFINED)&&(a=t.showList[n].arg[0]-t.showList[n].arg[2]),(u<t.showList[n].arg[0]+t.showList[n].arg[2]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[0]+t.showList[n].arg[2]);else if(t.showList[n].type===i.default.LShape.VERTICES)for(r=0,f=t.showList[n].arg.length;r<f;r++)(a>(s=t.showList[n].arg[r])[0]||(void 0===a?"undefined":o(a))===l.UNDEFINED)&&(a=s[0]),(u<s[0]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=s[0]);else t.showList[n].type===i.default.LShape.LINE?((a>t.showList[n].arg[0]||(void 0===a?"undefined":o(a))===l.UNDEFINED)&&(a=t.showList[n].arg[0]),(a>t.showList[n].arg[2]||(void 0===a?"undefined":o(a))===l.UNDEFINED)&&(a=t.showList[n].arg[2]),(u<t.showList[n].arg[0]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[0]),(u<t.showList[n].arg[2]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[2])):t.showList[n].type===i.default.LShape.POINT&&((a>t.showList[n].arg[0]||(void 0===a?"undefined":o(a))===l.UNDEFINED)&&(a=t.showList[n].arg[0]),(u<t.showList[n].arg[0]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[0]));return(void 0===a?"undefined":o(a))===l.UNDEFINED&&(a=u=0),t.left=a,e>0&&u===a&&(u=a+1),u-a}},{key:"getHeight",value:function(){var e,t=this,n=null,r=null,a=void 0,u=void 0,s=void 0,f=void 0;for(n=0,e=t.showList.length;n<e;n++)if(t.showList[n].type===i.default.LShape.RECT)(u>t.showList[n].arg[1]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[1]),(s<t.showList[n].arg[1]+t.showList[n].arg[3]||(void 0===s?"undefined":o(s))===l.UNDEFINED)&&(s=t.showList[n].arg[1]+t.showList[n].arg[3]);else if(t.showList[n].type===i.default.LShape.ARC)(u>t.showList[n].arg[1]-t.showList[n].arg[2]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[1]-t.showList[n].arg[2]),(s<t.showList[n].arg[1]+t.showList[n].arg[2]||(void 0===s?"undefined":o(s))===l.UNDEFINED)&&(s=t.showList[n].arg[1]+t.showList[n].arg[2]);else if(t.showList[n].type===i.default.LShape.VERTICES)for(r=0,a=t.showList[n].arg.length;r<a;r++)(u>(f=t.showList[n].arg[r])[1]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=f[1]),(s<f[1]||(void 0===s?"undefined":o(s))===l.UNDEFINED)&&(s=f[1]);else t.showList[n].type===i.default.LShape.LINE?((u>t.showList[n].arg[1]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[1]),(u>t.showList[n].arg[3]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[3]),(s<t.showList[n].arg[1]||(void 0===s?"undefined":o(s))===l.UNDEFINED)&&(s=t.showList[n].arg[1]),(s<t.showList[n].arg[3]||(void 0===s?"undefined":o(s))===l.UNDEFINED)&&(s=t.showList[n].arg[3])):t.showList[n].type===i.default.LShape.POINT&&((u>t.showList[n].arg[1]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[1]),(s<t.showList[n].arg[1]||(void 0===s?"undefined":o(s))===l.UNDEFINED)&&(s=t.showList[n].arg[1]));return(void 0===u?"undefined":o(u))===l.UNDEFINED&&(u=s=0),t.top=u,e>0&&s===u&&(s=u+1),s-u}},{key:"startX",value:function(){return this.getWidth(),this.left}},{key:"startY",value:function(){return this.getHeight(),this.top}}]),t}();i.default.LGraphics=s,t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(10),l=(o=i)&&o.__esModule?o:{default:o},u=n(2);var s=function(e){function t(e,n,o,a,i,l,s,f,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return d.a=(void 0===e?"undefined":r(e))!==u.UNDEFINED?e:1,d.b=(void 0===n?"undefined":r(n))!==u.UNDEFINED?n:0,d.u=(void 0===s?"undefined":r(s))!==u.UNDEFINED?s:0,d.c=(void 0===o?"undefined":r(o))!==u.UNDEFINED?o:0,d.d=(void 0===a?"undefined":r(a))!==u.UNDEFINED?a:1,d.v=(void 0===f?"undefined":r(f))!==u.UNDEFINED?f:0,d.tx=(void 0===i?"undefined":r(i))!==u.UNDEFINED?i:0,d.ty=(void 0===l?"undefined":r(l))!==u.UNDEFINED?l:0,d.w=(void 0===c?"undefined":r(c))!==u.UNDEFINED?c:1,d}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),a(t,[{key:"setTo",value:function(e,t,n,o,a,i,l,s,f){var c=this;return(void 0===e?"undefined":r(e))!==u.UNDEFINED&&(c.a=e),(void 0===t?"undefined":r(t))!==u.UNDEFINED&&(c.b=t),(void 0===n?"undefined":r(n))!==u.UNDEFINED&&(c.c=n),(void 0===o?"undefined":r(o))!==u.UNDEFINED&&(c.d=o),(void 0===a?"undefined":r(a))!==u.UNDEFINED&&(c.tx=a),(void 0===i?"undefined":r(i))!==u.UNDEFINED&&(c.ty=i),(void 0===l?"undefined":r(l))!==u.UNDEFINED&&(c.u=l),(void 0===s?"undefined":r(s))!==u.UNDEFINED&&(c.v=s),(void 0===f?"undefined":r(f))!==u.UNDEFINED&&(c.w=f),c}},{key:"isIdentity",value:function(){var e=this;return 1===e.a&&0===e.b&&0===e.c&&1===e.d&&0===e.tx&&0===e.ty&&0===e.u&&0===e.v&&1===e.w}},{key:"transform",value:function(e){var t=this;return e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty),t}},{key:"identity",value:function(){this.setTo(1,0,0,1,0,0,0,0,1)}},{key:"rotate",value:function(e){var n=e*Math.PI/180,o=Math.cos(n),r=Math.sin(n),a=new t(o,r,-r,o,0,0,0,0,1);return this.add(a),this}},{key:"scale",value:function(e,n){var o=new t(e,0,0,n,0,0,0,0,1);return this.add(o),this}},{key:"translate",value:function(e,n){var o=new t(1,0,0,1,e,n,0,0,1);return this.add(o),this}},{key:"skew",value:function(e,n){var o=new t(1,n,e,1,0,0,0,0,1);return this.add(o),this}},{key:"add",value:function(e){var t,n,o,r,a,i,l,u,s,f=this;t=f.a*e.a+f.b*e.c+f.u*e.tx,n=f.a*e.b+f.b*e.d+f.u*e.ty,l=f.a*e.u+f.b*e.v+f.u*e.w,o=f.c*e.a+f.d*e.c+f.v*e.tx,r=f.c*e.b+f.d*e.d+f.v*e.ty,u=f.c*e.u+f.d*e.v+f.v*e.w,a=f.tx*e.a+f.ty*e.c+f.w*e.tx,i=f.tx*e.b+f.ty*e.d+f.w*e.ty,s=f.tx*e.u+f.ty*e.v+f.w*e.w,f.setTo(t,n,o,r,a,i,l,u,s)}},{key:"toArray",value:function(e){var t=this;if(Array.isArray(e)&&3===e.length)return[e[0]*t.a+e[1]*t.c+e[2]*t.tx,e[0]*t.b+e[1]*t.d+e[2]*t.ty,e[0]*t.u+e[1]*t.v+e[2]*t.w];var n=t.a*e.a+t.b*e.c+t.u*e.tx,o=t.a*e.b+t.b*e.d+t.u*e.ty,r=t.a*e.u+t.b*e.v+t.u*e.w,a=t.c*e.a+t.d*e.c+t.v*e.tx,i=t.c*e.b+t.d*e.d+t.v*e.ty,l=t.c*e.u+t.d*e.v+t.v*e.w;return[n,o,a,i,t.tx*e.a+t.ty*e.c+t.w*e.tx,t.tx*e.b+t.ty*e.d+t.w*e.ty,r,l,t.tx*e.u+t.ty*e.v+t.w*e.w]}},{key:"clone",value:function(){var e=this;return new t(e.a,e.b,e.c,e.d,e.tx,e.ty,e.u,e.v,e.w)}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(10),a=(o=r)&&o.__esModule?o:{default:o};var i=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.matrix=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(32)),a=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.childList=[],e.numChildren=0,e.mouseChildren=!0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"addChild",value:function(e){var t=this,n=void 0;return e.parent&&(n=a.default.LGlobal.destroy,a.default.LGlobal.destroy=!1,e.parent.removeChild(e),a.default.LGlobal.destroy=n),e.parent=t,t.childList.push(e),t.numChildren=t.childList.length,e._ll_removeFromSelf=!1,e}},{key:"addChildAt",value:function(e,t){var n=this,o=void 0;if(!(t<0||t>n.childList.length))return"function"==typeof e.remove&&(o=a.default.LGlobal.destroy,a.default.LGlobal.destroy=!1,e.remove(),a.default.LGlobal.destroy=o),e.parent=n,n.childList.splice(t,0,e),n.numChildren=n.childList.length,e._ll_removeFromSelf=!1,e}},{key:"removeChild",value:function(e){var n,o=this,r=o.childList,i=void 0;for(i=0,n=r.length;i<n;i++)if(e.objectIndex===r[i].objectIndex){t.destroy(e),o.childList.splice(i,1);break}o.numChildren=o.childList.length,delete e.parent,a.default.LTweenLite.removeTarget(e)}},{key:"getChildAt",value:function(e){var t=this.childList;return 0===t.length||t.length<=e?null:t[e]}},{key:"getChildByName",value:function(e){var t,n=this.childList,o=void 0;for(o=0,t=n.length;o<t;o++)if(n[o]&&n[o].name===e)return n[o];return null}},{key:"removeChildAt",value:function(e){var n=this,o=n.childList,r=void 0;if(!(o.length<=e||e<0))return r=o[e],t.destroy(r),n.childList.splice(e,1),delete r.parent,a.default.LTweenLite.removeTarget(r),n.numChildren=n.childList.length,r}},{key:"getChildIndex",value:function(e){if(!e)return-1;var t=this.childList,n=void 0,o=t.length;for(n=0;n<o;n++)if(t[n].objectIndex===e.objectIndex)return n;return-1}},{key:"setChildIndex",value:function(e,t){var n=this,o=n.childList,r=void 0,a=o.length;if("root"===e.parent||e.parent.objectIndex!==n.objectIndex||t<0||t>=a)return-1;for(r=0;r<a&&o[r].objectIndex!==e.objectIndex;r++);return n.childList.splice(r,1),n.childList.splice(t,0,e),t}},{key:"resize",value:function(){var e=this;e.width=e.getWidth(),e.height=e.getHeight()}},{key:"removeAllChild",value:function(){var e,n=this,o=n.childList,r=void 0;for(r=0,e=o.length;r<e;r++){var i=o[r];t.destroy(i),delete i.parent,a.default.LTweenLite.removeTarget(i)}n.childList.length=0,n.width=0,n.height=0,n.numChildren=0}}]),t}();l.destroy=function(e){a.default.LGlobal.destroy&&(e.die&&e.die(),e.removeAllChild&&e.removeAllChild())},t.default=l},function(e,t,n){"use strict";function o(){throw"LMultitouchInputMode cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.NONE="none",o.GESTURE="gesture",o.TOUCH_POINT="touchPoint",t.default=o},function(e,t,n){"use strict";function o(){throw"LMultitouch cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.inputMode="none",o.touchs=[],t.default=o},function(e,t,n){"use strict";var o=c(n(9)),r=n(15),a=c(n(80)),i=c(n(40)),l=c(n(31)),u=n(39),s=c(n(8)),f=n(38);c(n(1)),c(n(5)),c(n(28)),c(n(19)),c(n(26)),c(n(6)),c(n(4)),c(n(20)),c(n(7)),c(n(17)),c(n(25)),c(n(69)),c(n(27)),c(n(66)),c(n(16)),c(n(64)),c(n(59)),c(n(57)),c(n(56)),c(n(53)),c(n(52)),c(n(51)),c(n(50)),c(n(34)),c(n(48)),c(n(47)),c(n(46)),c(n(45)),c(n(44)),c(n(33));function c(e){return e&&e.__esModule?e:{default:e}}o.default.width=640,o.default.mobile?o.default.height=o.default.width*window.innerHeight/window.innerWidth:o.default.height=960;var d=[{name:f.DEFAULT_CHARACTER_IMG,path:"./resources/images/default.png"}];(0,r.LInit)(null,"legend",o.default.width,o.default.height,function(){o.default.align=i.default.TOP_LEFT,o.default.stageScale=a.default.SHOW_ALL,o.default.mobile&&o.default.screen(o.default.FULL_SCREEN);o.default.setDebug(!0),l.default.load(d,function(e){},function(e){u.Common.datalist=e,s.default.loadScene("prefabs/Scene/Top")})})}]);