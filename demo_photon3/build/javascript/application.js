!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=81)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={},a=o;t.default={ll:o,lufylegend:a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nodeMap={}}return o(e,[{key:"set",value:function(e,t){this._nodeMap[e]=t,t.prototype._ll_className=e}},{key:"get",value:function(e){return this._nodeMap[e]}}]),e}();t.default=new a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OS_PC="pc",t.OS_IPHONE="iPhone",t.OS_IPOD="iPod",t.OS_IPAD="iPad",t.OS_ANDROID="Android",t.OS_WINDOWS_PHONE="Windows Phone",t.OS_BLACK_BERRY="BlackBerry",t.NONE="none",t.UNDEFINED="undefined",t.LANDSCAPE="landscape",t.PORTRAIT="portrait"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(0),i=(o=r)&&o.__esModule?o:{default:o};var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventType=t,this._ll_preventDefault=!1}return a(e,[{key:"preventDefault",value:function(){this._ll_preventDefault=!0}}]),e}();l.INIT="init",l.COMPLETE="complete",l.ERROR="error",l.PROGRESS="progress",l.ENTER_FRAME="enter_frame",l.WINDOW_RESIZE="resize",l.WINDOW_ORIENTATIONCHANGE="orientationchange",l.SOUND_COMPLETE="sound_complete",l.END_CONTACT="endContact",l.PRE_SOLVE="preSolve",l.POST_SOLVE="postSolve",l.BEGIN_CONTACT="beginContact",l.addEventListener=function(e,t,n,o){o=o||!1,e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n]()},e.attachEvent("on"+t,e[t+n]))},l.removeEventListener=function(e,t,n,o){o=o||!1,e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent&&(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n]()},e.detachEvent("on"+t,e[t+n]))},i.default.LEvent=l,t.default=l},function(e,t,n){"use strict";function o(){throw"LMouseEvent cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.MOUSE_DOWN="mousedown",o.MOUSE_UP="mouseup",o.TOUCH_START="touchstart",o.TOUCH_MOVE="touchmove",o.TOUCH_END="touchend",o.MOUSE_MOVE="mousemove",o.MOUSE_OVER="mouseover",o.MOUSE_OUT="mouseout",o.DOUBLE_CLICK="dblclick",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=i(n(7)),r=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._eventList=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"addEventListener",value:function(e,t,n){this._eventList.push({listener:t,type:e,_this:n})}},{key:"removeEventListener",value:function(e,t){var n,o=void 0;for(n=this._eventList.length,o=0;o<n;o++)if(this._eventList[o]&&e===this._eventList[o].type&&(!t||this._eventList[o].listener===t))return void this._eventList.splice(o,1)}},{key:"removeAllEventListener",value:function(){this._eventList=[]}},{key:"dispatchEvent",value:function(e){for(var t=this._eventList.length,n="string"==typeof e?e:e.eventType,o=0;o<t;o++){var a=this._eventList[o];if(a&&n===this._eventList[o].type){if("string"==typeof e)a.listener.call(a._this?a._this:this,{currentTarget:this,target:this,eventType:n,event_type:n});else if(e.target||(e.target=this),e.currentTarget||(e.currentTarget=e.target),e._ll_preventDefault=!1,a.listener.call(a._this?a._this:this,e),e._ll_preventDefault)return!1;return!0}}return!1}},{key:"hasEventListener",value:function(e,t){for(var n=0,o=this._eventList.length;n<o;n++)if(this._eventList[n]&&e===this._eventList[n].type&&(void 0===t||t===this._eventList[n].listener))return!0;return!1}}]),t}();r.default.LEventDispatcher=l,t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(17),r=d(n(15)),i=d(n(38)),l=d(n(37)),u=d(n(19)),s=d(n(13)),f=d(n(10)),c=d(n(69));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._currentScene=null,this._currentPanel=null,this._panelList=[],this._dialogList=[]}return o(e,[{key:"showDialog",value:function(e,t){var n=this;return console.log("showDialog",e,t),this.loadPrefab(e).then(function(e){var t=r.default.create(e);n._currentPanel.addChild(t)})}},{key:"loadPanel",value:function(e,t,n){var o=this;return n=n||"fade",this.loadPrefab(e).then(function(e){e.request=t;var a=r.default.create(e),i=o._currentPanel||null;i||(n="fade"),o._currentPanel=a;var l=o._currentScene.childList.find(function(e){return"panel"===e.name});l?l.addChild(a):o._currentScene.addChildAt(a,0),a instanceof r.default&&a.lateInit(),a.onLoadEnd&&a.onLoadEnd(t),c.default.changePanel(i,o._currentPanel,n)})}},{key:"loadScene",value:function(e,t){var n=this;return this.loadPrefab(e).then(function(e){e.request=t;var o=r.default.create(e),i=n._currentScene||null;n._currentScene=o,(0,a.addChild)(o),o instanceof r.default&&o.lateInit(),o.onLoadEnd&&o.onLoadEnd(t),i&&(o.alpha=0,s.default.to(i,.3,{alpha:0,onComplete:function(e){e.target.remove()}}),s.default.to(o,.3,{alpha:1}))})}},{key:"loadPrefab",value:function(e,t){var n=this,o=void 0,a=(e="resources/"+e+".prefab")+".meta";return f.default.traceDebug&&(e+="?t="+Date.now(),a+="?t="+Date.now()),new Promise(function(t,n){i.default.load([{name:"prefab",path:e,type:l.default.TYPE_TEXT},{name:"meta",path:a,type:l.default.TYPE_TEXT}],null,function(e){t(e)})}).then(function(e){o=JSON.parse(e.prefab);var t=JSON.parse(e.meta);return n.loadResources(t)}).then(function(){return Promise.resolve(o)})}},{key:"loadResources",value:function(e){var t=[];if(e.atlas){var n=!0,o=!1,a=void 0;try{for(var r,l=e.atlas[Symbol.iterator]();!(n=(r=l.next()).done);n=!0){var s=r.value;t.push({name:s.name,path:"resources/"+s.path,type:u.default.TYPE_PLIST})}}catch(e){o=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}}return new Promise(function(e,n){i.default.load(t,null,function(t){e(t)})})}},{key:"currentScene",get:function(){return this._currentScene}}]),e}();t.default=new h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="LObject",this.objectIndex=++e.objectIndex,this.objectindex=this.objectIndex}return o(e,[{key:"copyProperty",value:function(e){for(var t in e)if("number"==typeof e[t]||"string"==typeof e[t]||"boolean"==typeof e[t]){if("objectindex"===t||"objectIndex"===t)continue;this[t]=e[t]}else Array.isArray(e[t])&&(this[t]=e[t].slice());e.mask&&(this.mask=e.mask.clone())}},{key:"toString",value:function(){return"[object "+this.constructor.name+"]"}}]),e}();a.objectIndex=1,t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=d(n(78)),i=n(2),l=d(n(75)),u=d(n(9)),s=d(n(3)),f=d(n(4)),c=d(n(0));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.type="LSprite",n.rotatex,n.rotatey,n.graphics=new l.default,n.graphics.parent=n,n.box2dBody=null,n.shapes=new Array,n.useCursor=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"setRotate",value:function(e){var t=this;t.box2dBody?t.box2dBody.SetAngle(e):t.rotate=e}},{key:"_rotateReady",value:function(){var e=this;e.box2dBody&&(o(e.rotatex)===i.UNDEFINED&&e.getRotateXY(),e.x=e.box2dBody.GetPosition().x*c.default.LGlobal.box2d.drawScale-e.parent.x-e.rotatex,e.y=e.box2dBody.GetPosition().y*c.default.LGlobal.box2d.drawScale-e.parent.y-e.rotatey,e.rotate=e.box2dBody.GetAngle())}},{key:"_ll_show",value:function(e){var t=this;t.graphics.ll_show(e),c.default.LGlobal.show(t.childList,e),t._ll_debugShape(e)}},{key:"startDrag",value:function(e){var t=this;t.ll_dragStart||(t.ll_touchPointID=e,t.ll_dragGlobalPoint=t.parent.localToGlobal(new u.default(t.x,t.y)),t.ll_dragMX=c.default.LGlobal.offsetX,t.ll_dragMY=c.default.LGlobal.offsetY,t.ll_dragStart=!0,c.default.LGlobal.dragList.push(t))}},{key:"stopDrag",value:function(){var e,t=void 0;for(t=0,e=c.default.LGlobal.dragList.length;t<e;t++)if(this.objectIndex===c.default.LGlobal.dragList[t].objectIndex){this.ll_dragStart=!1,c.default.LGlobal.dragList.splice(t,1);break}}},{key:"getRotateXY",value:function(e,t){var n=this;e&&t||(e=n.getWidth(),t=n.getHeight()),n.rotatex=e/2,n.rotatey=t/2}},{key:"getWidth",value:function(e){var t,n=this,a=void 0,r=void 0,l=void 0,u=void 0,s=void 0,f=void 0,c=n.graphics.startX(),d=c+n.graphics.getWidth();for(a=0,t=n.childList.length;a<t;a++)r=n.childList[a],o(r.visible)!==i.UNDEFINED&&r.visible&&(l=r.x,"function"==typeof r._startX&&(l=r._startX(e)),u=l+r.getWidth(e),l<c&&(c=l),u>d&&(d=u));return e&&n.mask?(s=n.mask._startX?n.mask._startX():n.mask.startX(),f=n.mask.getWidth(),c<s&&(c=s),d>s+f&&(d=s+f),n.ll_left=c,n.ll_right=d):(n.ll_left=n.x+c,n.ll_right=n.x+d),(d-c)*n.scaleX}},{key:"getHeight",value:function(e){var t,n=this,a=void 0,r=void 0,l=void 0,u=void 0,s=void 0,f=void 0,c=n.graphics.startY(),d=c+n.graphics.getHeight();for(a=0,t=n.childList.length;a<t;a++)r=n.childList[a],o(r.visible)!==i.UNDEFINED&&r.visible&&(l=r.y,"function"==typeof r._startY&&(l=r._startY(e)),u=l+r.getHeight(e),l<c&&(c=l),u>d&&(d=u));return e&&n.mask?(s=n.mask._startY?n.mask._startY():n.mask.startY(),f=n.mask.getHeight(),c<s&&(c=s),d>s+f&&(d=s+f),n.ll_top=c,n.ll_bottom=d):(n.ll_top=n.y+c,n.ll_bottom=n.y+d),(d-c)*n.scaleY}},{key:"_startX",value:function(e){return this.getWidth(e),this.ll_left}},{key:"startX",value:function(e){return this._startX(e)*this.scaleX}},{key:"_startY",value:function(e){return this.getHeight(e),this.ll_top}},{key:"startY",value:function(e){return this._startY(e)*this.scaleY}},{key:"_ll_loopframe",value:function(){this.dispatchEvent(s.default.ENTER_FRAME)}},{key:"clone",value:function(){var e,n=this,o=new t,a=void 0,r=void 0,i=void 0;for(o.copyProperty(n),o.graphics=n.graphics.clone(),o.graphics.parent=o,o.childList.length=0,i=0,e=n.childList.length;i<e;i++)(a=n.childList[i]).clone&&((r=a.clone()).parent=o,o.childList.push(r));return o}},{key:"_mevent",value:function(e){var t=void 0;for(t=0;t<this.mouseList.length;t++){if(this.mouseList[t].type===e)return!0}return!1}},{key:"ll_dispatchMouseEvent",value:function(e,t,n,o,a){var r=this,i=void 0;if(r.mouseEnabled)for(i=0;i<r.mouseList.length;i++){var l=r.mouseList[i];l.type===e&&(t.selfX=(o-(r.x*n.scaleX+n.x))/(n.scaleX*r.scaleX),t.selfY=(a-(r.y*n.scaleY+n.y))/(n.scaleY*r.scaleY),t.currentTarget=t.clickTarget=r,t.target||(t.target=r),l.listener(t,r))}}},{key:"ll_mouseout",value:function(e,t,n,o,a){var r=this;if(t===f.default.MOUSE_MOVE&&r.ll_mousein&&(r.ll_mousein=!1,r._mevent(f.default.MOUSE_OUT)&&r.ll_dispatchMouseEvent(f.default.MOUSE_OUT,e,n,o,a),r.mouseChildren))for(var i=r.childList.length-1;i>=0;i--)r.childList[i].mouseEvent&&r.childList[i].ll_mouseout&&r.childList[i].ll_mouseout(e,t,n,o,a)}},{key:"mouseEvent",value:function(e,t,n){if(!e)return!1;var o=this,a=void 0,r=e.offsetX,l=e.offsetY,u=void 0;if(!o.visible)return!1;if(n||(n={x:0,y:0,scaleX:1,scaleY:1}),o.ismouseon(e,n)){if(c.default.LGlobal.os===i.OS_PC&&o.useCursor&&t===f.default.MOUSE_MOVE&&(c.default.LGlobal.cursor=o.useCursor),t!==f.default.MOUSE_MOVE||o.ll_mousein||(o.ll_mousein=!0,o._mevent(f.default.MOUSE_OVER)&&o.ll_dispatchMouseEvent(f.default.MOUSE_OVER,e,n,r,l)),o.mouseChildren){for(u={x:o.x*n.scaleX+n.x,y:o.y*n.scaleY+n.y,scaleX:n.scaleX*o.scaleX,scaleY:n.scaleY*o.scaleY},a=o.childList.length-1;a>=0&&(!o.childList[a].mouseEvent||!o.childList[a].mouseEvent(e,t,u)||(e.target=o.childList[a],t===f.default.MOUSE_MOVE));a--);o._mevent(t)&&o.ll_dispatchMouseEvent(t,e,n,r,l)}return!0}return o.ll_mouseout(e,t,n,r,l),!1}},{key:"hitTestPoint",value:function(e,t){var n=this,o=n.shapes;return o&&0!==o.length||(n.getWidth(),n.getHeight(),o=[{type:c.default.LShape.RECT,arg:[n.ll_left-n.x,n.ll_top-n.y,n.ll_right-n.ll_left,n.ll_bottom-n.ll_top]}]),n.ismouseonShapes(o,e,t)}},{key:"hitTestObject",value:function(e){var t,n,o=this,a=o.shapes,r=e.shapes,i=void 0,l=void 0,u=void 0,s=void 0,f=void 0,d=void 0;for(a&&0!==a.length||(o.getWidth(),o.getHeight(),a=[{type:c.default.LShape.RECT,arg:[o.ll_left-o.x,o.ll_top-o.y,o.ll_right-o.ll_left,o.ll_bottom-o.ll_top]}]),r&&0!==r.length||(e.getWidth(),e.getHeight(),r=[{type:c.default.LShape.RECT,arg:[e.ll_left-e.x,e.ll_top-e.y,e.ll_right-e.ll_left,e.ll_bottom-e.ll_top]}]),t=o.getRootMatrix(),n=e.getRootMatrix(),i=a.length-1;i>=0;i--)for(l=a[i],d=o._changeShape(l.type,l.arg,t),u=r.length-1;u>=0;u--)if(s=r[u],f=e._changeShape(s.type,s.arg,n),l.type===c.default.LShape.VERTICES||l.type===c.default.LShape.RECT){if(s.type===c.default.LShape.VERTICES||s.type===c.default.LShape.RECT){if(c.default.LGlobal.hitTestPolygon(d,f))return!0}else if(s.type===c.default.LShape.ARC&&c.default.LGlobal.hitTestPolygonArc(d,f))return!0}else if(s.type===c.default.LShape.VERTICES||s.type===c.default.LShape.RECT){if(c.default.LGlobal.hitTestPolygonArc(f,d))return!0}else if(s.type===c.default.LShape.ARC&&Math.sqrt((d[0]-f[0])*(d[0]-f[0])+(d[1]-f[1])*(d[1]-f[1]))<d[2]+f[2])return!0;return!1}},{key:"addShape",value:function(e,t){if(!(e===c.default.LShape.VERTICES&&t.length<3))return this.shapes.push({type:e,arg:t}),this.shapes}},{key:"addShapes",value:function(e){var t=this;0===t.shapes.length?t.shapes=e:t.shapes=t.shapes.concat(e)}},{key:"clearShape",value:function(){this.shapes=[]}},{key:"_ll_debugShape",value:function(e){var t,n=this,o=void 0,a=void 0,r=void 0,i=void 0,l=void 0;if(c.default.LGlobal&&c.default.LGlobal.traceDebug&&n.shapes&&0!==n.shapes.length)for(o=0,t=n.shapes.length;o<t;o++){if(a=n.shapes[o],e=e||c.default.LGlobal.canvas,r=a.arg,e.beginPath(),a.type===c.default.LShape.RECT)e.rect(r[0],r[1],r[2],r[3]);else if(a.type===c.default.LShape.ARC)e.arc(r[0],r[1],r[2],0,2*Math.PI);else if(a.type===c.default.LShape.VERTICES){for(e.moveTo(r[0][0],r[0][1]),i=1,l=r.length;i<l;i++)e.lineTo(r[i][0],r[i][1]);e.lineTo(r[0][0],r[0][1])}e.closePath(),e.strokeStyle="#00FF00",e.stroke()}}},{key:"ismouseon",value:function(e,t){var n=this;if(!n.visible||!e)return!1;if(n.mask&&(n.mask.parent||(n.mask.parent=n.parent),!n.mask.ismouseon(e,t)))return!1;if(n.shapes&&n.shapes.length>0)return n.ismouseonShapes(n.shapes,e.offsetX,e.offsetY);var o=void 0,a=!1,r=n.childList,i={x:n.x*t.scaleX+t.x,y:n.y*t.scaleY+t.y,scaleX:t.scaleX*n.scaleX,scaleY:t.scaleY*n.scaleY};for(o=r.length-1;o>=0;o--)if(r[o].ismouseon&&(a=r[o].ismouseon(e,i)),a){e.target=n.childList[o];break}return a||(a=n.graphics.ismouseon(e,i)),a}},{key:"die",value:function(){var e,t=this,n=void 0,o=void 0;for(t.graphics.clear(),t.removeAllEventListener(),t.stopDrag(),t.box2dBody&&t.clearBody(),n=0,e=(o=t.childList).length;n<e;n++)o[n].die&&o[n].die()}},{key:"setBodyMouseJoint",value:function(e){this.box2dBody&&(this.box2dBody.mouseJoint=e)}},{key:"clearBody",value:function(e){var t=this;t.box2dBody&&(c.default.LGlobal.box2d.removeList.push(t.box2dBody),t.box2dBody=null)}},{key:"addBodyCircle",value:function(e,t,n,o,a,r,i){var l=this;l.rotatex=e,l.rotatey=e,l.box2dBody=c.default.LGlobal.box2d.addCircle(e/c.default.LGlobal.box2d.drawScale,(l.x+t)/c.default.LGlobal.box2d.drawScale,(l.y+n)/c.default.LGlobal.box2d.drawScale,1===o?c.default.LGlobal.box2d.b2Body.b2_dynamicBody:c.default.LGlobal.box2d.b2Body.b2_staticBody,a||.5,r||.4,i||.8),l.box2dBody.SetUserData(l)}},{key:"addBodyPolygon",value:function(e,t,n,o,a,r){var i=this;i.rotatex=e/2,i.rotatey=t/2,i.box2dBody=c.default.LGlobal.box2d.addPolygon(.5*e/c.default.LGlobal.box2d.drawScale,.5*t/c.default.LGlobal.box2d.drawScale,i.x/c.default.LGlobal.box2d.drawScale,i.y/c.default.LGlobal.box2d.drawScale,1===n?c.default.LGlobal.box2d.b2Body.b2_dynamicBody:c.default.LGlobal.box2d.b2Body.b2_staticBody,o||.5,a||.4,r||.8),i.box2dBody.SetUserData(i)}},{key:"addBodyVertices",value:function(e,t,n,o,a,r,i){var l=this;l.rotatex=0,l.rotatey=0,l.box2dBody=c.default.LGlobal.box2d.addVertices(e,1===o?c.default.LGlobal.box2d.b2Body.b2_dynamicBody:c.default.LGlobal.box2d.b2Body.b2_staticBody,a,r,i),l.box2dBody.SetUserData(l),l.box2dBody.SetPosition(new c.default.LGlobal.box2d.b2Vec2((l.x+t)/c.default.LGlobal.box2d.drawScale,(l.y+n)/c.default.LGlobal.box2d.drawScale))}}]),t}();c.default.LSprite=h,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n}return o(e,[{key:"toString",value:function(){return"[object LPoint("+this.x+","+this.y+")]"}},{key:"length",value:function(){return e.distance2(this.x,this.y,0,0)}},{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"setTo",value:function(e,t){this.x=e,this.y=t}},{key:"copyFrom",value:function(e){this.setTo(e.x,e.y)}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"normalize",value:function(e){var t=this,n=e/t.length();t.x*=n,t.y*=n}},{key:"offset",value:function(e,t){this.x+=e,this.y+=t}},{key:"subtract",value:function(t){return new e(this.x-t.x,this.y-t.y)}}]),e}();a.distance=function(e,t){return a.distance2(e.x,e.y,t.x,t.y)},a.distance2=function(e,t,n,o){var a=e-n,r=t-o;return Math.sqrt(a*a+r*r)},a.interpolate=function(e,t,n){return new a(e.x+(t.x-e.x)*(1-n),e.y+(t.y-e.y)*(1-n))},a.polar=function(e,t){return new a(e*Math.cos(t),e*Math.sin(t))},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(2),r=_(n(3)),i=_(n(4)),l=_(n(42)),u=_(n(41)),s=_(n(80)),f=_(n(79)),c=_(n(21)),d=_(n(9)),h=_(n(40)),p=_(n(39)),v=n(17),y=_(n(8)),b=_(n(0));function _(e){return e&&e.__esModule?e:{default:e}}var g=function(){function e(){throw"LGlobal cannot be instantiated"}return Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)}),String.format||(String.format=function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,n){return void 0!==t[n]?t[n]:e})}),e.FULL_SCREEN="full_screen",e.traceDebug=!1,e.displayState=a.NONE,e.aspectRatio=a.NONE,e.canvasObj=null,e.canvas=null,e.webAudio=!0,e.objectIndex=1,e.stage=null,e.width=0,e.height=0,e.box2d=null,e.speed=50,e.IS_MOUSE_DOWN=!1,e.stopPropagation=!1,e.preventDefault=!0,e.childList=[],e.dragList=[],e.excludingContainer=[],e.fpsStatus=null,e.stageScale="noScale",e.align="M",e.mobile=!1,e.canTouch=!1,e.wx=!1,e.os=a.OS_PC,e.ios=!1,e.android=!1,e.android_new=!1,e.backgroundColor=null,e.destroy=!0,e.forceRefresh=!1,e.devicePixelRatio=window.devicePixelRatio||1,e.startTimer=0,e.keepClear=!0,e.top=0,e.left=0,e.window=window,function(t){if("undefined"!=typeof wx&&"undefined"!=typeof GameGlobal&&(e.wx=!0),e.isOldFirefox=function(e){var t=e.toLowerCase().indexOf("firefox");if(t<0)return!1;var n=e.substring(t+8,e.length);return parseFloat(n)<39}(t),t.indexOf(a.OS_IPHONE)>0)e.os=a.OS_IPHONE,e.canTouch=!0,e.ios=!0;else if(t.indexOf(a.OS_IPOD)>0)e.os=a.OS_IPOD,e.canTouch=!0,e.ios=!0;else if(t.indexOf(a.OS_IPAD)>0)e.os=a.OS_IPAD,e.ios=!0,e.canTouch=!0;else if(t.indexOf(a.OS_ANDROID)>0){e.os=a.OS_ANDROID,e.canTouch=!0,e.android=!0;var n=t.indexOf(a.OS_ANDROID);parseInt(t.substr(n+8,1))>3&&(e.android_new=!0)}else t.indexOf(a.OS_WINDOWS_PHONE)>0?(e.os=a.OS_WINDOWS_PHONE,e.canTouch=!0):t.indexOf(a.OS_BLACK_BERRY)>0&&(e.os=a.OS_BLACK_BERRY,e.canTouch=!0);if(e.ios){var o=t.match(/OS\s(\d+)_(\d+)_?(\d+)?/);e.iOSversion=[parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3]||0,10)]}e.mobile=e.canTouch}(navigator.userAgent),e.enableWebGL=!e.wx&&("undefined"==typeof enableWebGLCanvas?"undefined":o(enableWebGLCanvas))!==a.UNDEFINED,e.setDebug=function(t){e.traceDebug=t},e.setCanvas=function(t,n,o){e.ll_createCanvas(t,n,o),e.ll_createStage(),e.displayState===e.FULL_SCREEN?e.resize():"number"==typeof e.displayState&&e.resize(e.width*e.displayState,e.height*e.displayState),e.canTouch?(e.ll_clicks=0,e.ll_prev_clickTime=0,r.default.addEventListener(e.canvasObj,i.default.TOUCH_START,e.ll_touchStart),r.default.addEventListener(document,i.default.TOUCH_END,e.ll_touchEnd),r.default.addEventListener(e.canvasObj,i.default.TOUCH_MOVE,e.ll_touchMove)):(r.default.addEventListener(e.canvasObj,i.default.DOUBLE_CLICK,e.ll_mouseDbclick),r.default.addEventListener(e.canvasObj,i.default.MOUSE_DOWN,e.ll_mouseDown),r.default.addEventListener(e.canvasObj,i.default.MOUSE_MOVE,e.ll_mouseMove),r.default.addEventListener(e.canvasObj,i.default.MOUSE_UP,e.ll_mouseUp),r.default.addEventListener(e.canvasObj,i.default.MOUSE_OUT,e.ll_mouseOut))},e.ll_createCanvas=function(t,n,o){e.id=t,e.wx?(e.canvasObj=document.getElementsByTagName("canvas")[0],e.object={style:{left:0,top:0}},e.canvasObj.style={marginLeft:0,marginTop:0}):(e.object=document.getElementById(t),e.object.innerHTML='<div style="position:absolute;margin:0;padding:0;overflow:visible;-webkit-transform: translateZ(0);z-index:0;"><canvas id="'+e.id+'_canvas" style="margin:0;padding:0;width:'+n+"px;height:"+o+'px;"><div id="noCanvas"><p>Hey there, it looks like you\'re using Microsoft\'s Internet Explorer. Microsoft hates the Web and doesn\'t support HTML5 :(</p></div></canvas></div><div id="'+e.id+'_InputText" style="position:absolute;margin:0;padding:0;z-index:10;display:none;"><textarea rows="1" id="'+e.id+'_InputTextareaBox" style="resize:none;background:transparent;border:0px;"></textarea><input type="text" id="'+e.id+'_InputTextBox"  style="background:transparent;border:0px;" /><input type="password" id="'+e.id+'_passwordBox"  style="background:transparent;border:0px;" /></div>',e.canvasObj=document.getElementById(e.id+"_canvas"),e.inputBox=document.getElementById(e.id+"_InputText"),e.inputTextareaBoxObj=document.getElementById(e.id+"_InputTextareaBox"),e.inputTextBoxObj=document.getElementById(e.id+"_InputTextBox"),e.passwordBoxObj=document.getElementById(e.id+"_passwordBox")),e._canvas=document.createElement("canvas"),e._context=e._canvas.getContext("2d"),e._context&&(e.canvasObj.innerHTML=""),e.inputTextField=null,n&&(e.canvasObj.width=n),o&&(e.canvasObj.height=o),e.width=e.canvasObj.width,e.height=e.canvasObj.height,e.canvasStyleWidth=e.width,e.canvasStyleHeight=e.height,e.canvas=e.enableWebGL&&"function"==typeof enableWebGLCanvas?enableWebGLCanvas(e.canvasObj):e.canvasObj.getContext("2d"),e.offsetX=window.mouseX=0,e.offsetY=window.mouseY=0},e.ll_createStage=function(){e.stage=new y.default,e.stage.parent="root",e.childList.push(e.stage),e.stage.baseAddEvent=e.stage.addEventListener,e.stage.baseRemoveEvent=e.stage.removeEventListener,e.stage.addEventListener=function(t,n){t===r.default.WINDOW_RESIZE||t===r.default.WINDOW_ORIENTATIONCHANGE?(t===r.default.WINDOW_RESIZE?e.stage.onresizeListener=n:e.stage.onorientationchangeListener=n,e.stage.onresize||(e.stage.onresize=function(t){e.stage.onresizeEvent=t},r.default.addEventListener(e.window,t,e.stage.onresize))):t===l.default.KEY_DOWN||t===l.default.KEY_UP||t===l.default.KEY_PRESS?r.default.addEventListener(e.window,t,n):e.stage.baseAddEvent(t,n)},e.stage.removeEventListener=function(t,n){if(t===r.default.WINDOW_RESIZE||t===r.default.WINDOW_ORIENTATIONCHANGE){if(t===r.default.WINDOW_RESIZE){if(delete e.stage.onresizeListener,e.stage.onorientationchangeListener)return}else if(delete e.stage.onorientationchangeListener,e.stage.onresizeListener)return;r.default.removeEventListener(e.window,r.default.WINDOW_RESIZE,e.stage.onresize),delete e.stage.onresize}else t===l.default.KEY_DOWN||t===l.default.KEY_UP||t===l.default.KEY_PRESS?r.default.removeEventListener(e.window,t,n):e.stage.baseRemoveEvent(t,n)},e.innerWidth=window.innerWidth,e.innerHeight=window.innerHeight,r.default.addEventListener(e.window,"blur",function(){e.stage.dispatchEvent(new r.default(u.default.FOCUS_OUT))})},e.ll_touchStart=function(t){e._outStageCheckCount=1,e.IS_MOUSE_DOWN=!0,e.stage.dispatchEvent(new r.default(u.default.FOCUS_IN)),e.inputTextField&&e.inputTextField._ll_getValue();var n,o,a=void 0;if(n=parseInt(0+e.object.style.left)+parseInt(e.canvasObj.style.marginLeft),o=parseInt(0+e.object.style.top)+parseInt(e.canvasObj.style.marginTop),s.default.inputMode===f.default.NONE)a=e.ll_touchStartEvent(t,0,n,o);else if(s.default.inputMode===f.default.TOUCH_POINT)for(var l=0,c=t.touches.length;l<c;l++)s.default.touchs["touch"+t.touches[l].identifier]||(a=e.ll_touchStartEvent(t,l,n,o));var d=(new Date).getTime();e.ll_clicks=d<=e.ll_prev_clickTime+500?e.ll_clicks+1:1,e.ll_prev_clickTime=d,2===e.ll_clicks&&(e.mouseEvent(a,i.default.DOUBLE_CLICK),e.ll_clicks=0),e.mouseJoint_start&&e.mouseJoint_start(a),e.touchHandler(t),b.default.LSound.startLoad()},e.ll_touchStartEvent=function(t,n,o,a){var r={offsetX:t.touches[n].pageX-o,offsetY:t.touches[n].pageY-a,touchPointID:t.touches[n].identifier,force:t.touches[n].force,rotationAngle:t.touches[n].rotationAngle,radiusX:t.touches[n].radiusX,radiusY:t.touches[n].radiusY};return r.offsetX=e.ll_scaleX(r.offsetX),r.offsetY=e.ll_scaleY(r.offsetY),window.mouseX=e.offsetX=r.offsetX,window.mouseY=e.offsetY=r.offsetY,s.default.touchs["touch"+r.touchPointID]=r,e.mouseEvent(r,i.default.MOUSE_DOWN),e.buttonStatusEvent=r,r},e.ll_touchEnd=function(t){var n=void 0,o=void 0,a=void 0,l=void 0,c=void 0,d=void 0;if(e.IS_MOUSE_DOWN=!1,s.default.inputMode===f.default.TOUCH_POINT)for(a in s.default.touchs){for(n=s.default.touchs[a],d=!1,l=0,c=t.touches.length;l<c;l++)if(t.touches[l].identifier===n.touchPointID){d=!0;break}d||(o=n,delete s.default.touchs[a],e.mouseEvent(o,i.default.MOUSE_UP))}o||(o={offsetX:e.offsetX,offsetY:e.offsetY},e.mouseEvent(o,i.default.MOUSE_UP)),e.touchHandler(t),e.buttonStatusEvent=null,e.mouseJoint_end&&e.mouseJoint_end(),e.stage.dispatchEvent(new r.default(u.default.FOCUS_OUT))},e.ll_touchMove=function(t){var n,o,a=void 0,r=t.touches.length;n=parseInt(0+e.object.style.left)+parseInt(e.canvasObj.style.marginLeft),o=parseInt(0+e.object.style.top)+parseInt(e.canvasObj.style.marginTop),s.default.inputMode===f.default.NONE&&(r=1);for(var l=0,u=t.touches.length;l<u&&l<r;l++)(a={offsetX:t.touches[l].pageX-n,offsetY:t.touches[l].pageY-o,touchPointID:t.touches[l].identifier}).offsetX=e.ll_scaleX(a.offsetX),a.offsetY=e.ll_scaleY(a.offsetY),window.mouseX=e.offsetX=a.offsetX,window.mouseY=e.offsetY=a.offsetY,s.default.touchs["touch"+a.touchPointID]&&s.default.touchs["touch"+a.touchPointID].offsetX===a.offsetX&&s.default.touchs["touch"+a.touchPointID].offsetY===a.offsetY||(e.buttonStatusEvent=a,s.default.touchs["touch"+a.touchPointID]=a,a.offsetX<=0||a.offsetX>=e.innerWidth||a.offsetX>=e.width||a.offsetY<=0||a.offsetY>=e.innerHeight||a.offsetY>=e.height?e._outStageCheckCount=0:e._outStageCheckCount=1,e.mouseEvent(a,i.default.MOUSE_MOVE));e.touchHandler(t),e.mouseJoint_move&&e.mouseJoint_move(a)},e.ll_mouseDbclick=function(t){o(t.offsetX)===a.UNDEFINED&&o(t.layerX)!==a.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var n={button:t.button};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.mouseEvent(n,i.default.DOUBLE_CLICK)},e.ll_mouseDown=function(t){o(t.offsetX)===a.UNDEFINED&&o(t.layerX)!==a.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY),e.inputTextField&&e.inputTextField._ll_getValue();var n={button:t.button};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.mouseEvent(n,i.default.MOUSE_DOWN),e.IS_MOUSE_DOWN=!0,e.mouseJoint_start&&e.mouseJoint_start(n),b.default.LSound.startLoad()},e.ll_mouseMove=function(t){o(t.offsetX)===a.UNDEFINED&&o(t.layerX)!==a.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var n={};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.buttonStatusEvent=n,window.mouseX=e.offsetX=n.offsetX,window.mouseY=e.offsetY=n.offsetY,e.cursor="default",window.mouseX<=0||window.mouseX>=e.innerWidth||window.mouseX>=e.width||window.mouseY<=0||window.mouseY>=e.innerHeight||window.mouseY>=e.height?e._outStageCheckCount&&(e._outStageCheckCount=0,e.stage.dispatchEvent(new r.default(u.default.FOCUS_OUT))):e._outStageCheckCount||(e._outStageCheckCount=1,e.stage.dispatchEvent(new r.default(u.default.FOCUS_IN))),e.mouseEvent(n,i.default.MOUSE_MOVE),document.body.style.cursor=e.cursor,e.mouseJoint_move&&e.mouseJoint_move(n)},e.ll_mouseUp=function(t){o(t.offsetX)===a.UNDEFINED&&o(t.layerX)!==a.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var n={button:t.button};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.mouseEvent(n,i.default.MOUSE_UP),e.IS_MOUSE_DOWN=!1,e.mouseJoint_end&&e.mouseJoint_end()},e.ll_mouseOut=function(t){o(t.offsetX)===a.UNDEFINED&&o(t.layerX)!==a.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var n={};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.mouseEvent(n,i.default.MOUSE_OUT),e.IS_MOUSE_DOWN=!1},e.touchHandler=function(t){return e.stopPropagation&&(t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation()),e.preventDefault&&t.preventDefault(),t},e.mouseEvent=function(t,n){if(n===i.default.MOUSE_MOVE&&e.dragHandler(t),c.default.container[n])c.default.dispatchMouseEvent(t,n);else for(var o=e.childList.length-1;o>=0&&(!e.childList[o].mouseEvent||!e.childList[o].mouseEvent(t,n));o--);},e.dragHandler=function(t){var n=void 0,o=void 0,a=void 0,r=e.dragList;for(n=r.length-1;n>=0;n--)if(o=r[n],!e.canTouch||o.ll_touchPointID===t.touchPointID){a=o.parent.globalToLocal(new d.default(t.offsetX-o.ll_dragMX+o.ll_dragGlobalPoint.x,t.offsetY-o.ll_dragMY+o.ll_dragGlobalPoint.y)),o.x=a.x,o.y=a.y,o.dragRange&&(o.x<o.dragRange.left?o.x=o.dragRange.left:o.x>o.dragRange.right&&(o.x=o.dragRange.right),o.y<o.dragRange.top?o.y=o.dragRange.top:o.y>o.dragRange.bottom&&(o.y=o.dragRange.bottom));break}},e._ll_mobile=function(){var t=.3*e.width,n=1.5*t,o=.05*e.width,a=.05*t,r=.15*t,i=.3*t,l=.2*n,u="#cccccc",s="#000000",f="#ffffff",c="#ff0000",d=void 0,h=void 0,p=void 0,b=void 0,_=void 0;d=new y.default,(0,v.addChild)(d),n=1.5*(t=.3*e.width),d.graphics.drawRoundRect(1,s,[o,o,t,n,o],!0,u),d.graphics.drawRoundRect(1,s,[o+a,o+a,t-2*a,n-2*a,o],!0,s),d.graphics.drawRect(1,f,[o+r,o+l,t-2*r,n-2*l],!0,f),d.graphics.drawArc(1,f,[o+.5*t,o+n-3.5*a,1.5*a,0,2*Math.PI]),d.graphics.drawRoundRect(1,f,[o+i,o+r,t-2*i,a,.5*a]),(h=new y.default).x=.5*-(t-2*r),h.y=.5*-a,h.graphics.drawRect(1,c,[0,0,t-2*r,a],!0,c),(p=new y.default).y=.5*-(t-2*r),p.x=.5*-a,p.graphics.drawRect(1,c,[0,0,a,t-2*r],!0,c),(b=new y.default).x=o+i+.5*(t-2*i),b.y=o+l+.5*(n-2*l),b.rotate=45,b.addChild(h),b.addChild(p),d.addChild(b),(_=new y.default).graphics.drawVertices(2,s,[[0,0],[r,r],[0,2*r]],!0,u),_.x=1.5*o+n,_.y=1.5*o+.5*n,(0,v.addChild)(_),d.arrow=_;return window.onorientationchange=function(){setTimeout(function(){location.href=location.href},100)},d},e.verticalError=function(){var t=.3*e.width,n=.05*e.width,o=e._ll_mobile(),a=o.clone();a.getChildAt(0).visible=!1,a.x=.5*e.width+n,(0,v.addChild)(a),o.rotate=90,o.x=.5*e.width+n,o.y=.5*t},e.horizontalError=function(){var t=.3*e.width,n=.05*e.width,o=e._ll_mobile(),a=o.clone();a.getChildAt(0).visible=!1,a.rotate=90,a.x=e.width-n,a.y=.5*t,(0,v.addChild)(a),o.arrow.x=1.5*n+t},e.onShow=function(){e.canvas&&(e.enableWebGL&&(e.canvas.start2D(),e.canvas.globalAlpha=1),e._outStageCheckCount<=0&&(e._outStageCheckCount--,e._outStageCheckCount<-2&&(e.stage.dispatchEvent(new r.default(u.default.FOCUS_OUT)),e._outStageCheckCount=1)),e.fpsStatus&&e.fpsStatus.reset(),e.stage.onresizeEvent&&(e.stage.onresizeListener&&e.stage.onresizeListener(e.stage.onresizeEvent),e.stage.onorientationchangeListener&&e.stage.onorientationchangeListener({orientation:window.innerWidth>window.innerHeight?a.LANDSCAPE:a.PORTRAIT}),delete e.stage.onresizeEvent),e.forceRefresh&&(e.canvasObj.width=e.canvasObj.width,e.forceRefresh=!1),e.canvas.beginPath(),e.box2d?(e.box2d.ll_show(),!e.traceDebug&&e.keepClear&&e.canvas.clearRect(0,0,e.width+1,e.height+1)):(e.keepClear&&e.canvas.clearRect(0,0,e.width+1,e.height+1),e.backgroundColor&&(e.canvas.fillStyle=e.backgroundColor,e.canvas.fillRect(0,0,e.width,e.height))),e.show(e.childList,e.canvas),e.enableWebGL&&e.canvas.finish2D())},e.show=function(t,n){n=n||e.canvas;for(var o,a=0,r=t.length;a<r;a++)(o=t[a])&&o.ll_show&&(o.ll_show(n),o._ll_removeFromSelf&&(a--,r--))},e.divideCoordinate=function(e,t,n,o){var a=void 0,r=void 0,i=e/o,l=t/n,u=[],s=void 0;for(a=0;a<n;a++){for(s=[],r=0;r<o;r++)s.push({x:i*r,y:l*a,width:i,height:l});u.push(s)}return u},e._create_loading_color=function(){var t=e.canvas.createRadialGradient(e.width/2,e.height,0,e.width/2,0,e.height);return t.addColorStop(0,"red"),t.addColorStop(.3,"orange"),t.addColorStop(.4,"yellow"),t.addColorStop(.5,"green"),t.addColorStop(.8,"blue"),t.addColorStop(1,"violet"),t},e.hitPolygon=function(e,t,n){var o,a=0,r=e[0],i=t<=r[0],l=n<=r[1],u=void 0,s=void 0,f=void 0,c=void 0;for(u=1,o=e.length;u<o+1;u++)f=t<=(s=e[u%o])[0],l!==(c=n<=s[1])&&(i===f?i&&(a+=l?-1:1):t<=r[0]+(s[0]-r[0])*(n-r[1])/(s[1]-r[1])&&(a+=l?-1:1)),r=s,i=f,l=c;return 0!==a},e.hitTestPolygon=function(e,t){var n=void 0,o=void 0,a=void 0,r=void 0,i=void 0,l=[[e,[],[]],[t,[],[]]];for(o=0;o<l.length;o++){for(r=l[o][0],i=l[o][1],n=0,a=r.length;n<a;n++)l[o][2].push(new h.default(r[n][0],r[n][1])),n<a-1&&i.push(new h.default(r[n+1][0]-r[n][0],r[n+1][1]-r[n][1]).normL());i.push(new h.default(r[0][0]-r[a-1][0],r[0][1]-r[a-1][1]).normL())}for(o=0;o<l.length;o++)for(n=0,a=(i=l[o][1]).length;n<a;n++){var u=h.default.getMinMax(l[0][2],i[n]),s=h.default.getMinMax(l[1][2],i[n]);if(u.max_o<s.min_o||u.min_o>s.max_o)return!1}return!0},e.hitTestPolygonArc=function(t,n){if(e.hitPolygon(t,n[0],n[1]))return!0;var o,a=void 0,r=void 0,i=void 0,l=void 0,u=void 0,s=void 0,f=void 0,c=void 0,d=void 0;for(a=0,o=t.length;a<o;a++)if(r=a<o-1?a+1:0,i=t[a],l=t[r],u=new h.default(n[0]-i[0],n[1]-i[1]),d=(s=new h.default(l[0]-i[0],l[1]-i[1])).normalize(),(c=h.default.dot(u,d))<=0){if(u.x*u.x+u.y*u.y<n[3])return!0}else if(c*c<s.x*s.x+s.y*s.y&&(f=h.default.cross(u,d))*f<n[3])return!0;return!1},e.hitTestArc=function(e,t,n,r){var i=.5*e.getWidth(),l=.5*t.getWidth(),u=e._startX?e._startX():e.startX(),s=t._startX?t._startX():t.startX(),f=e._startY?e._startY():e.startY(),c=t._startY?t._startY():t.startY();(void 0===n?"undefined":o(n))!==a.UNDEFINED&&(u+=i-n,f+=i-n,i=n),(void 0===r?"undefined":o(r))!==a.UNDEFINED&&(s+=l-r,c+=l-r,l=r);var d=u+i-s-l,h=f+i-c-l;return d*d+h*h<(i+l)*(i+l)},e.hitTestRect=function(e,t,n,r){var i=e.getWidth(),l=t.getWidth(),u=e.getHeight(),s=t.getHeight(),f=e._startX?e._startX():e.startX(),c=t._startX?t._startX():t.startX(),d=e._startY?e._startY():e.startY(),h=t._startY?t._startY():t.startY();return(void 0===n?"undefined":o(n))!==a.UNDEFINED&&(f+=.5*(i-n[0]),d+=.5*(u-n[1]),i=n[0],u=n[1]),(void 0===r?"undefined":o(r))!==a.UNDEFINED&&(c+=.5*(l-r[0]),h+=.5*(s-r[1]),l=r[0],s=r[1]),(f>c?f:c)<=(f+i>c+l?c+l:f+i)&&(d>h?d:h)<=(d+u>h+s?h+s:d+u)},e.hitTest=e.hitTestRect,e.setFrameRate=function(t){e.frameRate&&clearInterval(e.frameRate),e.speed=t,e.frameRate=setInterval(function(){e.onShow()},t)},e.ll_scaleX=function(t){return(t-e.left)*e.width/e.canvasStyleWidth},e.ll_scaleY=function(t){return(t-e.top)*e.height/e.canvasStyleHeight},e.ll_setStageSize=function(t,n){t=Math.ceil(t),n=Math.ceil(n),e.canvasObj.style.width=t+"px",e.canvasObj.style.height=n+"px",e.canvasStyleWidth=t,e.canvasStyleHeight=n},e.resize=function(t,n){var o=void 0,a=void 0,r=0,i=0,l=window.innerWidth,u=window.innerHeight;switch(e.innerWidth=l,e.innerHeight=u,t&&(o=t),n&&(a=n),"noScale"===e.stageScale&&(o=t||e.width,a=n||e.height),e.stageScale){case"exactFit":o=t||l,a=n||u;break;case"noBorder":switch(o=t||l,a=n||e.height*l/e.width,e.align){case p.default.BOTTOM:case p.default.BOTTOM_LEFT:case p.default.BOTTOM_RIGHT:case p.default.BOTTOM_MIDDLE:r=u-a}break;case"showAll":l/u>e.width/e.height?(a=n||u,o=t||e.width*u/e.height):(o=t||l,a=n||e.height*l/e.width)}if("exactFit"!==e.stageScale&&"noBorder"!==e.stageScale)switch(e.align){case p.default.BOTTOM:case p.default.BOTTOM_LEFT:r=u-a;break;case p.default.RIGHT:case p.default.TOP_RIGHT:i=l-o;break;case p.default.TOP_MIDDLE:i=.5*(l-o);break;case p.default.BOTTOM_RIGHT:r=u-a,i=l-o;break;case p.default.BOTTOM_MIDDLE:r=u-a,i=.5*(l-o);break;case p.default.MIDDLE:r=.5*(u-a),i=.5*(l-o);break;case p.default.TOP:case p.default.LEFT:case p.default.TOP_LEFT:}e.canvasObj.style.marginTop=r+"px",e.canvasObj.style.marginLeft=i+"px",e.isOldFirefox&&(e.left=parseInt(e.canvasObj.style.marginLeft),e.top=parseInt(e.canvasObj.style.marginTop)),e.ll_setStageSize(o,a)},e.sleep=function(e){for(var t=new Date;(new Date).getTime()-t.getTime()<e;);},e.screen=function(t){e.displayState=t,e.stage&&("number"==typeof e.displayState?e.resize(e.width*e.displayState,e.height*e.displayState):e.resize())},e.mouseJoint_start=function(t){if(e.IS_MOUSE_DOWN&&e.box2d&&!e.box2d.mouseJoint&&!e.box2d.stop){var n=t.offsetX/e.box2d.drawScale,o=t.offsetY/e.box2d.drawScale,a=e.box2d.getBodyAtMouse(n,o);if(a&&a.mouseJoint){var r=new e.box2d.b2MouseJointDef;r.bodyA=e.box2d.world.GetGroundBody(),r.bodyB=a,r.target.Set(n,o),r.collideConnected=!0,r.maxForce=3e5*a.GetMass(),e.box2d.mouseJoint=e.box2d.world.CreateJoint(r),a.SetAwake(!0)}}},e.mouseJoint_move=function(t){if(e.IS_MOUSE_DOWN&&e.box2d&&e.box2d.mouseJoint){var n=t.offsetX/e.box2d.drawScale,o=t.offsetY/e.box2d.drawScale;e.box2d.mouseJoint.SetTarget(new e.box2d.b2Vec2(n,o))}},e.mouseJoint_end=function(){e.box2d&&e.box2d.mouseJoint&&(e.box2d.world.DestroyJoint(e.box2d.mouseJoint),e.box2d.mouseJoint=null)},e}();b.default.LGlobal=g,window.LGlobal=g,t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameEvent=t.ClientEvent=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=l(n(5)),r=l(n(3)),i=l(n(61));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.ClientEvent={READY:1,SHOOT:2,BOUT_OVER:3,SEND_ICON:4,ENEMY_MOVE:5},s=t.GameEvent={ROOM_IN:"roomIn",GAME_INIT:"gameInit",BOUT_WIN:"boutWin",BOUT_FAIL:"boutFail",SEND_ICON:"sendIcon"},f=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._diffMilliseconds=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"gameStart",value:function(){var e=new r.default(s.ROOM_IN);e.enemyPlayer=this.enemy,this.dispatchEvent(e)}},{key:"onEvent",value:function(e,t,n){this.client.myActor().getId()!==t.id&&this.synchronisedTime(t.now);var o=void 0;switch(e){case u.SEND_ICON:(o=new r.default(s.SEND_ICON)).icon=t.icon,o.id=t.id,this.dispatchEvent(o);break;case u.BOUT_OVER:this.dispatchEvent(this.client.myActor().getId()!==t.id?s.BOUT_WIN:s.BOUT_FAIL);break;case u.ENEMY_MOVE:this.client.myActor().getId()!==t.id&&((o=new r.default("enemy:move")).x=t.x,this.dispatchEvent(o));break;case u.SHOOT:this.client.myActor().getId()!==t.id&&((o=new r.default("ball:sendout")).params=t.params,this.dispatchEvent(o));break;case u.READY:this.client.myActor().getId()!==t.id&&this.client.myActor().setCustomProperty("ready",!0),this.player.getCustomProperty("ready")&&this.enemy.getCustomProperty("ready")&&((o=new r.default(s.GAME_INIT)).index=t.index,o.hert=t.hertValue,this.dispatchEvent(o))}}},{key:"synchronisedTime",value:function(e){if(e){this._diffMilliseconds.push(Date.now()-e),this._diffMilliseconds.length>20&&this._diffMilliseconds.shift();for(var t=0,n=0;n<this._diffMilliseconds.length;n++)t+=this._diffMilliseconds[n];this._diffMillisecond=t/this._diffMilliseconds.length}}},{key:"shoot",value:function(e){this.sendMessage(u.SHOOT,{id:this.client.myActor().getId(),params:e.params})}},{key:"battleReady",value:function(){this.sendMessage(u.READY,{id:this.client.myActor().getId()})}},{key:"boutOver",value:function(){this.sendMessage(u.BOUT_OVER,{id:this.client.myActor().getId()})}},{key:"sendIcon",value:function(e){this.sendMessage(u.SEND_ICON,{id:this.client.myActor().getId(),icon:e})}},{key:"enemyMove",value:function(e){this.sendMessage(u.ENEMY_MOVE,{id:this.client.myActor().getId(),x:e})}},{key:"sendMessage",value:function(e,t,n){t.now=Date.now(),this.client.raiseEventAll(e,t,n)}},{key:"start",value:function(e,t,n){this.client.start(e,t,n)}},{key:"setClient",value:function(e,t){this.photonClient=e,this.aiClient=t}},{key:"diffMillisecond",get:function(){return this._diffMillisecond||0}},{key:"now",get:function(){return this.isLeader?Date.now():Date.now()-this._diffMillisecond}},{key:"isLeader",get:function(){return this.client.myActor().isLeader()}},{key:"enemy",get:function(){return this.client.myRoomActorsArray()[1]}},{key:"player",get:function(){return this.client.myRoomActorsArray()[0]}},{key:"playerId",get:function(){return this.player.getId()}},{key:"enemyId",get:function(){return this.enemy.getId()}},{key:"ai",set:function(e){this.client=e?this.aiClient:this.photonClient}}]),t}()),c=new window.PhotonClient(f),d=new i.default(f);f.setClient(c,d),t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=l(n(34)),i=l(n(24));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"sceneController",get:function(){for(var e=this;e;){if(e instanceof i.default)return e;if("object"!==(void 0===(e=e.parent)?"undefined":o(e)))break}return null}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=f(n(7)),i=n(2),l=f(n(25)),u=f(n(9)),s=f(n(0));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(e,n,o){c(this,t);var a=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.type="LTweenLiteChild",a.toNew=[],a.init(e,n,o),a}return h(t,r.default),a(t,[{key:"init",value:function(e,t,n){var a=this,r=null;for(r in o(n.tweenTimeline)===i.UNDEFINED&&(n.tweenTimeline=y.TYPE_FRAME),a.target=e,a.target.objectIndex||(a.target.objectIndex=++s.default.LGlobal.objectIndex),a.duration=t||.001,a.vars=n,a.delay=a.vars.delay||0,a.vars.tweenTimeline===y.TYPE_TIMER?(a.currentTime=(new Date).getTime()/1e3,a.initTime=a.currentTime,a.startTime=a.initTime+a.delay):(a.currentTime=0,a.duration*=1e3,a.currentTime-=1e3*a.delay),a.combinedTimeScale=a.vars.timeScale||1,a.active=0===a.duration&&0===a.delay,a.varsto={},a.varsfrom={},a.varsDiff={},a.varsListIndex={},a.varsListCurr={},a.varsListTo={},a.varsListLength={},a.stop=!1,"function"!=typeof a.vars.ease&&(a.vars.ease=l.default.None.easeIn),a.ease=a.vars.ease,delete a.vars.ease,"function"==typeof a.vars.onComplete?(a.onComplete=a.vars.onComplete,delete a.vars.onComplete):a.onComplete=null,"function"==typeof a.vars.onUpdate?(a.onUpdate=a.vars.onUpdate,delete a.vars.onUpdate):a.onUpdate=null,"function"==typeof a.vars.onStart?(a.onStart=a.vars.onStart,delete a.vars.onStart):a.onStart=null,a.vars)if("coordinate"===r&&Array.isArray(a.vars[r])){for(var f=0,c={x:a.target.x,y:a.target.y},d=0,h=a.vars[r].length;d<h;d++){var p=a.vars[r][d];f+=u.default.distance(p,c),c=p}a.varsListIndex[r]=0,a.varsListCurr[r]=0,a.varsListTo[r]=f,a.varsto[r]=a.vars[r],a.varsfrom[r]={x:a.target.x,y:a.target.y}}else"number"==typeof a.vars[r]&&(a.varsto[r]=a.vars[r],a.varsfrom[r]=a.target[r],a.varsDiff[r]=a.vars[r]-a.target[r])}},{key:"pause",value:function(){this.stop=!0}},{key:"resume",value:function(){this.stop=!1}},{key:"tween",value:function(){var e=this,t=void 0,n=void 0,a=e.vars.tweenTimeline===y.TYPE_TIMER;if(a){if((n=(new Date).getTime()/1e3-e.startTime)<0)return}else{if(e.stop)return;if(e.currentTime+=s.default.LGlobal.speed,e.currentTime<0)return}for(var r in e.varsto)if(o(e.varsListTo[r])===i.UNDEFINED)e.target[r]=e.ease(a?n:e.currentTime,e.varsfrom[r],e.varsDiff[r],e.duration);else{var l=e.ease(a?n:e.currentTime,0,e.varsListTo[r],e.duration);l>e.varsListTo[r]&&(l=e.varsListTo[r]);for(var f=e.varsListIndex[r]>0?e.vars[r][e.varsListIndex[r]-1]:e.varsfrom[r],c=e.vars[r][e.varsListIndex[r]],d=u.default.distance(f,c);e.varsListCurr[r]+d<l;)e.varsListCurr[r]+=d,f=c,e.varsListIndex[r]++,c=e.vars[r][e.varsListIndex[r]],d=u.default.distance(f,c);e.target.x=f.x,e.target.y=f.y,0!==d&&c.x-f.x!=0&&(e.target.x+=(c.x-f.x)*(l-e.varsListCurr[r])/d),0!==d&&c.y-f.y!=0&&(e.target.y+=(c.y-f.y)*(l-e.varsListCurr[r])/d)}e.onStart&&(e._dispatchEvent(e.onStart),delete e.onStart);if(a?n>=e.duration:e.currentTime>=e.duration){for(t in e.varsto)if(o(e.varsListTo[t])===i.UNDEFINED)e.target[t]=e.varsto[t];else{var h=e.varsto[t][e.vars[t].length-1];e.target.x=h.x,e.target.y=h.y}return e.onComplete&&e._dispatchEvent(e.onComplete,!0),!0}return e.onUpdate&&e._dispatchEvent(e.onUpdate),!1}},{key:"_dispatchEvent",value:function(e,t){var n=this,o={},a=function(){o.target=n.target,o.currentTarget=n,e(o)};t?setTimeout(function(){a()},1):a()}},{key:"to",value:function(e,t,n,o){return this.toNew.push({target:e,duration:t,vars:n,data:o}),this}},{key:"keep",value:function(){var e=this,t=void 0,n=void 0,a=void 0,r=void 0;if(e.toNew.length>0){if((t=e.toNew.shift()).vars.loop&&(e.loop=!0),e.loop){for(a in r={},n={},t.vars)n[a]=t.vars[a],o(t.target[a])!==i.UNDEFINED&&t.vars.playStyle===y.PlayStyle.Init&&(t.data?t.target[a]=t.data[a]:r[a]=t.target[a]);t.data||(t.data=r),e.to(t.target,t.duration,n,t.data)}return e.init(t.target,t.duration,t.vars),!0}return!1}}]),t}(),v=function(e){function t(){c(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LTweenLite",e.tweens=[],e}return h(t,r.default),a(t,[{key:"count",value:function(){return this.tweens.length}},{key:"ll_show",value:function(){var e=this,t=void 0,n=e.tweens.length,o=void 0;for(t=0;t<n;t++)(o=e.tweens[t])&&o.tween&&o.tween()&&(e.tweens.splice(t,1),t--,n=e.tweens.length,o.keep()&&e.add(o))}},{key:"to",value:function(e,t,n){if(e){var o=new p({},0,{});return this.tweens.push(o),o.to(e,t,n),o}}},{key:"add",value:function(e){this.tweens.push(e)}},{key:"remove",value:function(e){var t=this;if((void 0===e?"undefined":o(e))!==i.UNDEFINED)for(var n=0,a=t.tweens.length;n<a;n++)if(e.objectIndex===t.tweens[n].objectIndex){t.tweens.splice(n,1);break}}},{key:"removeTarget",value:function(e){for(var t=this,n=0,o=t.tweens.length;n<o;n++)if(e.objectIndex===t.tweens[n].target.objectIndex){t.tweens.splice(n,1);break}}},{key:"removeAll",value:function(){this.tweens.splice(0,this.tweens.length)}},{key:"pauseAll",value:function(){for(var e=0,t=this.tweens.length;e<t;e++)this.tweens[e].pause()}},{key:"resumeAll",value:function(){for(var e=0,t=this.tweens.length;e<t;e++)this.tweens[e].resume()}}]),t}();v.PlayStyle={None:"none",Init:"init"},v.TYPE_FRAME="type_frame",v.TYPE_TIMER="type_timer",s.default.LTweenLiteTimeline=new v,s.default.LGlobal.childList.push(s.default.LTweenLiteTimeline);var y=new v;y.TYPE_FRAME=v.TYPE_FRAME,y.TYPE_TIMER=v.TYPE_TIMER,y.PlayStyle=v.PlayStyle,s.default.LGlobal.childList.push(y),s.default.LTweenLite=y,t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=i(n(63)),r=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"lateInit",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"lateInit",this).call(this),this.updateView()}},{key:"updateView",value:function(e){this.model=e}}]),t}();r.default.set("BaseBindView",l),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=c(n(8)),i=c(n(20)),l=c(n(1)),u=c(n(9)),s=c(n(0)),f=n(2);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.type="LNode",e&&(o._initDataProperty(e),o.init(e),n||o._initDataChildNodes(e)),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"_initDataProperty",value:function(e){var t=e.property;if(t)for(var n in t){var o=t[n];"width"===n?n="_widgetWidth":"height"===n&&(n="_widgetHeight"),this[n]=o}}},{key:"_initDataChildNodes",value:function(e){if(e.childNodes){var n=!0,o=!1,a=void 0;try{for(var r,l=e.childNodes[Symbol.iterator]();!(n=(r=l.next()).done);n=!0){var u=r.value,s=t.create(u,!0);s instanceof i.default&&this.addChild(s),s instanceof t&&(s._initDataChildNodes(u),s.lateInit())}}catch(e){o=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}}}},{key:"init",value:function(e){}},{key:"lateInit",value:function(){}},{key:"widgetInit",value:function(){var e,t=this._getWidgetTarget(this.widget.target),n=void 0,a=void 0,r=void 0,i=void 0;t?(n=t.widgetWidth||t.getWidth(),a=t.widgetHeight||t.getHeight()):(n=s.default.LGlobal.width,a=s.default.LGlobal.height);var l="number"==typeof(e=this.widget).top&&"number"==typeof e.bottom,c="number"==typeof e.left&&"number"==typeof e.right;l?(i=a-e.top-e.bottom,this._widgetHeight=i):i=this.widgetHeight,c?(r=n-e.left-e.right,this._widgetWidth=r):r=this.widgetWidth,(l||c)&&"function"==typeof this.resize&&this.resize(this.widgetWidth,this.widgetHeight);var d=void 0,h=void 0;"number"==typeof e.left?d=e.left:"number"==typeof e.right&&(d=n-r-e.right),"number"==typeof e.top?h=e.top:"number"==typeof e.bottom&&(h=a-i-e.bottom);var p=new u.default((void 0===d?"undefined":o(d))===f.UNDEFINED?0:d,(void 0===h?"undefined":o(h))===f.UNDEFINED?0:h),v=t?t.localToGlobal(p):p,y=this.parent.globalToLocal(v);this.x=(void 0===d?"undefined":o(d))===f.UNDEFINED?this.x:y.x,this.y=(void 0===h?"undefined":o(h))===f.UNDEFINED?this.y:y.y}},{key:"_getWidgetTarget",value:function(e){if(!e)return null;for(var n=this.parent;n;){if(e){if(n._ll_className===e)return n}else if(n instanceof t)return n;if("object"!==(void 0===(n=n.parent)?"undefined":o(n)))break}return null}},{key:"widgetWidth",get:function(){return this._widgetWidth?this._widgetWidth:this.sprite&&this.sprite.width?this.sprite.width:this.getWidth()}},{key:"widgetHeight",get:function(){return this._widgetHeight?this._widgetHeight:this.sprite&&this.sprite.height?this.sprite.height:this.getHeight()}}]),t}();d.create=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.class,o=void 0,a=l.default.get(n);return a?o=new a(e,t):console.error("class not found : ",n),o},l.default.set("LNode",d),t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(){function e(t,n,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,this.width=o,this.height=a,this.setRectangle()}return o(e,[{key:"setRectangle",value:function(){var e=this;e.bottom=e.y+e.height,e.right=e.x+e.width,e.left=e.x,e.top=e.y}},{key:"clone",value:function(){var t=this;return new e(t.x,t.y,t.width,t.height)}},{key:"contains",value:function(e,t){var n=this;return e>=n.x&&e<=n.right&&t>=n.y&&t<=n.bottom}},{key:"containsRect",value:function(e){var t=this;return e.x>=t.x&&e.right<=t.right&&e.y>=t.y&&e.bottom<=t.bottom}},{key:"equals",value:function(e){var t=this;return e.x===t.x&&e.width===t.width&&e.y===t.y&&e.height===t.height}},{key:"inflate",value:function(e,t){var n=this;n.width+=e,n.height+=t,n.setRectangle()}},{key:"intersection",value:function(t){var n=this,o=n.x>t.x?n.x:t.x,a=n.y>t.y?n.y:t.y,r=n.right>t.right?t.right:n.right,i=n.bottom>t.bottom?t.bottom:n.bottom;return o<=r&&a<=i?new e(o,a,r,i):new e(0,0,0,0)}},{key:"intersects",value:function(e){var t=this,n=t.x>e.x?t.x:e.x,o=t.y>e.y?t.y:e.y,a=t.right>e.right?e.right:t.right,r=t.bottom>e.bottom?e.bottom:t.bottom;return n<=a&&o<=r}},{key:"isEmpty",value:function(){var e=this;return 0===e.x&&0===e.y&&0===e.width&&0===e.height}},{key:"offset",value:function(e,t){var n=this;n.x+=e,n.y+=t,n.setRectangle()}},{key:"setEmpty",value:function(){var e=this;e.x=0,e.y=0,e.width=0,e.height=0,e.setRectangle()}},{key:"setTo",value:function(e,t,n,o){var a=this;a.x=e,a.y=t,a.width=n,a.height=o,a.setRectangle()}},{key:"toString",value:function(){var e=this;return"[object LRectangle("+e.x+","+e.y+","+e.width+","+e.height+")]"}},{key:"union",value:function(t){var n=this;return new e(n.x>t.x?t.x:n.x,n.y>t.y?t.y:n.y,n.right>t.right?n.right:t.right,n.bottom>t.bottom?n.bottom:t.bottom)}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LInit=void 0,t.trace=l,t.addChild=function(e){o.default.LGlobal.stage.addChild(e)},t.removeChild=function(e){o.default.LGlobal.stage.removeChild(e)},t.init=u,t.getTimer=function(){return(new Date).getTime()-o.default.LGlobal.startTimer},t.getExtension=function(e){var t=void 0;if((t=e.match(/([^#?]+\.)([^.#?]+)/)).length>=3)return t[2].toLowerCase();return null};var o=i(n(0)),a=i(n(3)),r=n(2);function i(e){return e&&e.__esModule?e:{default:e}}function l(){if(o.default.LGlobal.traceDebug){var e=document.getElementById("traceObject"),t=void 0;if(l.arguments.length>0&&!e){var n=document.createElement("DIV");n.position=0,n.style.position="absolute",document.body.appendChild(n),(e=document.createElement("TEXTAREA")).id="traceObject",e.style.width=.5*window.innerWidth+"px",e.style.height="200px";var r=document.createElement("BUTTON");r.style.width=.25*window.innerWidth+"px",r.innerHTML="Hide",n.appendChild(r),a.default.addEventListener(r,o.default.LGlobal.mobile?"touchstart":"click",function(t){e.style.display="none"===e.style.display?"":"none"}),(r=document.createElement("BUTTON")).style.width=.25*window.innerWidth+"px",r.innerHTML="position",n.appendChild(r);var i=function(t){n.position++,0===n.position?(n.style.top="5px",n.style.left="5px"):1===n.position?(n.style.top=window.innerHeight-20-parseInt(e.style.height)+"px",n.style.left="5px"):2===n.position?(n.style.top="5px",n.style.left=window.innerWidth-parseInt(e.style.width)+"px"):(n.style.top=window.innerHeight-20-parseInt(e.style.height)+"px",n.style.left=window.innerWidth-parseInt(e.style.width)+"px",n.position=-1)};i(),a.default.addEventListener(r,o.default.LGlobal.mobile?"touchstart":"click",i),n.appendChild(document.createElement("BR")),n.appendChild(e)}for(t=0;t<l.arguments.length;t++)e.value=e.value+l.arguments[t]+"\r\n",e.scrollTop=e.scrollHeight}}function u(e,t,n,i,l,u){o.default.LGlobal.speed=e;var s=function(){o.default.LGlobal.canTouch&&o.default.LGlobal.aspectRatio===r.LANDSCAPE&&window.innerWidth<window.innerHeight?o.default.LGlobal.horizontalError():o.default.LGlobal.canTouch&&o.default.LGlobal.aspectRatio===r.PORTRAIT&&window.innerWidth>window.innerHeight?o.default.LGlobal.verticalError():setTimeout(l,100),o.default.LGlobal.startTimer=(new Date).getTime()},f=void 0,c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)};"function"==typeof(e=e||c)?(f=function(){e(f),o.default.LGlobal.onShow()},o.default.LGlobal.speed=1e3/60):(o.default.LGlobal._requestAFBaseTime=(new Date).getTime(),f=function(){((new Date).getTime()-o.default.LGlobal._requestAFBaseTime)/e>=1&&(o.default.LGlobal._requestAFBaseTime+=e,o.default.LGlobal.onShow()),c(f,e)}),"complete"===document.readyState?(o.default.LGlobal.setCanvas(t,n,i),s(),f()):a.default.addEventListener(window,"load",function(){o.default.LGlobal._requestAFBaseTime=(new Date).getTime(),o.default.LGlobal.setCanvas(t,n,i),s(),f()})}window.console||(window.console={log:l,warn:l});t.LInit=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0},r=s(n(14)),i=s(n(19)),l=s(n(1)),u=s(n(26));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"init",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),this.sprite||(this.sprite={type:"simple",width:0,height:0}),this.bind.default&&this._updateSprite(this.bind.default)}},{key:"resize",value:function(e,t){this.sprite.width=e,this.sprite.height=t,this.getChildAt(0).resize(e,t),this.clearShape(),this.addShape(u.default.RECT,[0,0,e,t])}},{key:"updateView",value:function(){if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateView",this).call(this),this.bind&&this.bind.key){var e=this.getByPath(this.bind.key);null!==e&&this._updateSprite(e)}}},{key:"_updateSprite",value:function(e){var t=i.default.get(this.bind.atlas);this.removeAllChild();var n=t.getSprite(e,this.sprite.type,this.sprite.width,this.sprite.height);n&&(this.addChild(n),this.addShape(u.default.RECT,[0,0,this.sprite.width,this.sprite.height]))}}]),t}();l.default.set("BindSpriteView",f),t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=u(n(38)),r=u(n(3)),i=u(n(71)),l=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.LEventDispatcher),o(t,[{key:"destroy",value:function(){delete t._container[name]}},{key:"load",value:function(e,t){var n=this,o=[{name:e+"/"+t+".png",path:this.url(e+"/"+t+".png")},{name:e+"/"+t+".plist",path:this.url(e+"/"+t+".plist"+(l.default.LGlobal.wx?".meta":"")),type:"text"},{name:e+"/"+t+".json",path:this.url(e+"/"+t+".json"),type:"text"}];a.default.load(o,null,function(o){n._loadComplete(o,e,t)})}},{key:"url",value:function(e){return l.default.LGlobal.traceDebug?e+(e.indexOf("?")>=0?"&":"?")+"t="+Date.now():e}},{key:"_loadComplete",value:function(e,n,o){var a=n.indexOf("resources/");this._atlasKey=n.substring(a+"resources/".length)+"/"+o,t._container[this._atlasKey]=this;var i=e[n+"/"+o+".png"],l=e[n+"/"+o+".plist"],u=JSON.parse(e[n+"/"+o+".json"]);this.set(l,i,u);var s=new r.default(r.default.COMPLETE);s.currentTarget=this,s.target=this,this.dispatchEvent(s)}},{key:"set",value:function(e,t,n){this._texture=t,this._setting=n,this._initData(e)}},{key:"_initData",value:function(e){if(l.default.LGlobal.wx)this._textureData=JSON.parse(e);else{var t=new DOMParser;this.xmlDom=t.parseFromString(e,"text/xml");for(var n=this.xmlDom.querySelector("plist").querySelector("dict").children,o=void 0,a=0;a<n.length;a++){var r=n[a];if("key"===r.tagName&&"frames"===r.textContent){o=n[a+1].children;break}}this._textureData={};for(var i=0;i<o.length;i+=2){var u=o[i].textContent.replace(".png",""),s=o[i+1],f=this._getTextureData(s.children);this._textureData[u]=f}}}},{key:"getSprite",value:function(e,t,n,o){var a=this._textureData[e],r=new i.default(this._texture,this._setting[e],a,t);return n&&o&&r.resize(n,o),r}},{key:"_getTextureData",value:function(e){for(var t={},n=0;n<e.length;n+=2){var o=e[n].textContent,a=e[n+1],r=JSON.parse("string"===a.tagName?a.textContent.replace(/\{/g,"[").replace(/\}/g,"]"):a.tagName);t[o]=r}return t}}]),t}();s.TYPE_PLIST="type_plist",s._container={},s.get=function(e){return s._container[e]||new s},l.default.LAtlas=s,t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=d(n(5)),i=d(n(77)),l=d(n(76)),u=d(n(9)),s=d(n(16)),f=n(2),c=d(n(0));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.name="instance"+n.objectIndex,n.x=0,n.y=0,n.width=0,n.height=0,n.scaleX=1,n.scaleY=1,n.alpha=1,n.visible=!0,n.rotate=0,n.blendMode=null,n.filters=null,n.transform=new i.default,n.parent=null,n.mask=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"_createCanvas",value:function(){var e=this;e._canvas||(e._canvas=document.createElement("canvas"),e._context=e._canvas.getContext("2d"))}},{key:"ll_show",value:function(e){var t=this;e=e||c.default.LGlobal.canvas,t._canShow()&&(t._ll_trans=!1,c.default.LGlobal.box2d||"function"!=typeof t._ll_loopframe||t._ll_loopframe(),e.save(),t._showReady(e),t.blendMode&&(e.globalCompositeOperation=t.blendMode),t.filters&&t._ll_setFilters(e),t._rotateReady(),t.mask&&t.mask.ll_show&&!t._ll_cacheAsBitmap&&(t.mask.ll_show(e),e.clip()),t._transformRotate(e),t._transformScale(e),t._coordinate(e),t.transform.matrix&&t.transform.matrix.transform(e),t.alpha<1&&(t._ll_trans=!0,e.globalAlpha*=t.alpha),c.default.LGlobal.fpsStatus&&(c.default.LGlobal.fpsStatus.display++,t._ll_trans&&c.default.LGlobal.fpsStatus.transform++),t._ll_cacheAsBitmap?t._ll_cacheAsBitmap._ll_show(e):t._ll_show(e),e.restore(),c.default.LGlobal.box2d&&"function"==typeof t._ll_loopframe&&t._ll_loopframe())}},{key:"_canShow",value:function(){return this.visible}},{key:"_coordinate",value:function(e){var t=this;0===t.x&&0===t.y||(t._ll_trans=!0,e.transform(1,0,0,1,t.x,t.y))}},{key:"_rotateReady",value:function(){}},{key:"_showReady",value:function(e){}},{key:"_ll_show",value:function(e){}},{key:"_ll_setFilters",value:function(e){var t,n=this.filters,o=void 0;if(n)for(o=0,t=n.length;o<t;o++)n[o].ll_show(this,e)}},{key:"startX",value:function(){return 0}},{key:"startY",value:function(){return 0}},{key:"getWidth",value:function(e){return 1}},{key:"getHeight",value:function(e){return 1}},{key:"_transformRotate",value:function(e){var t=this,n=void 0,a=void 0;e=e||c.default.LGlobal.canvas,0!==t.rotate&&(t._ll_trans=!0,a=Math.PI/180,n=new l.default,o(t.rotatex)===f.UNDEFINED&&(t.rotatex=0,t.rotatey=0),t.box2dBody&&(a=1),n.a=Math.cos(t.rotate*a),n.b=Math.sin(t.rotate*a),n.c=-n.b,n.d=n.a,n.tx=t.x+t.rotatex,n.ty=t.y+t.rotatey,n.transform(e).setTo(1,0,0,1,-n.tx,-n.ty).transform(e))}},{key:"_transformScale",value:function(e){var t=this,n=void 0;e=e||c.default.LGlobal.canvas,1===t.scaleX&&1===t.scaleY||(t._ll_trans=!0,n=new l.default,1!==t.scaleX&&(n.tx=t.x),1!==t.scaleY&&(n.ty=t.y),n.a=t.scaleX,n.d=t.scaleY,n.transform(e).setTo(1,0,0,1,-n.tx,-n.ty).transform(e))}},{key:"getAbsoluteScale",value:function(){var e=this,t=void 0,n=void 0,o=void 0;for(t=e.scaleX,n=e.scaleY,o=e.parent;o&&"root"!==o;)t*=o.scaleX,n*=o.scaleY,o=o.parent;return{scaleX:t,scaleY:n}}},{key:"getRootCoordinate",value:function(){return this.localToGlobal(new u.default(0,0))}},{key:"localToGlobal",value:function(e){var t;return t=this.getRootMatrix().toArray([e.x,e.y,1]),new u.default(t[0],t[1])}},{key:"globalToLocal",value:function(e){var t;return t=this.getLocalMatrix().toArray([e.x,e.y,1]),new u.default(t[0],t[1])}},{key:"getBounds",value:function(e){if((void 0===e?"undefined":o(e))===f.UNDEFINED)return new s.default(0,0,0,0);var t,n,a=this,r=0,i=0,l=void 0,u=void 0;return a.objectIndex!==e.objectIndex&&(l=a.getRootCoordinate(),u=e.getRootCoordinate(),r=l.x-u.x,i=l.y-u.y),t=a.getWidth(!0),n=a.getHeight(!0),new s.default(r,i,t,n)}},{key:"cacheAsBitmap",value:function(e){var t=this;if(e){var n=t.x-t.startX(!0),o=t.y-t.startY(!0),a=t.getDataCanvas(n,o,t.getWidth(!0),t.getHeight(!0)),r=new c.default.LBitmapData(a,0,0,null,null,c.default.LBitmapData.DATA_CANVAS),i=new c.default.LBitmap(r);i.x=-n,i.y=-o,t._ll_cacheAsBitmap=i}else t._ll_cacheAsBitmap=null}},{key:"getDataCanvas",value:function(e,t,n,o){var a,r,i=this;i._createCanvas(),a=i.x,r=i.y,i.x=e||0,i.y=t||0,i.width=n||i.getWidth(),i.height=o||i.getHeight(),i._canvas.width=i.width,i._canvas.height=i.height;var l=void 0,u=void 0;return i.mask&&(l=i.mask.x,u=i.mask.y,i.mask.x+=i.x-a,i.mask.y+=i.y-r),i.ll_show(i._context),i.x=a,i.y=r,i.mask&&(i.mask.x=l,i.mask.y=u),i._canvas}},{key:"getDataURL",value:function(){var e=this,t=e.x-e.startX(!0),n=e.y-e.startY(!0),o=e.getDataCanvas(t,n,e.getWidth(!0),e.getHeight(!0));return o.toDataURL.apply(o,arguments)}},{key:"getParentByConstructor",value:function(e){for(var t=this.parent;"object"===(void 0===t?"undefined":o(t));){if(t instanceof e)return t;t=t.parent}return null}},{key:"ismouseonShapes",value:function(e,t,n){var a,r=this,i=void 0,l=void 0,u=void 0,s=void 0;for((void 0===e?"undefined":o(e))===f.UNDEFINED&&(e=r.shapes),a=r.getRootMatrix(),l=e.length-1;l>=0;l--)if(s=(i=e[l]).arg,u=r._changeShape(i.type,s,a),i.type===c.default.LShape.VERTICES){if(c.default.LGlobal.hitPolygon(u,t,n))return!0}else if(i.type===c.default.LShape.RECT){if(c.default.LGlobal.hitPolygon(u,t,n))return!0}else if(i.type===c.default.LShape.ARC&&(u[0]-t)*(u[0]-t)+(u[1]-n)*(u[1]-n)<u[3])return!0;return!1}},{key:"_changeShape",value:function(e,t,n){var o=void 0,a=void 0,r=void 0,i=void 0,l=void 0,u=void 0;if(e===c.default.LShape.VERTICES)for(o=[],r=0,i=t.length;r<i;r++)o[r]=n.toArray([t[r][0],t[r][1],1]);else if(e===c.default.LShape.RECT)for(r=0,i=(o=[[t[0],t[1]],[t[0]+t[2],t[1]],[t[0]+t[2],t[1]+t[3]],[t[0],t[1]+t[3]]]).length;r<i;r++)o[r]=n.toArray([o[r][0],o[r][1],1]);else e===c.default.LShape.ARC&&(l=n.toArray([t[0],t[1],1]),u=n.toArray([t[0]+t[2],t[1],1]),a=(l[0]-u[0])*(l[0]-u[0])+(l[1]-u[1])*(l[1]-u[1]),o=[l[0],l[1],Math.sqrt(a),a]);return o}},{key:"getRootMatrix",value:function(){for(var e=this,t=new l.default;e&&"root"!==e;)1===e.scaleX&&1===e.scaleY||t.scale(e.scaleX,e.scaleY),0!==e.rotate&&t.rotate(e.rotate),0===e.x&&0===e.y||t.translate(e.x,e.y),e=e.parent;return t}},{key:"getLocalMatrix",value:function(){for(var e=this,t=new l.default,n=[];e&&"root"!==e;)n.push(e),e=e.parent;for(var o=n.length-1;o>=0;o--)0===(e=n[o]).x&&0===e.y||t.translate(-e.x,-e.y),0!==e.rotate&&t.rotate(-e.rotate),1===e.scaleX&&1===e.scaleY||t.scale(1/e.scaleX,1/e.scaleY);return t}},{key:"remove",value:function(){var e=this,t=e.parent;t&&"root"!==t&&(t.removeChild(e),e._ll_removeFromSelf=!0)}}]),t}();c.default.LDisplayObject=h,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(4),l=(o=i)&&o.__esModule?o:{default:o},u=n(2);var s=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispatchAllEvent=!1,this.container={},this.mouseDownContainer=[],this.mouseUpContainer=[],this.mouseMoveContainer=[],this.mouseOverContainer=[],this.mouseOutContainer=[],this.mouseDblContainer=[],this.textFieldInputContainer=[],this.buttonContainer=[]}return r(e,[{key:"pushInputBox",value:function(e){for(var t=this.textFieldInputContainer,n=0,o=t.length;n<o;n++)if(e.objectIndex===t[n].objectIndex)return;this.textFieldInputContainer.push(e)}},{key:"removeInputBox",value:function(e){var t,n=this.textFieldInputContainer,o=void 0;for(o=0,t=n.length;o<t;o++)if(e.objectIndex===n[o].objectIndex){this.textFieldInputContainer.splice(o,1);break}}},{key:"pushButton",value:function(e){var t,n=this.buttonContainer,o=void 0;for(o=0,t=n.length;o<t;o++)if(e.objectIndex===n[o].objectIndex)return;this.buttonContainer.push(e)}},{key:"removeButton",value:function(e){var t,n=this.buttonContainer,o=void 0;for(o=0,t=n.length;o<t;o++)if(e.objectIndex===n[o].objectIndex){this.buttonContainer.splice(o,1);break}}},{key:"dispatchEventButton",value:function(e){var t,n=this,o=void 0;for(o=0,t=n.buttonContainer.length;o<t;o++)"function"==typeof n.buttonContainer[o].ll_button_mode&&n.buttonContainer[o].ll_button_mode(e)}},{key:"addEvent",value:function(e,t,n,o){t.push({container:e,listener:n,_this:o})}},{key:"removeEvent",value:function(e,t,n){var o,a=void 0;for(a=0,o=t.length;a<o;a++)if(t[a].container.objectIndex===e.objectIndex&&(!n||t[a].listener===n)){t.splice(a,1);break}}},{key:"addMouseDownEvent",value:function(e,t,n){this.addEvent(e,this.mouseDownContainer,t,n)}},{key:"addMouseUpEvent",value:function(e,t,n){this.addEvent(e,this.mouseUpContainer,t,n)}},{key:"addMouseMoveEvent",value:function(e,t,n){this.addEvent(e,this.mouseMoveContainer,t,n)}},{key:"addMouseOverEvent",value:function(e,t,n){this.addEvent(e,this.mouseOverContainer,t,n)}},{key:"addMouseOutEvent",value:function(e,t,n){this.addEvent(e,this.mouseOutContainer,t,n)}},{key:"addMouseDblEvent",value:function(e,t,n){this.addEvent(e,this.mouseDblContainer,t,n)}},{key:"addMouseEvent",value:function(e,t,n,o){var a=this;t===l.default.MOUSE_DOWN?a.addMouseDownEvent(e,n,o):t===l.default.MOUSE_UP?a.addMouseUpEvent(e,n,o):t===l.default.MOUSE_OVER?a.addMouseOverEvent(e,n,o):t===l.default.MOUSE_OUT?a.addMouseOutEvent(e,n,o):t===l.default.MOUSE_MOVE?a.addMouseMoveEvent(e,n,o):a.addMouseDblEvent(e,n,o)}},{key:"hasEventListener",value:function(e,t,n){for(var o=this,a=void 0,r=0,i=(a=t===l.default.MOUSE_DOWN?o.mouseDownContainer:t===l.default.MOUSE_UP?o.mouseUpContainer:t===l.default.MOUSE_OVER?o.mouseOverContainer:t===l.default.MOUSE_OUT?o.mouseOutContainer:t===l.default.MOUSE_MOVE?o.mouseMoveContainer:o.mouseDblContainer).length;r<i;r++)if(a[r].container.objectIndex===e.objectIndex&&(!n||a[r].listener===n))return!0;return!1}},{key:"removeMouseDownEvent",value:function(e,t){this.removeEvent(e,this.mouseDownContainer,t)}},{key:"removeMouseUpEvent",value:function(e,t){this.removeEvent(e,this.mouseUpContainer,t)}},{key:"removeMouseMoveEvent",value:function(e,t){this.removeEvent(e,this.mouseMoveContainer,t)}},{key:"removeMouseOverEvent",value:function(e,t){this.removeEvent(e,this.mouseOverContainer,t)}},{key:"removeMouseOutEvent",value:function(e,t){this.removeEvent(e,this.mouseOutContainer,t)}},{key:"removeMouseDblEvent",value:function(e,t){this.removeEvent(e,this.mouseDblContainer,t)}},{key:"removeMouseEvent",value:function(e,t,n){var o=this;t===l.default.MOUSE_DOWN?o.removeMouseDownEvent(e,n):t===l.default.MOUSE_UP?o.removeMouseUpEvent(e,n):t===l.default.MOUSE_OVER?o.removeMouseOverEvent(e,n):t===l.default.MOUSE_OUT?o.removeMouseOutEvent(e,n):t===l.default.MOUSE_MOVE?o.removeMouseMoveEvent(e,n):o.removeMouseDblEvent(e,n)}},{key:"dispatchMouseEvent",value:function(e,t){var n=this;t===l.default.MOUSE_DOWN?(n.dispatchEvent(e,n.mouseDownContainer,l.default.MOUSE_DOWN),n.dispatchEvent(e,n.textFieldInputContainer)):t===l.default.MOUSE_UP?n.dispatchEvent(e,n.mouseUpContainer,l.default.MOUSE_UP):t===l.default.DOUBLE_CLICK?n.dispatchEvent(e,n.mouseDblContainer,l.default.DOUBLE_CLICK):(n.dispatchEventButton(e),n.dispatchEvent(e,n.mouseOutContainer,l.default.MOUSE_OUT),n.dispatchEvent(e,n.mouseOverContainer,l.default.MOUSE_OVER),n.dispatchEvent(e,n.mouseMoveContainer,l.default.MOUSE_MOVE))}},{key:"getRootParams",value:function(e){for(var t=e.parent,n={x:0,y:0,scaleX:1,scaleY:1};t&&"root"!==t;)n.x*=t.scaleX,n.y*=t.scaleY,n.x+=t.x,n.y+=t.y,n.scaleX*=t.scaleX,n.scaleY*=t.scaleY,t=t.parent;return n}},{key:"_mouseEnabled",value:function(e){if(!e||!e.parent)return!1;if(!e.visible||a(e.mouseEnabled)!==u.UNDEFINED&&!e.mouseEnabled)return!1;for(var t=e.parent;t&&"root"!==t;){if(!t.mouseEnabled||!t.mouseChildren||!t.visible)return!1;if(!(t=t.parent))return!1}return!0}},{key:"_dispatchEvent",value:function(e,t,n,o,a,r){var i=void 0,l=void 0,u=n.length;for(i=a;i<=r&&i<u;i++)(l=n[i]).sp.objectIndex===o&&(e.currentTarget=e.clickTarget=l.sp,e.target||(e.target=l.sp),e.event_type=t,e.selfX=(e.offsetX-l.co.x-l.sp.x)/(l.co.scaleX*l.sp.scaleX),e.selfY=(e.offsetY-l.co.y-l.sp.y)/(l.co.scaleY*l.sp.scaleY),l.listener.call(l._this?l._this:l,e,l.sp))}},{key:"dispatchEvent",value:function(e,t,n){var o=void 0,a=void 0,r=[],i=void 0,u=void 0,s=void 0;for(u=0,s=t.length;u<s;u++)if(o=t[u].container||t[u],this._mouseEnabled(o))if(a=this.getRootParams(o),n||!o.mouseEvent)if(o.ismouseon(e,a)){if(n===l.default.MOUSE_OUT)continue;if(n===l.default.MOUSE_OVER&&o.ll_mousein)continue;n!==l.default.MOUSE_UP&&(o.ll_mousein=!0),r.push({sp:o,co:a,listener:t[u].listener,_this:t[u]._this})}else{if(n!==l.default.MOUSE_OUT&&n!==l.default.MOUSE_OVER)continue;if(!o.ll_mousein)continue;o.ll_mousein=!1,r.push({sp:o,co:a,listener:t[u].listener,_this:t[u]._this})}else o.mouseEvent(e,l.default.MOUSE_DOWN,a);if(0!==r.length)for(r.length>1&&(r=r.sort(this._sort.bind(this))),s=r.length,u=0;u<s;u++)if(i=r[u],this._dispatchEvent(e,n,r,i.sp.objectIndex,u,this.dispatchAllEvent?s-1:u),u<r.length-1&&i.sp.objectIndex===r[u+1].sp.objectIndex)r.splice(u,1),u--;else{for(var f=void 0;f&&"root"!==f&&(f||(f=i.sp.parent,e.target=i.sp),f&&"root"!==f);)this._dispatchEvent(e,n,r,f.objectIndex,u+1,s),e.target=f,f=f.parent;if(!this.dispatchAllEvent)break}}},{key:"set",value:function(e,t){this.container[e]=t}},{key:"_sort",value:function(e,t){var n,o,a=void 0,r=void 0,i=this._getSort(e.sp),l=this._getSort(t.sp),u=void 0;for(u=0,n=i.length,o=l.length;u<n&&u<o;u++)if(a=i[u],r=l[u],a.objectIndex!==r.objectIndex)return r.parent.getChildIndex(r)-a.parent.getChildIndex(a);return l.length-i.length}},{key:"_getSort",value:function(e){for(var t=e.parent,n=[e];t&&"root"!==t;)n.unshift(t),t=t.parent;return n}}]),e}());s.set(l.default.MOUSE_DOWN,!0),s.set(l.default.MOUSE_UP,!0),s.set(l.default.MOUSE_MOVE,!0),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(5),r=(o=a)&&o.__esModule?o:{default:o};var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();t.default=new i},function(e,t,n){"use strict";function o(){throw"LTimerEvent cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.TIMER="timer",o.TIMER_COMPLETE="timerComplete",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=l(n(34)),r=l(n(33)),i=l(n(23));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"init",value:function(e){(function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),this._waitExecuteFuncs=[]}},{key:"nextFrameExecute",value:function(e){var t=this;this._timer||(this._timer=new r.default,this._timer.addEventListener(i.default.TIMER,function(){t._waitExecuteFuncsExecute()})),0===this._waitExecuteFuncs.length&&(this._timer.reset(),this._timer.start()),this._waitExecuteFuncs.push(e)}},{key:"_waitExecuteFuncsExecute",value:function(){if(0!==this._waitExecuteFuncs.length){for(var e=0;e<this._waitExecuteFuncs.length;e++){var t=this._waitExecuteFuncs[e];"function"==typeof t&&t()}this._waitExecuteFuncs.length=0}}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(2),r={None:{easeIn:function(e,t,n,o){return t+e*n/o},easeOut:function(e,t,n,o){return t+e*n/o},easeInOut:function(e,t,n,o){return t+e*n/o}},Quad:{easeIn:function(e,t,n,o){return n*(e/=o)*e+t},easeOut:function(e,t,n,o){return-n*(e/=o)*(e-2)+t},easeInOut:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},Cubic:{easeIn:function(e,t,n,o){return n*(e/=o)*e*e+t},easeOut:function(e,t,n,o){return n*((e=e/o-1)*e*e+1)+t},easeInOut:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}},Quart:{easeIn:function(e,t,n,o){return n*(e/=o)*e*e*e+t},easeOut:function(e,t,n,o){return-n*((e=e/o-1)*e*e*e-1)+t},easeInOut:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t}},Quint:{easeIn:function(e,t,n,o){return n*(e/=o)*e*e*e*e+t},easeOut:function(e,t,n,o){return n*((e=e/o-1)*e*e*e*e+1)+t},easeInOut:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}},Sine:{easeIn:function(e,t,n,o){return-n*Math.cos(e/o*(Math.PI/2))+n+t},easeOut:function(e,t,n,o){return n*Math.sin(e/o*(Math.PI/2))+t},easeInOut:function(e,t,n,o){return-n/2*(Math.cos(Math.PI*e/o)-1)+t}},Strong:{easeIn:function(e,t,n,o){return n*(e/=o)*e*e*e*e+t},easeOut:function(e,t,n,o){return n*((e=e/o-1)*e*e*e*e+1)+t},easeInOut:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}},Expo:{easeIn:function(e,t,n,o){return 0===e?t:n*Math.pow(2,10*(e/o-1))+t},easeOut:function(e,t,n,o){return e===o?t+n:n*(1-Math.pow(2,-10*e/o))+t},easeInOut:function(e,t,n,o){return 0===e?t:e===o?t+n:(e/=o/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t}},Circ:{easeIn:function(e,t,n,o){return-n*(Math.sqrt(1-(e/=o)*e)-1)+t},easeOut:function(e,t,n,o){return n*Math.sqrt(1-(e=e/o-1)*e)+t},easeInOut:function(e,t,n,o){return(e/=o/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t}},Elastic:{easeIn:function(e,t,n,o,a,r){var i=void 0;return 0===e?t:1==(e/=o)?t+n:(r||(r=.3*o),!a||a<Math.abs(n)?(a=n,i=r/4):i=r/(2*Math.PI)*Math.asin(n/a),-a*Math.pow(2,10*(e-=1))*Math.sin((e*o-i)*(2*Math.PI)/r)+t)},easeOut:function(e,t,n,o,a,r){var i=void 0;return 0===e?t:1==(e/=o)?t+n:(r||(r=.3*o),!a||a<Math.abs(n)?(a=n,i=r/4):i=r/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*e)*Math.sin((e*o-i)*(2*Math.PI)/r)+n+t)},easeInOut:function(e,t,n,o,a,r){var i=void 0;return 0===e?t:2==(e/=o/2)?t+n:(r||(r=o*(.3*1.5)),!a||a<Math.abs(n)?(a=n,i=r/4):i=r/(2*Math.PI)*Math.asin(n/a),e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e*o-i)*(2*Math.PI)/r)*-.5+t:a*Math.pow(2,-10*(e-=1))*Math.sin((e*o-i)*(2*Math.PI)/r)*.5+n+t)}},Back:{easeIn:function(e,t,n,r,i){return(void 0===i?"undefined":o(i))===a.UNDEFINED&&(i=1.70158),n*(e/=r)*e*((i+1)*e-i)+t},easeOut:function(e,t,n,r,i){return(void 0===i?"undefined":o(i))===a.UNDEFINED&&(i=1.70158),n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},easeInOut:function(e,t,n,r,i){return(void 0===i?"undefined":o(i))===a.UNDEFINED&&(i=1.70158),(e/=r/2)<1?n/2*(e*e*((1+(i*=1.525))*e-i))+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t}},Bounce:{easeIn:function(e,t,n,o){return n-r.Bounce.easeOut(o-e,0,n,o)+t},easeOut:function(e,t,n,o){return(e/=o)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOut:function(e,t,n,o){return e<o/2?.5*r.Bounce.easeIn(2*e,0,n,o)+t:.5*r.Bounce.easeOut(2*e-o,0,n,o)+.5*n+t}}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=i(n(30)),r=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LShape",e.graphics=new r.default.LGraphics,e.graphics.parent=e,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"_ll_show",value:function(e){this.graphics.ll_show(e)}},{key:"getWidth",value:function(e){var t=this,n=void 0,o=void 0,a=t.graphics.startX(),r=a+t.graphics.getWidth();return e&&t.mask&&(n=t.mask._startX?t.mask._startX():t.mask.startX(),o=t.mask.getWidth(),a<n&&(a=n),r>n+o&&(r=n+o)),t.ll_left=t.x+a,t.ll_right=t.x+r,(r-a)*t.scaleX}},{key:"getHeight",value:function(e){var t=this,n=void 0,o=void 0,a=t.graphics.startY(),r=a+t.graphics.getHeight();return e&&t.mask&&(n=t.mask._startY?t.mask._startY():t.mask.startY(),o=t.mask.getHeight(),a<n&&(a=n),r>n+o&&(r=n+o)),t.ll_top=t.y+a,t.ll_bottom=t.y+r,(r-a)*t.scaleY}},{key:"_startX",value:function(){return this.getWidth(),this.ll_left}},{key:"startX",value:function(){return this._startX()*this.scaleX}},{key:"_startY",value:function(){return this.getHeight(),this.ll_top}},{key:"startY",value:function(){return this._startY()*this.scaleY}},{key:"clone",value:function(){var e=new t;return e.copyProperty(this),e.graphics=this.graphics.clone(),e.graphics.parent=e,e}},{key:"ismouseon",value:function(e,t){var n,o=this,a=!1;return!(!o.visible||!e)&&(!(o.mask&&(o.mask.parent||(o.mask.parent=o.parent),!o.mask.ismouseon(e,t)))&&(n={x:o.x*t.scaleX+t.x,y:o.y*t.scaleY+t.y,scaleX:t.scaleX*o.scaleX,scaleY:t.scaleY*o.scaleY},o.graphics&&(a=o.graphics.ismouseon(e,n)),a))}},{key:"die",value:function(){this.graphics.clear(),function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"die",this).call(this)}}]),t}();l.POINT="point",l.LINE="line",l.ARC="arc",l.RECT="rect",l.VERTICES="vertices",r.default.LShape=l,t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=i(n(20)),r=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.type="LBitmap",n.rotateCenter=!0,n.bitmapData=e,n.bitmapData&&(n.width=n.bitmapData.width,n.height=n.bitmapData.height),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"_canShow",value:function(){return this.visible&&this.bitmapData}},{key:"_rotateReady",value:function(){var e=this;0!==e.rotate&&e.rotateCenter?(e.rotatex=.5*e.getWidth(),e.rotatey=.5*e.getHeight()):e.rotatex=e.rotatey=0}},{key:"_coordinate",value:function(e){}},{key:"_ll_show",value:function(e){this.ll_draw(e)}},{key:"ll_draw",value:function(e){var t=this;r.default.LGlobal.fpsStatus&&r.default.LGlobal.fpsStatus.bitmapData++,e.drawImage(t.bitmapData.image,t.bitmapData.x,t.bitmapData.y,t.bitmapData.width,t.bitmapData.height,t.x,t.y,t.bitmapData.width,t.bitmapData.height)}},{key:"clone",value:function(){var e=this,n=new t(e.bitmapData.clone());return n.copyProperty(e),n.rotateCenter=e.rotateCenter,n}},{key:"ismouseon",value:function(e,t){var n=this;return!!e&&(!(!n.visible||!n.bitmapData)&&(!(n.mask&&(n.mask.parent||(n.mask.parent=n.parent),!n.mask.ismouseon(e,t)))&&n.ismouseonShapes([{type:r.default.LShape.RECT,arg:[0,0,n.bitmapData.width,n.bitmapData.height]}],e.offsetX,e.offsetY)))}},{key:"getWidth",value:function(e){var t,n=this,o=void 0,a=void 0;return t=n.bitmapData?n.bitmapData.width*(n.scaleX>0?n.scaleX:-n.scaleX):0,e&&n.mask?(o=n.mask._startX?n.mask._startX():n.mask.startX())>t?0:o+(a=n.mask.getWidth())>t?t-o:a:t}},{key:"getHeight",value:function(e){var t,n=this,o=void 0,a=void 0;return t=n.bitmapData?n.bitmapData.height*(n.scaleY>0?n.scaleY:-n.scaleY):0,e&&n.mask?(o=n.mask._startY?n.mask._startY():n.mask.startY())>t?0:o+(a=n.mask.getHeight())>t?t-o:a:t}},{key:"startX",value:function(){return this.x}},{key:"startY",value:function(){return this.y}},{key:"die",value:function(){}}]),t}();r.default.LBitmap=l,t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=s(n(7)),i=n(2),l=s(n(16)),u=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n,a,r,l,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(s.type="LBitmapData",(void 0===u?"undefined":o(u))===i.UNDEFINED&&(u=t.DATA_IMAGE),s.oncomplete=null,s._locked=!1,s._setPixel=!1,s.x=n||0,s.y=a||0,s.width=0,s.height=0,s.dataType=null,e&&"object"===(void 0===e?"undefined":o(e)))s.image=e,s.dataType=t.DATA_IMAGE,s.width=r||s.image.width,s.height=l||s.image.height,s._setDataType(u);else{if(s._createCanvas(),s.dataType=t.DATA_CANVAS,s._canvas.width=s.width=r||1,s._canvas.height=s.height=l||1,"string"==typeof e)s._context.fillStyle=e,s._context.fillRect(0,0,s.width,s.height);else if("number"==typeof e){for(var f=s._context.createImageData(s.width,s.height),c=0;c<f.data.length;c+=4)f.data[c+0]=e>>16&255,f.data[c+1]=e>>8&255,f.data[c+2]=255&e,f.data[c+3]=255;s._context.putImageData(f,0,0)}s.image=s._canvas,u===t.DATA_IMAGE&&s._setDataType(u)}return s.resize(),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"_setDataType",value:function(e){var n=this;n.dataType!==e&&(e===t.DATA_CANVAS?(n._createCanvas(),n._canvas.width=n.image.width,n._canvas.height=n.image.height,n._context.clearRect(0,0,n._canvas.width,n._canvas.height),n._context.drawImage(n.image,0,0),n.image=n._canvas):e===t.DATA_IMAGE&&(n.image=new Image,n.image.width=n._canvas.width,n.image.height=n._canvas.height,n.image.src=n._canvas.toDataURL()),n.dataType=e)}},{key:"_createCanvas",value:function(){var e=this;e._canvas||(e._canvas=document.createElement("canvas"),e._context=e._canvas.getContext("2d"))}},{key:"clear",value:function(e){var n=this;n._createCanvas(),e?n._context.clearRect(e.x,e.y,e.width,e.height):n._canvas.width=n.image.width,n.dataType===t.DATA_IMAGE&&(n.image.src=n._canvas.toDataURL())}},{key:"setProperties",value:function(e,t,n,o){var a=this;a.x=e,a.y=t,a.width=n,a.height=o,a.resize()}},{key:"setCoordinate",value:function(e,t){var n=this;n.x=e,n.y=t,n.resize()}},{key:"clone",value:function(){var e=this;return new t(e.image,e.x,e.y,e.width,e.height,e.dataType)}},{key:"_ready",value:function(){var e=this;e._dataType=e.dataType,e._setDataType(t.DATA_CANVAS),e._data=e._context.getImageData(e.x,e.y,e.width,e.height)}},{key:"_update",value:function(){var e=this;e._context.putImageData(e._data,e.x,e.y,0,0,e.width,e.height),e._setDataType(e._dataType),e._data=null}},{key:"applyFilter",value:function(e,t,n,o,a){var r=this,i=r._context.getImageData(r.x+t.x,r.y+t.y,t.width,t.height),u=o.filter(i,t.width,a);r.putPixels(new l.default(n.x,n.y,t.width,t.height),u)}},{key:"getPixel",value:function(e,t,n){var o,a,r=this;return e>>=0,t>>=0,r._locked||r._ready(),o=4*r.width*t+4*e,a=r._data.data,r._locked||r._update(),"number"===n?a[o]<<16|a[o+1]<<8|a[o+2]:[a[o],a[o+1],a[o+2],a[o+3]]}},{key:"setPixel",value:function(e,t,n){var a=this;e>>=0,t>>=0,a._locked||a._ready();var r=a._data,i=4*a.width*t+4*e;"object"===(void 0===n?"undefined":o(n))?(r.data[i+0]=n[0],r.data[i+1]=n[1],r.data[i+2]=n[2],r.data[i+3]=n[3]):("string"==typeof n&&(n=parseInt(n.replace("#","0x"))),r.data[i+0]=n>>16&255,r.data[i+1]=n>>8&255,r.data[i+2]=255&n,r.data[i+3]=255),a._locked||a._update()}},{key:"getPixels",value:function(e){var t,n=this;return n._locked||n._ready(),t=n._context.getImageData(n.x+e.x,n.y+e.y,e.width,e.height),n._locked||n._update(),t}},{key:"setPixels",value:function(e,t){var n=this,a=void 0,r=void 0,i=void 0,l=void 0,u=void 0,s=void 0;if(n._locked||n._ready(),i=n._data,"object"===(void 0===t?"undefined":o(t)))for(l=n._canvas.width,u=e.x;u<e.right;u++)for(s=e.y;s<e.bottom;s++)a=4*l*(n.y+s)+4*(n.x+u),r=4*t.width*(s-e.y)+4*(u-e.x),i.data[a+0]=t.data[r+0],i.data[a+1]=t.data[r+1],i.data[a+2]=t.data[r+2],i.data[a+3]=t.data[r+3];else for("string"==typeof t&&(t=parseInt(t.replace("#","0x"))),t=[t>>16&255,t>>8&255,255&t],l=n._canvas.width,u=e.x;u<e.right;u++)for(s=e.y;s<e.bottom;s++)a=4*l*(n.y+s)+4*(n.x+u),i.data[a+0]=t[0],i.data[a+1]=t[1],i.data[a+2]=t[2],i.data[a+3]=255;n._locked||n._update()}},{key:"putPixels",value:function(e,n){var a=this;a.dataType===t.DATA_CANVAS&&"object"===(void 0===n?"undefined":o(n))&&a._context.putImageData(n,a.x+e.x,a.y+e.y,0,0,e.width,e.height)}},{key:"lock",value:function(){this._locked=!0,this._ready()}},{key:"unlock",value:function(){this._locked=!1,this._update()}},{key:"draw",value:function(e,n,o,a,r){var i,u,s=this,f=void 0,c=e,d=void 0,h=void 0,p=!1,v=s.dataType;s._setDataType(t.DATA_CANVAS),(n||o||a||r)&&(s._context.save(),p=!0),r&&(c instanceof t?(d=c.x,h=c.y):d=h=0,c=new t(c.getDataCanvas(),d+r.x,h+r.y,r.width,r.height,t.DATA_CANVAS)),i=c.getWidth()>>>0,u=c.getHeight()>>>0,0!==i&&0!==u?(f=c.getDataCanvas(),o&&(c.colorTransform(new l.default(0,0,i,u),o),f=c.image),n&&s._context.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),a&&(s._context.globalCompositeOperation=a),s._context.drawImage(f,c.x,c.y,i,u,0,0,i,u),p&&s._context.restore(),s._setDataType(v),s.resize()):s._setDataType(v)}},{key:"getDataCanvas",value:function(){var e=this,n=e.dataType;return e._setDataType(t.DATA_CANVAS),e._setDataType(n),e._canvas}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"resize",value:function(){var e=this,t=e.image.width-e.x,n=e.image.height-e.y;e.width=e.width<t?e.width:t,e.height=e.height<n?e.height:n}},{key:"colorTransform",value:function(e,n){var o=this;if(o.dataType===t.DATA_CANVAS){for(var a=o._context.getImageData(o.x+e.x,o.y+e.y,e.width,e.height),r=a.data,i=0,l=r.length;i<l;i+=4){var u=i,s=i+1,f=i+2,c=i+3;r[u]=r[u]*n.redMultiplier+n.redOffset,r[s]=r[s]*n.greenMultiplier+n.greenOffset,r[f]=r[f]*n.blueMultiplier+n.blueOffset,r[c]=r[c]*n.alphaMultiplier+n.alphaOffset}o._context.putImageData(a,o.x+e.x,o.y+e.y,0,0,e.width,e.height)}}},{key:"copyPixels",value:function(e,n,o){var a,r,i,l,u=e;this.dataType===t.DATA_CANVAS&&(a=u.x,r=u.y,i=u.width,l=u.height,u.setProperties(n.x+u.x,n.y+u.y,n.width,n.height),this._context.drawImage(u.image,u.x,u.y,u.width,u.height,o.x,o.y,u.width,u.height),u.x=a,u.y=r,u.width=i,u.height=l)}}]),t}();f.DATA_IMAGE="data_image",f.DATA_CANVAS="data_canvas",u.default.LBitmapData=f,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(2),i=u(n(10)),l=u(n(73));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.responseType=null,window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,this.canUseBlob=window.Blob||window.BlobBuilder;var t=location.protocol;this.local=!("http:"===t||"https:"===t),this.TEXT="text",this.JSON="json",this.ARRAY_BUFFER="arraybuffer",this.BLOB="blob"}return a(e,[{key:"get",value:function(e,t,n,o){this.getRequest("GET",e,t,n,o)}},{key:"post",value:function(e,t,n,o){this.getRequest("POST",e,t,n,o)}},{key:"getRequest",value:function(e,t,n,o,a){var r=this,i=void 0,l="",u="";r.err=a;var s=t.indexOf("http")<0,f=r.getHttp(s);if(f){if(n)for(i in n)l+=u+i+"="+n[i],u="&";"get"===e.toLowerCase()&&l.length>0&&(t+=(t.indexOf("?")>=0?"&":"?")+l,l=null),f.onerror=function(e){a&&(a(e),a=null)};var c=r.progress;if(r.progress=null,f.addEventListener||(f.addEventListener=function(e,t){f["on"+e]=t}),f.addEventListener("progress",function(e){404===e.currentTarget.status?a&&(a(e.currentTarget),a=null):200===e.currentTarget.status&&c&&c(e)},!1),f.open(e,t,!0),r.responseType){if(r.responseType===r.JSON)try{f.responseType=r.responseType}catch(e){f.responseType=r.TEXT,f._responseType="json"}else f.responseType=r.responseType;r.responseType=r.TEXT}f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.onreadystatechange=function(e){var t=e.currentTarget;4===t.readyState&&(t.status>=200&&t.status<300||304===t.status?o&&(t._responseType===r.JSON?(t._responseType=r.TEXT,o(JSON.parse(t.responseText))):t.responseType===r.ARRAY_BUFFER||t.responseType===r.BLOB||t.responseType===r.JSON?o(t.response):t.responseText.length>0?o(t.responseText):o(null)):a&&(a(t),a=null))},f.send(l)}}},{key:"getHttp",value:function(e){if(i.default.wx&&e)return new l.default;if(("undefined"==typeof XMLHttpRequest?"undefined":o(XMLHttpRequest))!==r.UNDEFINED)return new XMLHttpRequest;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){this.err||this.err(e)}}return!1}}]),e}();t.default=new s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0},r=u(n(20)),i=u(n(21)),l=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LInteractiveObject",e.mouseEnabled=!0,e.mouseList=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"addEventListener",value:function(e,t,n){var o=this;if(e.indexOf("mouse")>=0||e.indexOf("touch")>=0||e===l.default.DOUBLE_CLICK){if(i.default.container[e]||(e===l.default.MOUSE_OVER||e===l.default.MOUSE_OUT)&&i.default.container[l.default.MOUSE_MOVE])return void i.default.addMouseEvent(o,e,t,n);o.mouseList.push({listener:t,type:e,_this:n})}else o._eventList.push({listener:t,type:e,_this:n})}},{key:"removeEventListener",value:function(e,n){var o=this,r=void 0,u=void 0;if(!(e.indexOf("mouse")>=0||e.indexOf("touch")>=0||e===l.default.DOUBLE_CLICK))return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeEventListener",this).call(this,e,n);if(i.default.container[e]||(e===l.default.MOUSE_OVER||e===l.default.MOUSE_OUT)&&i.default.container[l.default.MOUSE_MOVE])i.default.removeMouseEvent(o,e,n);else for(u=o.mouseList.length,r=0;r<u;r++)if(o.mouseList[r]&&e===o.mouseList[r].type&&o.mouseList[r].listener===n)return void o.mouseList.splice(r,1)}},{key:"removeAllEventListener",value:function(){var e=this;e.mouseList.length=0,e._eventList.length=0,i.default.container[l.default.MOUSE_DOWN]&&i.default.removeMouseEvent(e,l.default.MOUSE_DOWN),i.default.container[l.default.MOUSE_UP]&&i.default.removeMouseEvent(e,l.default.MOUSE_UP),i.default.container[l.default.MOUSE_MOVE]&&(i.default.removeMouseEvent(e,l.default.MOUSE_MOVE),i.default.removeMouseEvent(e,l.default.MOUSE_OVER),i.default.removeMouseEvent(e,l.default.MOUSE_OUT))}},{key:"hasEventListener",value:function(e,n){var o=this,r=void 0,u=void 0;if(i.default.container[e])return i.default.hasEventListener(o,e,n);if(!(e.indexOf("mouse")>=0||e.indexOf("touch")>=0||e===l.default.DOUBLE_CLICK))return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"hasEventListener",this).call(this,e,n);for(u=o.mouseList.length,r=0;r<u;r++)if(o.mouseList[r]&&e===o.mouseList[r].type&&(!n||o.mouseList[r].listener===n))return!0;return!1}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=i(n(1)),r=i(n(32));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"init",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this),this._focus=!1}},{key:"_iconReset",value:function(e){var t=this.currentButton.upState.getChildAt(1);e?t.resize(100,100):t.resize(80,80),t.x=.5*(this.widgetWidth-t.widgetWidth),t.y=this.widgetHeight-t.widgetHeight}},{key:"focusOn",value:function(){this._focus||(this._focus=!0,this.currentButton.upState.resize(190,this.widgetHeight),this._iconReset(!0))}},{key:"focusOff",value:function(){this._focus&&(this._focus=!1,this.currentButton.upState.resize(150,this.widgetHeight),this._iconReset(!1))}},{key:"focus",get:function(){return this._focus}}]),t}();a.default.set("FooterMenuButtonView",l),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0},r=f(n(14)),i=f(n(48)),l=f(n(4)),u=f(n(1)),s=f(n(15));function f(e){return e&&e.__esModule?e:{default:e}}var c="sprite",d="scale",h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"init",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e)}},{key:"updateView",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateView",this).call(this);var e=this.button;e.onMouseDown&&this._addMouseEvent(l.default.MOUSE_DOWN,e.onMouseDown),e.onMouseMove&&this._addMouseEvent(l.default.MOUSE_MOVE,e.onMouseMove),e.onMouseUp&&this._addMouseEvent(l.default.MOUSE_UP,e.onMouseUp)}},{key:"_addMouseEvent",value:function(e,t){var n=this.getTarget(t.target);n&&this.addEventListener(e,function(e){n[t.method](e,t.param)})}},{key:"_initDataChildNodes",value:function(e){if(e.property&&e.property.button){var t=[],n=[],o=e.property.button;t.push(o.upState),o.transition===c&&(o.overState&&t.push(o.overState),o.downState&&t.push(o.downState),o.disableState&&t.push(o.disableState));var a=!0,r=!1,l=void 0;try{for(var u,f=t[Symbol.iterator]();!(a=(u=f.next()).done);a=!0){var h=u.value,p=s.default.create(h);n.push(p),p instanceof s.default&&p.lateInit()}}catch(e){r=!0,l=e}finally{try{!a&&f.return&&f.return()}finally{if(r)throw l}}for(var v=n.length-1;v<4;v++)n.push(null);var y=new i.default(n[0],n[1],n[2],n[3]);o.transition!==d&&(y.staticMode=!0),this.addChild(y)}}},{key:"widgetWidth",get:function(){return this._widgetWidth?this._widgetWidth:this.currentButton.upState.widgetWidth?this.currentButton.upState.widgetWidth:this.currentButton.upState.getWidth()}},{key:"widgetHeight",get:function(){return this._widgetHeight?this._widgetHeight:this.currentButton.upState.widgetHeight?this.currentButton.upState.widgetHeight:this.currentButton.upState.getHeight()}},{key:"currentButton",get:function(){return this.getChildAt(0)}}]),t}();u.default.set("BindButtonView",h),t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=l(n(0)),r=l(n(5)),i=l(n(23));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=o;return a.type="LTimer",a.delay=e,a.repeatCount=n||Number.MAX_VALUE,a.running=!1,a.currentCount=0,a.reset(),t.TimerManager.add(a),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"start",value:function(){this.running=!0}},{key:"stop",value:function(){this.running=!1}},{key:"reset",value:function(){var e=this;e.currentTime=0,e.currentCount=0,e.stop()}},{key:"destroy",value:function(){t.TimerManager.remove(this)}},{key:"ll_show",value:function(){var e=this;!e.running||e.currentCount>=e.repeatCount||(e.currentTime+=a.default.LGlobal.speed,e.currentTime<e.delay||(e.currentTime=0,e.currentCount++,e.dispatchEvent(i.default.TIMER),e.currentCount>=e.repeatCount&&e.dispatchEvent(i.default.TIMER_COMPLETE)))}}]),t}();u.TimerManager=function(){function e(){this.childList=[]}return e.prototype={ll_show:function(){for(var e=void 0,t=0;t<this.childList.length;t++)(e=this.childList[t])&&e.ll_show()},add:function(e){this.childList.push(e)},remove:function(e){var t,n=this.childList,o=void 0;for(o=0,t=n.length;o<t;o++)if(e.objectIndex===n[o].objectIndex){this.childList.splice(o,1);break}}},new e}(),a.default.LGlobal.childList.push(u.TimerManager),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=i(n(15)),r=i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"init",value:function(e){var n=this;(function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),this.dispatcher=this.dispatcher||{},this.onLoad(e.request),setTimeout(function(){n.widget&&r.default.currentScene&&r.default.currentScene.nextFrameExecute(function(){n.widgetInit()})})}},{key:"onLoad",value:function(e){}},{key:"onLoadEnd",value:function(){}},{key:"isController",get:function(){return!0}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={SIMPLE:"simple",SLICED:"sliced"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=l(n(5)),r=l(n(29)),i=l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LLoader",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"load",value:function(e,n,o){var a=this;if(n||(n=t.TYPE_BITMAPDATE),a.loadtype=n,a.useXHR=o&&!r.default.local&&r.default.canUseBlob,n===t.TYPE_BITMAPDATE){var l=t.get(e);if(l)return void setTimeout(function(){a.dispatchCompleteEvent(l)});a.useXHR?(r.default.responseType=r.default.ARRAY_BUFFER,r.default.progress=function(e){var t=new i.default(i.default.PROGRESS);t.currentTarget=a,t.target=e.currentTarget,t.loaded=e.loaded,t.total=e.total,t.responseURL=e.responseURL,a.dispatchEvent(t)},r.default.post(e,{},function(t){var n=void 0;try{n=new Blob([t],{type:"image/png"})}catch(e){if("TypeError"===e.name&&window.BlobBuilder){var o=new BlobBuilder;o.append(t),n=o.getBlob()}else n=null,a.useXHR=!1}a.useXHR&&(e=a.createObjectURL(n)),a.loadStart(e)},function(e){var t=new i.default(i.default.ERROR);t.currentTarget=a,t.target=e,t.responseURL=e.responseURL,a.dispatchEvent(t)})):a.loadStart(e)}}},{key:"dispatchCompleteEvent",value:function(e){var t=new i.default(i.default.COMPLETE);t.currentTarget=this,t.target=e,this.useXHR&&this.revokeObjectURL(e.src),this.dispatchEvent(t)}},{key:"loadStart",value:function(e){var n=this;n.content=new Image,n.content.onload=function(){n.content.onload=null,n.dispatchCompleteEvent(n.content),t._container[e]=n.content,delete n.content},n.useXHR||(n.content.onerror=function(e){var t=new i.default(i.default.ERROR);t.currentTarget=n,t.target=e.target,t.responseURL=e.target.src,n.dispatchEvent(t)}),n.content.src=e}},{key:"createObjectURL",value:function(e){return(window.URL||window.webkitURL).createObjectURL(e)}},{key:"revokeObjectURL",value:function(e){(window.URL||window.webkitURL).revokeObjectURL(e)}}]),t}();u.TYPE_BITMAPDATE="bitmapData",u._container={},u.get=function(e){return u._container[e]},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=u(n(5)),r=u(n(3)),i=n(17),l=u(n(29));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LURLLoader",e.loadtype="",e.content=null,e.event={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"load",value:function(e,n){var o=this,a=void 0,u=void 0;if(n||("txt"===(u=(0,i.getExtension)(e))?n=t.TYPE_TEXT:"js"===u&&(n=t.TYPE_JS)),o.loadtype=n,n===t.TYPE_TEXT)l.default.progress=function(e){var t=new r.default(r.default.PROGRESS);t.currentTarget=o,t.target=e.currentTarget,t.loaded=e.loaded,t.total=e.total,t.responseURL=e.responseURL,o.dispatchEvent(t)},l.default.get(e,{},function(e){a=new r.default(r.default.COMPLETE),o.data=e,a.currentTarget=o,a.target=e,o.dispatchEvent(a),delete o.content,delete o.data},function(e){var t=new r.default(r.default.ERROR);t.currentTarget=o,t.target=e,t.responseURL=e.responseURL,o.dispatchEvent(t)});else if(n===t.TYPE_JS){var s=document.createElement("script");s.onerror=function(t){var n=new r.default(r.default.ERROR);n.currentTarget=o,n.target=t.target,n.responseURL=e,o.dispatchEvent(n)},s.onload=function(){(a=new r.default(r.default.COMPLETE)).currentTarget=o,a.target=o,o.dispatchEvent(a),delete o.content},s.src=e,s.type="text/javascript",document.querySelector("head").appendChild(s)}}}]),t}();s.TYPE_TEXT="text",s.TYPE_JS="js",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(17),r=s(n(37)),i=s(n(72)),l=s(n(36)),u=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.llname="ll.file.",e.llload="ll.load.",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.LEventDispatcher),o(t,[{key:"load",value:function(e,t,n){var o=this;if(!e||0===e.length){var a=new u.default.LEvent(u.default.LEvent.COMPLETE);return a.currentTarget=o,a.target={},void o.dispatchEvent(a)}o.list=e,o.onupdate=t,o.oncomplete=n,o.loader=o,o.index=0,o.loadIndex=0,o.result=[],o.lresult=[],o.loadInit()}},{key:"loadInit",value:function(){var e=this;e.index>=e.list.length||(e.loadIndex=0,e.loadStart(),e.reloadtime=setTimeout(e.loadInit.bind(e),1e4))}},{key:"loadStart",value:function(){var e=this,t=void 0,n=void 0;e.loadIndex>=e.list.length||(void 0===(t=e.list[e.loadIndex]).progress&&(t.progress=0),t.name||(t.name=e.llname+e.loadIndex),e.lresult[e.llload+t.name]||(t.type||("txt"===(n=(0,a.getExtension)(t.path))?t.type=r.default.TYPE_TEXT:"js"===n?t.type=r.default.TYPE_JS:new Array("mp3","ogg","wav","m4a").indexOf(n)>=0&&(t.type=u.default.LSound.TYPE_SOUND)),t.type===r.default.TYPE_TEXT||t.type===r.default.TYPE_JS?(e.loader=new r.default,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(u.default.LEvent.PROGRESS,e._loadProgress),e.loader.addEventListener(u.default.LEvent.ERROR,e._loadError),e.loader.addEventListener(u.default.LEvent.COMPLETE,e._loadComplete),e.loader.load(e.url(t.path),t.type)):t.type===u.default.LSound.TYPE_SOUND?(e.loader=new u.default.LSound,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(u.default.LEvent.PROGRESS,e._loadProgress),e.loader.addEventListener(u.default.LEvent.ERROR,e._loadError),e.loader.addEventListener(u.default.LEvent.COMPLETE,e._loadComplete),u.default.LSound.webAudioEnabled||u.default.LGlobal.wx?e.loader.load(t.path):(u.default.LSound.addWait(e.loader,t.path),e.loader.dispatchEvent(u.default.LEvent.COMPLETE))):t.type===u.default.LAtlas.TYPE_PLIST?(e.loader=new u.default.LAtlas,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(u.default.LEvent.PROGRESS,e._loadProgress),e.loader.addEventListener(u.default.LEvent.ERROR,e._loadError),e.loader.addEventListener(u.default.LEvent.COMPLETE,e._loadComplete),e.loader.load(t.path,t.name)):t.type===i.default.TYPE_FONT?(e.loader=new i.default,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(u.default.LEvent.ERROR,e._loadError),e.loader.addEventListener(u.default.LEvent.COMPLETE,e._loadComplete),e.loader.load(t.path,t.name)):(e.loader=new l.default,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(u.default.LEvent.PROGRESS,e._loadProgress),e.loader.addEventListener(u.default.LEvent.ERROR,e._loadError),e.loader.addEventListener(u.default.LEvent.COMPLETE,e._loadComplete),e.loader.load(e.url(t.path),l.default.TYPE_BITMAPDATE,t.useXHR)),e.loader._loadIndex=e.loadIndex),e.loadIndex++,e.loadStart())}},{key:"_loadProgress",value:function(e){var t=e.currentTarget,n=t.parent;n.list[t._loadIndex].progress=e.loaded/e.total;for(var o=0,a=0,r=n.list.length;a<r;a++)o+=n.list[a].progress;var i=new u.default.LEvent(u.default.LEvent.PROGRESS);i.currentTarget=n,i.target=e.currentTarget,i.loaded=o,i.total=n.list.length,i.responseURL=e.responseURL,n.dispatchEvent(i)}},{key:"_loadError",value:function(e){var t=e.currentTarget,n=t.parent;delete t.parent,t.removeEventListener(u.default.LEvent.ERROR,n._loadError);var o=new u.default.LEvent(u.default.LEvent.ERROR);o.currentTarget=n,o.target=e.target,o.responseURL=e.responseURL,n.dispatchEvent(o)}},{key:"_loadComplete",value:function(e){var t=e.currentTarget.parent;if(t){if(e&&e.currentTarget.name){if(e.currentTarget.removeEventListener(u.default.LEvent.COMPLETE,t._loadComplete),e.currentTarget.name.indexOf(t.llname)>=0&&(e.target=1),t.lresult[t.llload+e.currentTarget.name])return;t.result[e.currentTarget.name]=e.target,t.lresult[t.llload+e.currentTarget.name]=1}if(t.index++,e.loaded=e.total=1,t._loadProgress(e),delete e.currentTarget.parent,t.index>=t.list.length){t.reloadtime&&clearTimeout(t.reloadtime);var n=new u.default.LEvent(u.default.LEvent.COMPLETE);n.currentTarget=t,n.target=t.result,t.dispatchEvent(n),u.default.LGlobal.forceRefresh=!0}}}},{key:"url",value:function(e){return u.default.LGlobal.traceDebug?e+(e.indexOf("?")>=0?"&":"?")+"t="+(new Date).getTime():e}}]),t}();f.load=function(e,t,n,o){var a=new f;t&&a.addEventListener(u.default.LEvent.PROGRESS,function(e){t((100*e.loaded/e.total).toFixed(2))}),n&&a.addEventListener(u.default.LEvent.COMPLETE,function(e){n(e.target)}),o&&a.addEventListener(u.default.LEvent.ERROR,o),a.load(e)},t.default=f},function(e,t,n){"use strict";function o(){throw"LStageAlign cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.TOP="T",o.BOTTOM="B",o.LEFT="L",o.RIGHT="Re",o.TOP_LEFT="TL",o.TOP_RIGHT="TR",o.TOP_MIDDLE="TM",o.BOTTOM_LEFT="BL",o.BOTTOM_RIGHT="BR",o.BOTTOM_MIDDLE="BM",o.MIDDLE="M",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t||0,this.y=n||0}return o(e,[{key:"length",value:function(){var e=this;return Math.sqrt(e.x*e.x+e.y*e.y)}},{key:"normalize",value:function(){var t=this,n=t.length();return new e(t.x/n,t.y/n)}},{key:"normR",value:function(){return new e(-this.y,this.x)}},{key:"normL",value:function(){return new e(this.y,-this.x)}}]),e}();a.dot=function(e,t){return e.x*t.x+e.y*t.y},a.cross=function(e,t){return e.x*t.y-e.y*t.x},a.distance=function(e,t){var n=e.x-t.x,o=e.y-t.y;return Math.sqrt(n*n+o*o)},a.getMinMax=function(e,t){for(var n=a.dot(e[0],t),o=a.dot(e[0],t),r=0,i=0,l=1;l<e.length;l++){var u=a.dot(e[l],t);n>u&&(n=u,r=l),o<u&&(o=u,i=l)}return{min_o:n,min_i:r,max_o:o,max_i:i}},t.default=a},function(e,t,n){"use strict";function o(){throw"LFocusEvent cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.FOCUS_IN="focusIn",o.FOCUS_OUT="focusOut",t.default=o},function(e,t,n){"use strict";function o(){throw"LKeyboardEvent cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.KEY_DOWN="keydown",o.KEY_UP="keyup",o.KEY_PRESS="keypress",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0},r=s(n(1)),i=s(n(24)),l=s(n(6)),u=s(n(31));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"onLoad",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this,e),this.dispatcher.username="",this.dispatcher.avatar="stone",this.dispatcher.cards=[{name:"",icon:"dog"},{name:"",icon:"dragon"},{name:"",icon:"dragon"},{name:"",icon:"dragon"}]}},{key:"onLoadEnd",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoadEnd",this).call(this),this.footerButtons=this.childList.filter(function(e){return e instanceof u.default}),this.changePanel(null,"Home")}},{key:"changePanel",value:function(e,t){var n=this.footerButtons.findIndex(function(e){return e.focus});n>=0&&this.footerButtons[n].focusOff();var o=this.footerButtons.findIndex(function(e){return e.name===t});this.footerButtons[o].focusOn();var a=0;this.footerButtons.forEach(function(e){e.x=a,a+=e.focus?190:150}),l.default.loadPanel("prefabs/panel/"+t,{},o>n?"right":"left")}},{key:"gotoBattleScene",value:function(e,t){console.error("gotoBattleScene",e,t),l.default.loadScene("prefabs/scene/Battle")}}]),t}();r.default.set("TopSceneController",f),t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0},r=f(n(1)),i=f(n(24)),l=f(n(6)),u=n(11),s=f(u);function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"onLoad",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this,e)}},{key:"onLoadEnd",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoadEnd",this).call(this),s.default.addEventListener(u.GameEvent.ROOM_IN,this._roomIn,this),l.default.loadPanel("prefabs/panel/Marching")}},{key:"die",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"die",this).call(this),s.default.removeEventListener(u.GameEvent.ROOM_IN,this._roomIn)}},{key:"_roomIn",value:function(){s.default.removeEventListener(u.GameEvent.ROOM_IN,this._roomIn),l.default.loadPanel("prefabs/panel/Battle")}},{key:"gotoTopScene",value:function(e,t){l.default.loadScene("prefabs/scene/Top")}}]),t}();r.default.set("BattleSceneController",c),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=i(n(1)),r=i(n(12));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"onLoad",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this),this.dispatcher.title="Team"}}]),t}();a.default.set("TeamPanelController",l),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=i(n(1)),r=i(n(12));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"onLoad",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this),this.dispatcher.title="Shop"}}]),t}();a.default.set("ShopPanelController",l),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0},r=f(n(1)),i=f(n(12)),l=f(n(6)),u=f(n(11)),s=f(n(3));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"onLoad",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this,e)}},{key:"onLoadEnd",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoadEnd",this).call(this),this.addEventListener(s.default.ENTER_FRAME,this._spinnerRun,this),setTimeout(function(){e.startSearch()},100),console.log("MarchingPanelController onLoadEnd")}},{key:"die",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"die",this).call(this),this.removeEventListener(s.default.ENTER_FRAME,this._spinnerRun)}},{key:"startSearch",value:function(){var e=1e8*Math.random()>>>0,t="id."+e,n="name."+e;u.default.ai=!1,u.default.start(t,n,{})}},{key:"_spinnerRun",value:function(e){this.spinner.rotate+=5}},{key:"gotoTopScene",value:function(e,t){l.default.loadScene("prefabs/Scene/Top")}}]),t}();r.default.set("MarchingPanelController",c),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0},r=d(n(8)),i=d(n(21)),l=d(n(4)),u=d(n(10)),s=n(2),f=d(n(0)),c=d(n(25));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,n,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),u=r;return u.type="LButton",u.addChild(e),n?u.addChild(n):n=e,o?u.addChild(o):o=n,a?u.addChild(a):a=e,u.upState=u.bitmap_up=e,u.overState=u.bitmap_over=n,u.downState=o,u.disableState=a,u._ll_down_sx=u.downState.scaleX,u._ll_down_sy=u.downState.scaleY,u.overState.visible=!1,u.downState.visible=!1,u.upState.visible=!0,u.buttonMode=!0,u.staticMode=!1,u.setState(t.STATE_ENABLE),i.default.container[l.default.MOUSE_MOVE]&&i.default.pushButton(u),u.addEventListener(l.default.MOUSE_DOWN,u.ll_modeDown),u.setCursorEnabled(!0),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"setState",value:function(e){var n=this;if(e===t.STATE_DISABLE)n.upState.visible=!1,n.overState.visible=!1,n.downState.visible=!1,n.disableState.visible=!0,n.mouseEnabled=!1;else{if(e!==t.STATE_ENABLE)return;n.overState.visible=!1,n.downState.visible=!1,n.disableState.visible=!1,n.upState.visible=!0,n.mouseEnabled=!0}n.state=e}},{key:"ll_mouseout",value:function(e,t,n,o,a){var r=this;r.ll_mousein&&(e.clickTarget=r,r.ll_modeOut(e),r.ll_mousein=!1)}},{key:"mouseEvent",value:function(e,n,o){if(!e)return!1;u.default.os===s.OS_PC&&n===l.default.MOUSE_MOVE&&this.ll_button_mode&&this.ll_button_mode(e),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mouseEvent",this).call(this,e,n,o)}},{key:"ll_button_mode",value:function(e){var t=this;t.visible&&(e.clickTarget=t,t.hitTestPoint(e.offsetX,e.offsetY)?t.ll_modeOver(e):t.ll_modeOut(e))}},{key:"ll_modeDown",value:function(e){var n,o=e.clickTarget,a=void 0,r=void 0,i=void 0,l=void 0,u=void 0,s=void 0,d=void 0,h=void 0;if(o.buttonMode&&!o.tween){if(o.state===t.STATE_DISABLE)return o.upState.visible=!1,o.overState.visible=!1,o.downState.visible=!1,void(o.disableState.visible=!0);o.upState.visible=!1,o.overState.visible=!1,o.downState.visible=!0,o._tweenOver=o.ll_modeOver,n=function(e){var t=e.target.parent;t&&t.tween&&(delete t.tween,t._tweenOver({clickTarget:t}),delete t._tweenOver)},o.staticMode?o.tween=f.default.LTweenLiteTimeline.to(o.downState,.3,{}).to(o.downState,.1,{onComplete:n}):(i=1.1*(a=o.downState.getWidth()),l=1.1*(r=o.downState.getHeight()),d=(u=o.downState.x)+.5*(a-i),h=(s=o.downState.y)+.5*(r-l),o.tween=f.default.LTweenLiteTimeline.to(o.downState,.3,{x:d,y:h,scaleX:1.1*o._ll_down_sx,scaleY:1.1*o._ll_down_sy,ease:c.default.Quart.easeOut}).to(o.downState,.1,{x:u,y:s,scaleX:o._ll_down_sx,scaleY:o._ll_down_sy,ease:c.default.Quart.easeOut,onComplete:n}))}}},{key:"ll_modeOver",value:function(e){var n=e.clickTarget;if(n.buttonMode)if(n.tween)n._tweenOver=n.ll_modeOver;else{if(n.state===t.STATE_DISABLE)return n.upState.visible=!1,n.overState.visible=!1,n.downState.visible=!1,void(n.disableState.visible=!0);n.upState.visible=!1,n.downState.visible=!1,n.overState.visible=!0}}},{key:"ll_modeOut",value:function(e){var n=e.clickTarget;if(n.buttonMode)if(n.tween)n._tweenOver=n.ll_modeOut;else{if(n.state===t.STATE_DISABLE)return n.upState.visible=!1,n.overState.visible=!1,n.downState.visible=!1,void(n.disableState.visible=!0);n.overState.visible=!1,n.downState.visible=!1,n.upState.visible=!0}}},{key:"setCursorEnabled",value:function(e){this.useCursor=e?"pointer":null}},{key:"clone",value:function(){var e=this;return new t(e.upState.clone(),e.overState.clone(),e.downState.clone(),e.disableState.clone())}},{key:"die",value:function(){i.default.container[l.default.MOUSE_MOVE]&&i.default.removeButton(this),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"die",this).call(this)}}]),t}();h.STATE_DISABLE="disable",h.STATE_ENABLE="enable",t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=l(n(1)),r=l(n(12)),i=l(n(6));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"onLoad",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this),this.dispatcher.title="Home"}},{key:"showRankingDialog",value:function(){i.default.showDialog("prefabs/dialog/RankingDialog")}},{key:"gotoBattle",value:function(){i.default.loadScene("prefabs/scene/Battle")}}]),t}();a.default.set("HomePanelController",u),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=i(n(1)),r=i(n(12));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"onLoad",value:function(){(function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this),this.dispatcher.title="Event"}}]),t}();a.default.set("EventPanelController",l),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0},r=p(n(14)),i=p(n(1)),l=p(n(6)),u=p(n(15)),s=p(n(4)),f=p(n(9)),c=p(n(3)),d=p(n(22)),h=p(n(11));function p(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"init",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),this.dragChild=null}},{key:"die",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"die",this).call(this)}},{key:"updateView",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateView",this).call(this);var n=this.getByPath(this.bind.key);if(null!==n){var o=this.bind.childPrefab;return l.default.loadPrefab(o).then(function(t){var o=!0,a=!1,r=void 0;try{for(var i,l=n[Symbol.iterator]();!(o=(i=l.next()).done);o=!0){var u=i.value;e.createListObject(t,u)}}catch(e){a=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}e.addEventListener(s.default.MOUSE_DOWN,e._clickCard,e)})}}},{key:"createListObject",value:function(e,t){var n=u.default.create(e);n.x=60*this.numChildren,n.updateWidget(t),this.addChild(n)}},{key:"_clickCard",value:function(e){var t=e.target;h.default.sendIcon(t.model.icon)}},{key:"_touchCard",value:function(e){var t=e.target;t.startDrag(e.touchPointID),this.dragChild=t,this.savePoint=new f.default(t.x,t.y)}},{key:"_touchEnd",value:function(e){if(this.dragChild){this.dragChild.stopDrag();var t=new c.default("card:dragEnd");t.card=this.dragChild,t.x=e.offsetX,t.y=e.offsetY,d.default.dispatchEvent(t)}}},{key:"_cardBack",value:function(e){this.dragChild.x=this.savePoint.x,this.dragChild.y=this.savePoint.y,this.dragChild=null}},{key:"_cardChange",value:function(e){var t=this.getChildAt(4);this.setChildIndex(this.dragChild,7),this.dragChild.visible=!1,t.visible=!0,t.x=this.savePoint.x,t.y=this.savePoint.y,this.dragChild=null}}]),t}();i.default.set("BattleIconListView",v),t.default=v},function(e,t,n){"use strict";function o(){throw"LTextEvent cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.TEXT_INPUT="textInput",o.WIND_COMPLETE="windComplete",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(7),i=(o=r)&&o.__esModule?o:{default:o};var l=function(e){function t(e,n,o,a,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),u=l;return u.font=e||"Arial",u.size=n||15,u.color=o||"#000000",u.bold=a||!1,u.italic=r||!1,u.underline=i||!1,l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"clone",value:function(){var e=new this.constructor;return e.copyProperty(this),e}},{key:"getFontText",value:function(){var e=this;return(e.italic?"italic ":"")+(e.bold?"bold ":"")+e.size+"px "+e.font}},{key:"setCss",value:function(e){var t=this,n=void 0;for(n in e)switch(n){case"color":t.color=e[n];break;case"font-family":t.font=e[n];break;case"font-size":t.size=e[n];break;case"font-style":t.italic="italic"===e[n];break;case"font-weight":t.bold="bold"===e[n];break;case"text-decoration":t.color="underline"===e[n]}}}]),t}();t.default=l},function(e,t,n){"use strict";function o(){throw"LTextFieldType cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.INPUT="input",o.DYNAMIC=null,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=_(n(30)),i=_(n(26)),l=_(n(54)),u=_(n(53)),s=_(n(8)),f=_(n(21)),c=_(n(4)),d=_(n(3)),h=_(n(42)),p=_(n(41)),v=_(n(52)),y=n(2),b=_(n(0));function _(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.type="LTextField",n.texttype=null,n.text="",n.htmlText="",n.styleSheet="",n.font="Arial",n.size=15,n.color="#000000",n.weight="normal",n.textAlign="left",n.textBaseline="top",n.heightMode=t.HEIGHT_MODE_BOTTOM,n.stroke=!1,n.lineWidth=1,n.lineColor="#000000",n.width=150,n.height=n.size,n.displayAsPassword=!1,n.wordWrap=!1,n.multiline=!1,n.numLines=1,n.speed=0,n._speedIndex=100,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"_showReady",value:function(e){var t=this;e.font=t.weight+" "+t.size+"px "+t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.fillStyle=t.color,t.stroke&&(e.strokeStyle=t.lineColor,e.lineWidth=t.lineWidth+1)}},{key:"ll_getStyleSheet",value:function(e,t,n,o){var a=this,r=e.clone();if("font"===t)for(var i=0;n&&!(i++>4);){var l=/(([^\s]*?)(\s*)=(\s*)("|')(.*?)\5)*/g.exec(n);if(!l||!l[0])break;switch(l[2]){case"face":r.font=l[6];break;case"color":r.color=l[6];break;case"size":r.size=l[6]}n=n.replace(l[0],"").replace(/(^\s*)|(\s*$)|(\n)/g,"")}else if("b"===t)r.bold=!0;else if("u"===t)r.underline=!0;else if("i"===t)r.italic=!0;else if("p"===t&&a.wordWrap)o="\n"+o+"\n";else if(a.styleSheet){var u=void 0;if("span"===t){var s=/(([^\s]*?)(\s*)=(\s*)("|')(.*?)\5)*/g.exec(n);if(s&&s[0])switch(s[2]){case"class":u=a.styleSheet.getStyle("."+s[6])}}else a.styleSheet.getStyle(t)&&(u=a.styleSheet.getStyle(t));u&&r.setCss(u)}a.ll_getHtmlText(r,o)}},{key:"ll_getHtmlText",value:function(e,t){if(t){var n,o,a=this,r=void 0,i=void 0,l=/<(.*?)(\s*)(.*?)>(.*?)<\/\1>/g.exec(t);if(l&&l[0]){l.index>0&&a.ll_htmlTexts.push({textFormat:e.clone(),text:t.substring(0,l.index)}),n=l[1],i=r=l.index;do{i=t.indexOf("</"+n,i+1),r=t.indexOf("<"+n,r+1)}while(r>0&&r<i);o=t.substring(t.indexOf(">",l.index)+1,i),a.ll_getStyleSheet(e,n,l[3],o),a.ll_getHtmlText(e,t.substring(i+n.length+3))}else a.ll_htmlTexts.push({textFormat:e.clone(),text:t})}}},{key:"_ll_show",value:function(e){var n=this,o=void 0,a=void 0,r=void 0,i=void 0,s=void 0,f=void 0,c=void 0,d=void 0,h=void 0,p=void 0,v=void 0;if(b.default.LGlobal.enableWebGL?(n._createCanvas(),n._canvas.width=b.default.LGlobal.width,n._canvas.height=b.default.LGlobal.height,n._showReady(n._context),o=n._context):o=e,n.texttype===l.default.INPUT){if(n.inputBackLayer.ll_show(o),i=n.getRootCoordinate(),b.default.LGlobal.wx||b.default.LGlobal.inputBox.name!=="input"+n.objectIndex||(b.default.LGlobal.inputBox.style.marginTop=parseInt(b.default.LGlobal.canvasObj.style.marginTop)+((i.y+n.inputBackLayer.startY())*parseInt(b.default.LGlobal.canvasObj.style.height)/b.default.LGlobal.canvasObj.height>>>0)+"px",b.default.LGlobal.inputBox.style.marginLeft=parseInt(b.default.LGlobal.canvasObj.style.marginLeft)+((i.x+n.inputBackLayer.startX())*parseInt(b.default.LGlobal.canvasObj.style.width)/b.default.LGlobal.canvasObj.width>>>0)+"px"),b.default.LGlobal.inputTextField&&b.default.LGlobal.inputTextField.objectIndex===n.objectIndex)return;0===n.inputBackLayer.graphics.setList.length&&o.rect(0,0,n.inputBackLayer.getWidth(),n.inputBackLayer.getHeight()),o.clip()}if(b.default.LGlobal.fpsStatus&&b.default.LGlobal.fpsStatus.text++,n.htmlText)return(n.ll_htmlText!==n.htmlText||n.styleSheet&&(n.ll_style_objectIndex!==n.styleSheet.objectIndex||n.ll_styleIndex===n.styleSheet.styleIndex))&&(p=new u.default,n.ll_htmlTexts=[],n.ll_htmlText=n.htmlText,n.styleSheet&&(n.ll_style_objectIndex=n.styleSheet.objectIndex,n.ll_styleIndex=n.styleSheet.styleIndex),n.ll_getHtmlText(p,n.htmlText)),s=0,c=0,d=0,n._ll_height=n.wordHeight||30,t.underlineY||(t.underlineY={alphabetic:0,top:1,bottom:-.2,middle:.4,hanging:.8}),n.ll_htmlTexts.forEach(function(e){var a=e.textFormat,i=e.text;for(o.font=a.getFontText(),o.fillStyle=a.color,r=0,f=i.length;r<f;r++)/(?:\r\n|\r|\n|n)/.exec(i.substr(r,1))?(s=0,c=r+1,d++):(h=1.2*o.measureText("O").width,n.stroke&&o.strokeText(i.substr(r,1),s,d*n._ll_height),o.fillText(i.substr(r,1),s,d*n._ll_height),a.underline&&(o.beginPath(),v=d*n._ll_height+h*t.underlineY[n.textBaseline],o.moveTo(s,v),o.lineTo(s+o.measureText(i.substr(r,1)).width,v),o.stroke())),s+=o.measureText(i.substr(r,1)).width,n.wordWrap&&s+o.measureText(i.substr(r+1,1)).width>n.width&&(s=0,c=r+1,d++);n.height=(d+1)*n._ll_height}),void(b.default.LGlobal.enableWebGL&&e.drawImage(n._canvas,0,0));if(a=n.text,n.displayAsPassword)for(a="",r=0,f=n.text.length;r<f;r++)a+="*";if(n.wordWrap||n.multiline){for(s=0,c=0,d=0,r=0,f=n.text.length;r<f;r++)/(?:\r\n|\r|\n|n)/.exec(a.substr(r,1))?(s=0,c=r+1,d++):(n.stroke&&o.strokeText(a.substr(r,1),s,d*n.wordHeight),o.fillText(a.substr(r,1),s,d*n.wordHeight)),n.numLines=d,s=o.measureText(n.text.substr(c,r+1-c)).width,n.wordWrap&&s+o.measureText(a.substr(r,1)).width>n.width&&(s=0,c=r+1,d++);n.height=(d+1)*n.wordHeight}else n.numLines=1,n.stroke&&o.strokeText(a,0,0,o.measureText(a).width),o.fillText(a,0,0,o.measureText(a).width);b.default.LGlobal.enableWebGL&&e.drawImage(n._canvas,0,0),n.windRunning&&n._ll_windRun()}},{key:"_wordHeight",value:function(e){var t=this;e>0?t.wordHeight=e:(t.wordWrap=!1,t.wordHeight=t.getHeight()),t.height=0}},{key:"setMultiline",value:function(e,t){e&&this._wordHeight(t),this.multiline=e}},{key:"setWordWrap",value:function(e,t){e&&this._wordHeight(t),this.wordWrap=e}},{key:"setType",value:function(e,t){var n=this;n.texttype!==e&&e===l.default.INPUT?(t&&t instanceof s.default?n.inputBackLayer=t:(n.inputBackLayer=new s.default,n.inputBackLayer.graphics.drawRect(1,"#000000",[0,.4*-n.getHeight(),n.width,1.5*n.getHeight()])),n.inputBackLayer.parent=n,f.default.container[c.default.MOUSE_DOWN]&&f.default.pushInputBox(n)):(n.inputBackLayer=null,f.default.removeInputBox(n)),n.texttype=e}},{key:"ismouseon",value:function(e,t){var n=this;return!!e&&(!!n.visible&&(t||(t={x:0,y:0,scaleX:1,scaleY:1}),!(n.mask&&(n.mask.parent||(n.mask.parent=n.parent),!n.mask.ismouseon(e,t)))&&(n.inputBackLayer?n.inputBackLayer.ismouseon(e,{x:n.x*t.scaleX+t.x,y:n.y*t.scaleY+t.y,scaleX:t.scaleX*n.scaleX,scaleY:t.scaleY*n.scaleY}):n.ismouseonShapes([{type:i.default.RECT,arg:[0,0,n._getWidth(),n._getHeight()]}],e.offsetX,e.offsetY))))}},{key:"clone",value:function(){var e=this,t=new e.constructor;return t.copyProperty(e),t.texttype=null,e.texttype===l.default.INPUT&&t.setType(l.default.INPUT),t}},{key:"mouseEvent",value:function(e,t,n){var o=this;o.inputBackLayer&&t===c.default.MOUSE_DOWN&&o.ismouseon(e,n)&&o.focus()}},{key:"_wx_ll_getValue",value:function(e){b.default.LGlobal.inputTextField.text=e,console.error("_wx_ll_getValue=",e),wx.offKeyboardInput(b.default.LGlobal.inputTextField._ll_input),wx.offKeyboardComplete(this._ll_getValue),b.default.LGlobal.inputTextField.dispatchEvent(p.default.FOCUS_OUT),b.default.LGlobal.inputTextField=null}},{key:"_ll_getValue",value:function(e){b.default.LGlobal.inputTextField&&(b.default.LGlobal.wx?b.default.LGlobal.inputTextField._wx_ll_getValue(e.value):(b.default.LGlobal.inputTextField.text=b.default.LGlobal.inputTextBox.value,d.default.removeEventListener(b.default.LGlobal.inputTextBox,h.default.KEY_DOWN,b.default.LGlobal.inputTextField._ll_input),b.default.LGlobal.inputBox.style.display=y.NONE,o(b.default.LGlobal.inputTextField.preventDefault)!==y.UNDEFINED&&(b.default.LGlobal.preventDefault=b.default.LGlobal.inputTextField.preventDefault),b.default.LGlobal.inputTextField.dispatchEvent(p.default.FOCUS_OUT),b.default.LGlobal.inputTextField=null))}},{key:"_wxUpdateInput",value:function(){var e=this;wx.hideKeyboard({complete:function(){e.focus()}})}},{key:"updateInput",value:function(){if(b.default.LGlobal.wx)this._wxUpdateInput();else{this.texttype===l.default.INPUT&&b.default.LGlobal.inputTextField.objectIndex===this.objectIndex&&(b.default.LGlobal.inputTextBox.value=b.default.LGlobal.inputTextField.text)}}},{key:"_wx_ll_input",value:function(e){if(b.default.LGlobal.inputTextField.hasEventListener(v.default.TEXT_INPUT)){var t=new d.default(v.default.TEXT_INPUT);t.keyCode=e,b.default.LGlobal.inputTextField.dispatchEvent(t)}}},{key:"_ll_input",value:function(e){if(b.default.LGlobal.wx)b.default.LGlobal.inputTextField._wx_ll_input(e);else if(b.default.LGlobal.inputTextField.text=b.default.LGlobal.inputTextBox.value,b.default.LGlobal.inputTextField.hasEventListener(v.default.TEXT_INPUT)){var t=new d.default(v.default.TEXT_INPUT);t.keyCode=e.keyCode,e.returnValue=b.default.LGlobal.inputTextField.dispatchEvent(t)}else e.returnValue=!0}},{key:"_wxFocus",value:function(){b.default.LGlobal.inputTextField=this,wx.showKeyboard({defaultValue:this.text,maxLength:20,multiple:!1,confirmHold:!1,confirmType:"done"}),wx.onKeyboardInput(this._ll_input),wx.onKeyboardComplete(this._ll_getValue)}},{key:"focus",value:function(){var e,t,n,o=this,a=void 0;o.parent&&o.texttype===l.default.INPUT&&(b.default.LGlobal.inputTextField&&b.default.LGlobal.inputTextField.objectIndex!==o.objectIndex&&o._ll_getValue(),o.dispatchEvent(p.default.FOCUS_IN),b.default.LGlobal.wx?this._wxFocus():(e=o.getAbsoluteScale(),b.default.LGlobal.inputBox.style.display="",b.default.LGlobal.inputBox.name="input"+o.objectIndex,b.default.LGlobal.inputTextField=o,b.default.LGlobal.inputTextareaBoxObj.style.display=y.NONE,b.default.LGlobal.inputTextBoxObj.style.display=y.NONE,b.default.LGlobal.passwordBoxObj.style.display=y.NONE,o.displayAsPassword?b.default.LGlobal.inputTextBox=b.default.LGlobal.passwordBoxObj:o.multiline?b.default.LGlobal.inputTextBox=b.default.LGlobal.inputTextareaBoxObj:b.default.LGlobal.inputTextBox=b.default.LGlobal.inputTextBoxObj,t=parseInt(b.default.LGlobal.canvasObj.style.width)/b.default.LGlobal.canvasObj.width,n=parseInt(b.default.LGlobal.canvasObj.style.height)/b.default.LGlobal.canvasObj.height,b.default.LGlobal.inputTextBox.style.display="",b.default.LGlobal.inputTextBox.value=o.text,b.default.LGlobal.inputTextBox.style.height=o.inputBackLayer.getHeight()*e.scaleY*o.scaleY*n+"px",b.default.LGlobal.inputTextBox.style.width=o.inputBackLayer.getWidth()*e.scaleX*o.scaleX*t+"px",b.default.LGlobal.inputTextBox.style.color=o.color,b.default.LGlobal.inputTextBox.style.fontSize=(o.size*parseFloat(b.default.LGlobal.canvasObj.style.height)/b.default.LGlobal.canvasObj.height>>0)+"px",b.default.LGlobal.inputTextBox.style.fontFamily=o.font,d.default.addEventListener(b.default.LGlobal.inputTextBox,h.default.KEY_DOWN,b.default.LGlobal.inputTextField._ll_input),o.texttype===l.default.INPUT&&(a=o.getRootCoordinate(),b.default.LGlobal.inputBox.name==="input"+o.objectIndex&&(b.default.LGlobal.inputBox.style.marginTop=parseInt(b.default.LGlobal.canvasObj.style.marginTop)+((a.y+o.inputBackLayer.startY())*parseInt(b.default.LGlobal.canvasObj.style.height)/b.default.LGlobal.canvasObj.height>>>0)+"px",b.default.LGlobal.inputBox.style.marginLeft=parseInt(b.default.LGlobal.canvasObj.style.marginLeft)+((a.x+o.inputBackLayer.startX())*parseInt(b.default.LGlobal.canvasObj.style.width)/b.default.LGlobal.canvasObj.width>>>0)+"px")),setTimeout(function(){b.default.LGlobal.ios&&(o.preventDefault=b.default.LGlobal.preventDefault,b.default.LGlobal.preventDefault=!1),b.default.LGlobal.inputTextBox.focus()},0)))}},{key:"_getWidth",value:function(){var e=this;if(e.wordWrap)return e.width;b.default.LGlobal.enableWebGL&&this._createCanvas();var t=b.default.LGlobal.enableWebGL?e._context:b.default.LGlobal.canvas;return t.font=e.size+"px "+e.font,t.measureText(e.text).width}},{key:"getWidth",value:function(e){var t,n=this,o=void 0,a=void 0;return t=n._getWidth()*n.scaleX,e&&n.mask?(o=n.mask._startX?n.mask._startX():n.mask.startX())>t?0:o+(a=n.mask.getWidth())>t?t-o:a:t}},{key:"_startX",value:function(e){var t=this;if("left"===t.textAlign)return t.x;var n=t.getWidth(e);return t.x+("right"===t.textAlign?-n:.5*-n)}},{key:"_getHeight",value:function(){var e=this;b.default.LGlobal.enableWebGL&&this._createCanvas();var n=b.default.LGlobal.enableWebGL?e._context:b.default.LGlobal.canvas,o=void 0,a=void 0,r=void 0,i=void 0,l=void 0;if(e.wordWrap){if(n.font=e.weight+" "+e.size+"px "+e.font,0===e.height){for(r=0,i=0,l=0,o=0,a=e.text.length;o<a;o++)/(?:\r\n|\r|\n|n)/.exec(e.text.substr(o,1))&&(r=0,i=o+1,l++),r=n.measureText(e.text.substr(i,o+1-i)).width,e.wordWrap&&r+n.measureText(e.text.substr(o+1,1)).width>e.width&&(r=0,i=o+1,l++);e.height=(l+1)*e.wordHeight}return e.height}return n.font=e.weight+" "+e.size+"px "+e.font,a=1.2*n.measureText("O").width,e.heightMode===t.HEIGHT_MODE_BASELINE&&(a*=1.2),a}},{key:"getHeight",value:function(e){var t,n=this,o=void 0,a=void 0;return t=n._getHeight()*n.scaleY,e&&n.mask?(o=n.mask._startY?n.mask._startY():n.mask.startY())>t?0:o+(a=n.mask.getHeight())>t?t-o:a:t}},{key:"wind",value:function(e){var t=this;t.wind_over_function=e,t.windRunning=!0,t._ll_wind_text=t.text,t.text="",t._ll_wind_length=0}},{key:"_ll_windRun",value:function(){var e=this;if(!(e._speedIndex++<e.speed)){if(e._speedIndex=0,e._ll_wind_length>e._ll_wind_text.length)return e.windRunning=!1,e.wind_over_function&&e.wind_over_function(),void e.dispatchEvent(new d.default(v.default.WIND_COMPLETE));e.text=e._ll_wind_text.substring(0,e._ll_wind_length),e._ll_wind_length++}}},{key:"windComplete",value:function(){var e=this;e._speedIndex=e.speed,e.text=e._ll_wind_text,e._ll_wind_length=e._ll_wind_text.length+1,e._ll_windRun()}},{key:"die",value:function(){f.default.removeInputBox(this)}}]),t}();g.HEIGHT_MODE_BOTTOM="bottom",g.HEIGHT_MODE_BASELINE="baseline",t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0},r=u(n(14)),i=u(n(55)),l=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"init",value:function(e){if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),this._label=new i.default,this.addChild(this._label),this.textField)for(var n in this.textField)this._label[n]=this.textField[n];this.bind.default&&(this._label.text=this.bind.default)}},{key:"updateView",value:function(){if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateView",this).call(this),this.bind.key){var e=this.getByPath(this.bind.key);null!==e&&(this._label.text=e)}}},{key:"text",get:function(){return this._label.text},set:function(e){this._label.text=e}}]),t}();l.default.set("BindTextView",s),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0},r=d(n(1)),i=d(n(18)),l=d(n(3)),u=d(n(40)),s=d(n(22)),f=d(n(11)),c=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"init",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),this._enemyEvent=null,this.vec=new u.default(0,0),this.addEventListener(l.default.ENTER_FRAME,this._onframe,this),s.default.addEventListener("ball:sendout",this._ballSendOut,this),f.default.addEventListener("ball:sendout",this._ballSendOutToEnemy,this)}},{key:"die",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"die",this).call(this),this.removeEventListener(l.default.ENTER_FRAME,this._onframe),s.default.removeEventListener("ball:sendout",this._ballSendOut),f.default.removeEventListener("ball:sendout",this._ballSendOutToEnemy)}},{key:"_move",value:function(){var e=this.getController();this.sumLength=this.sumLength||e.me.y-e.enemy.y;var t=this.sumLength*(f.default.now-this.startTime)/(this.arrivalTime-this.startTime);if(this.startTop=this.startTop||e.enemy.y+e.enemy.getHeight(),this.startBottom=this.startBottom||e.me.y-this.size,this.vec.y>0)for(;this.y<this.startTop+t;)this.x+=this.vec.x,this.y+=this.vec.y;else for(;this.y>this.startBottom-t;)this.x+=this.vec.x,this.y+=this.vec.y}},{key:"_onframe",value:function(e){if(0!==this.alpha){var t=this.getController(),n=t.deskLayer;if(this._move(),this.x+this.radius<n.x?(this.vec.x*=-1,this.x=n.x+n.x-(this.x+this.radius)-this.radius):this.x+this.radius>n.x+576&&(this.vec.x*=-1,this.x=n.x+576-(this.x+this.radius-n.x-576)-this.radius),!t.me.checkHitBall())return this.y>n.y+n.getHeight()?(this.alpha=0,console.log("you fail"),void f.default.boutOver()):void(this._enemyEvent&&(this.y>t.enemy.y+t.enemy.getHeight()||(s.default.dispatchEvent(this._enemyEvent),this._enemyEvent=null)))}}},{key:"_ballSendOutToEnemy",value:function(e){var t=this.getController();this.launcher=t.enemy;var n=t.deskLayer,o=new l.default("ball:sendout");o.enemy=!0,o.params=e.params,t.timeTxt.text=f.default.diffMillisecond,o.params.arrivalTime-=500,o.params.x=n.x+n.getWidth()-o.params.x-this.size,o.params.y=n.y+(n.y+n.getHeight()-o.params.y-this.size),o.params.speedX=-1*o.params.speedX,o.params.speedY=-1*o.params.speedY,0===this.alpha?s.default.dispatchEvent(o):this._enemyEvent=o}},{key:"_ballSendOut",value:function(e){var t=this.getController();t.boutLayer.visible=!1,t.canShoot=!1;var n=e.params;e.enemy&&t.tween&&(c.default.remove(t.tween),t.enemy.x=n.paddleX),this.alpha=1,this.x=n.x,this.y=n.y;var o=Math.abs(1/n.speedY);this.vec.x=n.speedX*o,this.vec.y=1*(n.speedY>0?1:-1),this.startTime=f.default.now,this.arrivalTime=n.arrivalTime}},{key:"size",get:function(){return this._size=this._size||this.getWidth(),this._size}},{key:"radius",get:function(){return this._radius=this._radius||.5*this.size,this._radius}}]),t}();r.default.set("BallView",h),t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0},r=f(n(1)),i=f(n(18)),l=f(n(3)),u=f(n(22)),s=f(n(11));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"init",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e)}},{key:"die",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"die",this).call(this)}},{key:"checkHitBall",value:function(){return 0!==this.ball.alpha&&this.ball.launcher.objectIndex!==this.objectIndex&&(!(this.ball.y+this.ball.size<this.y)&&(!!this.hitTestObject(this.ball)&&(!(this.ball.y+this.ball.size>this.y+.5*this.getHeight())&&void this.shoot(this.ball.x,this.ball.y))))}},{key:"shoot",value:function(e,t,n){this.ball.launcher=this;var o=new l.default("ball:sendout"),a={};a.x=e,a.y=t;var r=2e3;if(n){var i=Math.random(),f=45+90*i,c=f*Math.PI/180,d=(f-90)*Math.PI/180;this.ball.vec.x=Math.sin(c)*(i>.5?-1:1),this.ball.vec.y=-1*Math.abs(Math.cos(d))}else this.ball.vec.x=this.ball.x+this.ball.radius-this.x-.5*this.getWidth(),this.ball.vec.y=this.ball.y+this.ball.radius-this.y-.5*this.getHeight(),r+=1600*Math.abs(this.ball.vec.x/this.ball.vec.y);var h=this.ball.vec.normalize();a.speedX=h.x,a.speedY=h.y,a.paddleX=this.x,a.arrivalTime=s.default.now+r,o.params=a,this.ball.arrivalTime=a.arrivalTime,u.default.dispatchEvent(o),s.default.shoot(o)}},{key:"ball",get:function(){return this._ball=this._ball||this.getController().ball,this._ball}}]),t}();r.default.set("PaddleView",c),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0},r=s(n(1)),i=s(n(18)),l=s(n(4)),u=s(n(16));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"init",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e)}},{key:"die",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"die",this).call(this)}},{key:"_touchMe",value:function(e){var t=this.getController();this.paddle=t.me,this.paddle.dragRange=new u.default(32,752,528,0),this.paddle.startDrag(e.touchPointID),this.addEventListener(l.default.MOUSE_UP,this._touchEnd,this)}},{key:"_touchEnd",value:function(e){this.removeEventListener(l.default.MOUSE_UP,this._touchEnd),this.paddle.stopDrag(),this.paddle=null;var t=this.getController();0===t.ball.alpha&&t.me.shoot(t.me.x+12,t.me.y-24,!0)}},{key:"updateView",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateView",this).call(this)}}]),t}();r.default.set("BattlefieldView",f),t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.client=t,this._photonPlayer=new window.PhotonPlayer(t)}return o(e,[{key:"gameStart",value:function(){}},{key:"onEvent",value:function(e,t,n){}},{key:"actor",get:function(){return this._photonPlayer}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(60),i=(o=r)&&o.__esModule?o:{default:o};var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.masterClient=t,this._init()}return a(e,[{key:"_init",value:function(){this.aiPlayer=new i.default(this),this._myRoomActorsArray=[],this._myRoomActorsArray.push(this.myActor()),this._myRoomActorsArray.push(this.aiPlayer.actor)}},{key:"onEvent",value:function(e,t,n){this.masterClient.onEvent(e,t,n),this.aiPlayer.onEvent(e,t,n)}},{key:"start",value:function(e,t,n){this.myActor().setInfo(e,t,n),this.connectToRegionMaster("EU")}},{key:"connectToRegionMaster",value:function(e){this.masterClient.gameStart(),this.aiPlayer.gameStart()}},{key:"myRoomActorsArray",value:function(){return this._myRoomActorsArray}},{key:"raiseEventAll",value:function(){}},{key:"setUserId",value:function(e){console.error("AIClient setUserId="+e)}},{key:"updatePlayerOnlineList",value:function(){console.error("updatePlayerOnlineList")}},{key:"myActor",value:function(){return this._myActor=this._myActor||new window.PhotonPlayer(this),this._myActor}},{key:"enemy",get:function(){return this.client.myRoomActorsArray()[1]}},{key:"player",get:function(){return this.client.myRoomActorsArray()[0]}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0},r=b(n(1)),i=b(n(12)),l=b(n(10)),u=b(n(4)),s=b(n(16)),f=n(11),c=b(f),d=b(n(19)),h=b(n(35)),p=b(n(13)),v=b(n(33)),y=b(n(23));function b(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"onLoad",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoad",this).call(this,e),this.dispatcher.icons=[{id:1,name:"1",icon:"001"},{id:2,name:"2",icon:"002"},{id:3,name:"3",icon:"003"},{id:4,name:"4",icon:"004"},{id:5,name:"5",icon:"005"}],console.log("BattlePanelController onLoad")}},{key:"onLoadEnd",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onLoadEnd",this).call(this),this._resizeBattleLayer(),this.canShoot=!1,c.default.addEventListener("enemy:move",this._enemyMove,this),this.addEventListener(u.default.MOUSE_DOWN,this._touchMe,this),c.default.addEventListener(f.GameEvent.BOUT_WIN,this._boutWin,this),c.default.addEventListener(f.GameEvent.BOUT_FAIL,this._boutFail,this),c.default.addEventListener(f.GameEvent.SEND_ICON,this._sendIcon,this),this.timer=new v.default(100,0),this.timer.addEventListener(y.default.TIMER,this._timerHandler,this),this.timer.start(),c.default.isLeader&&setTimeout(function(){c.default.dispatchEvent(f.GameEvent.BOUT_FAIL)},100)}},{key:"die",value:function(){c.default.removeEventListener("enemy:move",this._enemyMove),c.default.removeEventListener(f.GameEvent.BOUT_WIN,this._boutWin),c.default.removeEventListener(f.GameEvent.BOUT_FAIL,this._boutFail),c.default.removeEventListener(f.GameEvent.SEND_ICON,this._sendIcon),this.removeEventListener(u.default.MOUSE_DOWN,this._touchMe),this.timer.removeEventListener(y.default.TIMER,this._timerHandler)}},{key:"_resizeBattleLayer",value:function(){l.default.width/l.default.height>this.battleLayer.getWidth()/this.battleLayer.getHeight()?this.battleLayer.scaleX=this.battleLayer.scaleY=l.default.height/this.battleLayer.getHeight():this.battleLayer.scaleX=this.battleLayer.scaleY=l.default.width/this.battleLayer.getWidth(),this.battleLayer.x=.5*(l.default.width-this.battleLayer.getWidth()),this.battleLayer.y=.5*(l.default.height-this.battleLayer.getHeight())}},{key:"_boutWin",value:function(e){this.ball.alpha=0,this.boutLayer.visible=!0,this.boutTxt.text="",this.canShoot=!1}},{key:"_boutFail",value:function(e){this.ball.alpha=0,this.boutLayer.visible=!0,this.boutTxt.text="",this.canShoot=!0}},{key:"_sendIcon",value:function(e){var t=d.default.get("atlas/Icon").getSprite(e.icon,h.default.SIMPLE,100,100);t.x=this.deskLayer.x+100,e.id===c.default.playerId?t.y=this.deskLayer.y+this.deskLayer.getHeight()-150:t.y=this.deskLayer.y+100,this.battleLayer.addChild(t),p.default.to(t,.3,{delay:.5,alpha:0,onComplete:function(e){e.target.remove()}})}},{key:"_timerHandler",value:function(e){c.default.enemyMove(this.me.x)}},{key:"_enemyMove",value:function(e){var t=this;this.tween&&p.default.remove(this.tween),this.tween=p.default.to(this.enemy,.1,{x:this.deskLayer.x+this.deskLayer.getWidth()-this.enemy.getWidth()-e.x,onComplete:function(e){t.tween=null}})}},{key:"_touchMe",value:function(e){this.paddle||(this.canShoot&&(this.startShoot=!0),this.paddle=this.me,this.paddle.dragRange=new s.default(32,752,528,0),this.paddle.startDrag(e.touchPointID),this.addEventListener(u.default.MOUSE_UP,this._touchEnd,this))}},{key:"_touchEnd",value:function(e){this.paddle&&(this.removeEventListener(u.default.MOUSE_UP,this._touchEnd),this.paddle.stopDrag(),this.paddle=null,this.canShoot&&this.startShoot&&this.me.shoot(this.me.x+12,this.me.y-24,!0),this.startShoot=!1)}}]),t}();r.default.set("BattlePanelController",_),t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=l(n(15)),i=l(n(6));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"init",value:function(e){var n=this;(function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),setTimeout(function(){n.widget&&i.default.currentScene&&i.default.currentScene.nextFrameExecute(function(){n.widgetInit()})})}},{key:"lateInit",value:function(){if(this.bind&&this.bind.target&&this.bind.toParent){var e=this.getTarget(this.bind.target);e&&(e[this.bind.toParent]=this)}}},{key:"getController",value:function(){if(this._controller)return this._controller;for(var e=this.parent;e;){if(e.isController)return this._controller=e,e;if("object"!==(void 0===(e=e.parent)?"undefined":o(e)))break}return null}},{key:"getTarget",value:function(e){for(var t=this.parent;t;){if(e){if(t._ll_className===e)return t}else if(t.isController)return t;if("object"!==(void 0===(t=t.parent)?"undefined":o(t)))break}return null}},{key:"getValue",value:function(e){var t=this.bind.target,n=this.getTarget(t);return n?n.isController?n.dispatcher[e]:n.model?n.model[e]:null:null}},{key:"getByPath",value:function(e){if(e.indexOf(".")<0)return this.getValue(e)||null;var t=e.split("."),n=this.getValue(t[0]);if(!n)return null;for(var o=1;o<t.length;o++){if(null===(n=n[t[o]]))break}return n}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=i(n(14)),r=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"updateWidget",value:function(e){this.model=e;var t=!0,n=!1,o=void 0;try{for(var a,r=this.childList[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){a.value.updateView()}}catch(e){n=!0,o=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw o}}}}]),t}();r.default.set("BindListChildView",l),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=f(n(20)),i=f(n(10)),l=n(2),u=f(n(3)),s=f(n(0));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.length=0,e.loopIndex=0,e.loopLength=1,e.playing=!1,e.oncomplete=null,e.onsoundcomplete=null,e.currentStart=0,s.default.LSound.Container.add(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"onload",value:function(){var e=this;if(e.canplaythrough=e.canplaythrough||function(){e.onload()},e.error=e.error||function(t){var n=new u.default(u.default.ERROR);n.currentTarget=e,n.target=t.target,n.responseURL=t.target.src,e.dispatchEvent(n)},e._addEvent||(e.data.addEventListener("error",e.error,!1),e.data.addEventListener("canplaythrough",e.canplaythrough,!1)),e._addEvent=!0,e.data.readyState){e.data.removeEventListener("error",e.error),e.data.removeEventListener("canplaythrough",e.canplaythrough),e.length=e.data.duration-(i.default.android?.1:0);var t=new u.default(u.default.COMPLETE);return t.currentTarget=e,t.target=e.data,void e.dispatchEvent(t)}}},{key:"_onended",value:function(){var e=this,t=void 0;e.dispatchEvent(u.default.SOUND_COMPLETE),++e.loopIndex<e.loopLength?(t=e.loopIndex,e.close(),e.play(e.currentStart,e.loopLength,e.currentTimeTo),e.loopIndex=t):e.close()}},{key:"load",value:function(e){var t=this;if("[object HTMLAudioElement]"===Object.prototype.toString.apply(e)||"object"===(void 0===e?"undefined":o(e))&&"AUDIO"===e.tagName)return t.data=e,void t.onload();var n=void 0,a=void 0,r=void 0,l=void 0,s={mov:["quicktime"],"3gp":["3gpp"],midi:["midi"],mid:["midi"],ogv:["ogg"],m4a:["acc"],mp3:["mpeg"],wav:["wav","x-wav","wave"],wave:["wav","x-wav","wave"],aac:["mp4","aac"]};for(n=e.split(","),r=0;r<n.length;r++){if((l=s[l=(a=n[r].split("."))[a.length-1]]?s[l]:[l]).some(function(e,n,o){return t.data.canPlayType(t._type+"/"+e)}))return void(i.default.wx?(t.onload(),t.data.src=n[r]):(t.data.src=n[r],t.onload(),t.data.load()));console.warn("Not support "+a[a.length-1]+" : "+n[r]);var f=new u.default(u.default.COMPLETE);f.currentTarget=f.target=t,t.dispatchEvent(f)}t.oncomplete&&t.oncomplete({})}},{key:"getCurrentTime",value:function(){return this.data.currentTime}},{key:"setVolume",value:function(e){this.data.volume=e}},{key:"getVolume",value:function(){return this.data.volume}},{key:"play",value:function(e,t,n){var a=this;0!==a.length&&(i.default.android&&!i.default.wx&&s.default.LSound.Container.stopOther(this),(void 0===e?"undefined":o(e))!==l.UNDEFINED&&(a.data.currentTime=e,a.currentStart=e),(void 0===t?"undefined":o(t))!==l.UNDEFINED&&(a.loopLength=t),(void 0===n?"undefined":o(n))!==l.UNDEFINED?a.currentTimeTo=n>a.length?a.length:n:a.currentTimeTo=a.length,a.timeout&&(clearTimeout(a.timeout),delete a.timeout),a.timeout=setTimeout(function(){a._onended()},1e3*(a.currentTimeTo-a.data.currentTime)),a.data.loop=!1,a.loopIndex=0,a.playing=!0,a.data.play())}},{key:"playSegment",value:function(e,t,n){this.playTo(e,e+t,n)}},{key:"playTo",value:function(e,t,n){this.play(e,n,t)}},{key:"stop",value:function(){var e=this;e.playing&&(e.timeout&&(clearTimeout(e.timeout),delete e.timeout),e.playing=!1,e.data.pause())}},{key:"close",value:function(){var e=this;e.playing&&(e.timeout&&(clearTimeout(e.timeout),delete e.timeout),e.playing=!1,e.data.pause(),e.data.currentTime=0,e.currentSave=0)}},{key:"ll_check",value:function(){var e=this;e.playing&&!i.default.wx&&(e.data.duration!==e._ll_duration&&(e._ll_duration=e.data.duration,e.length=e.data.duration-(i.default.android?.1:0)),e.currentTimeTo<e.data.currentTime+.005*s.default.LSound.Container.time&&e._onended())}},{key:"die",value:function(){s.default.LSound.Container.remove(this)}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=f(n(5)),i=f(n(0)),l=f(n(3)),u=n(2),s=f(n(29));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.currentTime=0,n.currentStart=0,n.currentSave=0,n.length=0,n.loopStart=0,n.loopEnd=0,n.loopIndex=0,n.loopLength=1,n.playing=!1,n.volume=1,i.default.LSound.Container.add(n),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"getWebAudio",value:function(){var e=void 0;if(t.containerCount>0)e=t.container.shift();else if(("undefined"==typeof AudioContext?"undefined":o(AudioContext))!==u.UNDEFINED)try{e=new AudioContext}catch(n){t.containerCount=t.container.length,e=t.container.shift()}else{if(("undefined"==typeof webkitAudioContext?"undefined":o(webkitAudioContext))===u.UNDEFINED)throw"AudioContext not supported. :(";try{e=new webkitAudioContext}catch(n){t.containerCount=t.container.length,e=t.container.shift()}}return e.createGainNode||(e.createGainNode=e.createGain),t.container.push(e),e}},{key:"onload",value:function(e){var t=this;if("[object AudioBuffer]"===Object.prototype.toString.apply(e)){t.data||(t.data=t.getWebAudio()),t.buffer=e,t.length=t.buffer.duration;var n=new l.default(l.default.COMPLETE);n.currentTarget=t,n.target=t.buffer,t.dispatchEvent(n)}else t.load(e)}},{key:"_onended",value:function(){var e=this;e.dispatchEvent(l.default.SOUND_COMPLETE),e.close(),++e.loopIndex<e.loopLength&&e.play(e.currentStart,void 0,e.currentTimeTo)}},{key:"load",value:function(e){var n=this;if("string"==typeof e){var o=void 0,a=void 0,r=void 0,i=void 0,u={mov:["quicktime"],"3gp":["3gpp"],midi:["midi"],mid:["midi"],ogv:["ogg"],m4a:["acc"],mp3:["mpeg"],wav:["wav","x-wav","wave"],wave:["wav","x-wav","wave"],aac:["mp4","aac"]};for(o=e.split(","),r=0;r<o.length;r++){if((i=u[i=(a=o[r].split("."))[a.length-1]]?u[i]:[i]).some(function(e,o,a){return t.audioTag.canPlayType(n._type+"/"+e)}))return s.default.responseType=s.default.ARRAY_BUFFER,s.default.progress=function(e){var t=new l.default(l.default.PROGRESS);t.currentTarget=n,t.target=e.currentTarget,t.loaded=.5*e.loaded,t.total=e.total,t.responseURL=e.responseURL,n.dispatchEvent(t)},void s.default.get(o[r],{},n.onload.bind(n),function(e){var t=new l.default(l.default.ERROR);t.currentTarget=n,t.target=e,t.responseURL=e.responseURL,n.dispatchEvent(t)});console.warn("Not support "+a[a.length-1]+" : "+o[r]);var f=new l.default(l.default.COMPLETE);f.currentTarget=f.target=n,n.dispatchEvent(f)}}else"[object AudioBuffer]"===Object.prototype.toString.apply(e)?n.onload(e):"[object ArrayBuffer]"===Object.prototype.toString.apply(e)&&(n.data||(n.data=n.getWebAudio()),n.data.decodeAudioData(e,n.onload.bind(n),function(e){throw"AudioContext decodeAudioData error : "+e.toString()}))}},{key:"getCurrentTime",value:function(){var e=this;return e.playing?e.data.currentTime-e.currentSave+e.currentTime:e.currentSave}},{key:"setVolume",value:function(e){var t=this;t.volume=e,t.playing&&(t.volumeNode.gain.value=e)}},{key:"getVolume",value:function(){return this.volume}},{key:"play",value:function(e,t,n){var a=this;0!==a.length&&((void 0===t?"undefined":o(t))!==u.UNDEFINED&&(a.loopIndex=0,a.loopLength=t),(void 0===e?"undefined":o(e))!==u.UNDEFINED&&(a.currentTime=e,a.currentStart=e),(void 0===n?"undefined":o(n))!==u.UNDEFINED?a.currentTimeTo=n>a.length?a.length:n:a.currentTimeTo=a.length,a.data.loop=!1,a.playing=!0,a.timeout&&(clearTimeout(a.timeout),delete a.timeout),a.timeout=setTimeout(a._onended.bind(a),1e3*(a.currentTimeTo-a.currentTime)),a.bufferSource=a.data.createBufferSource(),a.bufferSource.buffer=a.buffer,a.volumeNode=a.data.createGainNode(),a.volumeNode.gain.setTargetAtTime=a.volumeNode.gain.setTargetAtTime||a.volumeNode.gain.setTargetValueAtTime||a._setTargetAtTime,a.volumeNode.gain.setValueAtTime(a.volume,a.currentTime,.5),a.volumeNode.connect(a.data.destination),a.bufferSource.connect(a.volumeNode),a.currentSave=a.data.currentTime,a.bufferSource.start?a.bufferSource.start(0,a.currentTime,a.length-a.currentTime):a.bufferSource.noteGrainOn(0,a.currentTime,a.length-a.currentTime))}},{key:"_setTargetAtTime",value:function(e,t,n){this.volumeNode.gain.value=e}},{key:"playSegment",value:function(e,t,n){this.playTo(e,e+t,n)}},{key:"playTo",value:function(e,t,n){this.play(e,n,t)}},{key:"stop",value:function(){var e=this;e.playing&&(e.timeout&&(clearTimeout(e.timeout),delete e.timeout),e.bufferSource.stop?e.bufferSource.stop(0):e.bufferSource.noteOff(0),e.currentSave=e.getCurrentTime(),e.currentTime=e.currentSave,e.playing=!1)}},{key:"close",value:function(){var e=this;e.playing&&(e.timeout&&(clearTimeout(e.timeout),delete e.timeout),e.bufferSource.stop?e.bufferSource.stop(0):e.bufferSource.noteOff(0),e.playing=!1,e.currentTime=0,e.currentSave=0)}},{key:"ll_check",value:function(){var e=this;e.playing&&e.currentTimeTo<e.data.currentTime-e.currentSave+.001*i.default.LSound.Container.time&&e._onended()}},{key:"die",value:function(){i.default.LSound.Container.remove(this)}}]),t}();c.container=[],c.containerCount=0;try{c.audioTag=new Audio}catch(e){console.warn("ReferenceError: Can't find variable: Audio"),c.audioTag={canPlayType:function(){return!1}}}t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=u(n(66)),r=u(n(65)),i=u(n(0)),l=n(2);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(e){s(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.type="LSound",n._type="audio";try{n.data=new Audio}catch(e){console.warn("ReferenceError: Can't find variable: Audio"),n.data={}}return n.data.loop=!1,n.data.autoplay=!1,e&&n.load(e),n}return c(t,r.default),t}(),h=function(e){function t(e){s(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.type="LSound",n._type="audio",e&&n.load(e),n}return c(t,a.default),t}();var p=void 0;(p=!i.default.LGlobal.wx&&function(){a.default._context=null;var e=location.protocol;if(!i.default.LGlobal.wx&&("http:"===e||"https:"===e)){if(("undefined"==typeof AudioContext?"undefined":o(AudioContext))!==l.UNDEFINED)try{a.default._context=new AudioContext}catch(e){}else if(("undefined"==typeof webkitAudioContext?"undefined":o(webkitAudioContext))!==l.UNDEFINED)try{a.default._context=new webkitAudioContext}catch(e){}if(a.default._context)return!0}return!1}()?h:d).TYPE_SOUND="sound",p.webAudioEnabled=!1,p._waitSounds=[],p.addWait=function(e,t){p._waitSounds.push({sound:e,path:t})},p.startLoad=function(e){0!==p._waitSounds.length&&(p._waitSounds.forEach(function(e){e.sound.load(e.path)}),p._waitSounds.length=0)},p.Container={ll_save:0,time:0,list:[],ll_show:function(){var e=p.Container,t=(new Date).getTime();e.time=t-(e.ll_save?e.ll_save:t),e.ll_save=t;for(var n=e.list,o=n.length-1;o>=0;o--)n[o]&&n[o].ll_check()},add:function(e){p.Container.list.indexOf(e)>=0||p.Container.list.push(e)},remove:function(e){for(var t=p.Container.list,n=t.length-1;n>=0;n--)if(t[n].objectIndex===e.objectIndex){t.splice(n,1);break}},stopOther:function(e){for(var t=p.Container.list,n=t.length-1;n>=0;n--)t[n].objectIndex!==e.objectIndex&&t[n].stop()}},setTimeout(function(){i.default.LGlobal.childList.push(p.Container),a.default._context&&(a.default.container.push(a.default._context),p.webAudioEnabled=!0)}),i.default.LSound=p,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(13),i=(o=r)&&o.__esModule?o:{default:o};var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.duration=.3}return a(e,[{key:"fadeAnimation",value:function(e,t){t.alpha=0,e&&i.default.to(e,this.duration,{alpha:0,onComplete:function(e){e.target.remove()}}),i.default.to(t,this.duration,{alpha:1})}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=l(n(68)),r=l(n(13)),i=l(n(10));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"changePanel",value:function(e,t,n){"fade"===n?this.fadeAnimation(e,t):"left"===n?this.leftAnimation(e,t):"right"===n&&this.rightAnimation(e,t)}},{key:"leftAnimation",value:function(e,t){t.x=-i.default.width,r.default.to(t,this.duration,{x:0,onUpdate:function(n){e.x=t.x+i.default.width},onComplete:function(n){e.x=t.x+i.default.width,e.remove()}})}},{key:"rightAnimation",value:function(e,t){t.x=i.default.width,r.default.to(t,this.duration,{x:0,onUpdate:function(n){e.x=t.x-i.default.width},onComplete:function(n){e.x=t.x-i.default.width,e.remove()}})}}]),t}();t.default=new u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=f(n(8)),i=f(n(26)),l=f(n(28)),u=f(n(27)),s=n(2);function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n,a,r,f,c,d,h){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var p=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),v=p;if(v.type="LPanel",(void 0===h?"undefined":o(h))===s.UNDEFINED&&(h=0),self.overlapping=h,"string"==typeof e){var y=new i.default;(void 0===n?"undefined":o(n))===s.UNDEFINED&&(n=20),(void 0===a?"undefined":o(a))===s.UNDEFINED&&(a=20),y.graphics.drawRoundRect(1,"#000000",[0,0,n,a,n<10?.5*n:5],!0,e),(e=new l.default(null,0,0,n,a,l.default.DATA_CANVAS)).draw(y)}v.x1=r||.4*e.width,v.x2=f||.6*e.width,v.y1=c||.4*e.height,v.y2=d||.6*e.height,v.bitmapData=e;var b=new l.default(e.image,e.x,e.y,v.x1,v.y1),_=new l.default(e.image,e.x+v.x1,e.y,v.x2-v.x1,v.y1),g=new l.default(e.image,e.x+v.x2,e.y,e.width-v.x2,v.y1),m=new l.default(e.image,e.x,e.y+v.y1,v.x1,v.y2-v.y1),w=new l.default(e.image,e.x+v.x1,e.y+v.y1,v.x2-v.x1,v.y2-v.y1),O=new l.default(e.image,e.x+v.x2,e.y+v.y1,e.width-v.x2,v.y2-v.y1),E=new l.default(e.image,e.x,e.y+v.y2,v.x1,e.height-v.y2),x=new l.default(e.image,e.x+v.x1,e.y+v.y2,v.x2-v.x1,e.height-v.y2),L=new l.default(e.image,e.x+v.x2,e.y+v.y2,e.width-v.x2,e.height-v.y2);return v.ltBitmap=new u.default(b),v.addChild(v.ltBitmap),v.mtBitmap=new u.default(_),v.mtBitmap.x=v.x1-h,v.addChild(v.mtBitmap),v.rtBitmap=new u.default(g),v.addChild(v.rtBitmap),v.lmBitmap=new u.default(m),v.lmBitmap.y=v.y1-h,v.addChild(v.lmBitmap),v.mmBitmap=new u.default(w),v.mmBitmap.x=v.x1-h,v.mmBitmap.y=v.y1-h,v.addChild(v.mmBitmap),v.rmBitmap=new u.default(O),v.rmBitmap.y=v.y1-h,v.addChild(v.rmBitmap),v.lbBitmap=new u.default(E),v.addChild(v.lbBitmap),v.mbBitmap=new u.default(x),v.mbBitmap.x=v.x1-h,v.addChild(v.mbBitmap),v.rbBitmap=new u.default(L),v.addChild(v.rbBitmap),v.resize(n,a),p}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"resize",value:function(e,t){var n=this;n._ll_w=e,n._ll_h=t,n.rtBitmap.x=n.rmBitmap.x=n.rbBitmap.x=e-(n.bitmapData.width-n.x2),n.lbBitmap.y=n.mbBitmap.y=n.rbBitmap.y=t-(n.bitmapData.height-n.y2),n.lmBitmap.scaleY=n.mmBitmap.scaleY=n.rmBitmap.scaleY=(t-n.y1-(n.bitmapData.height-n.y2)+2*self.overlapping)/(n.y2-n.y1),n.mtBitmap.scaleX=n.mmBitmap.scaleX=n.mbBitmap.scaleX=(e-n.x1-(n.bitmapData.width-n.x2)+2*self.overlapping)/(n.x2-n.x1)}},{key:"getSize",value:function(){return{width:this._ll_w,height:this._ll_h}}},{key:"clone",value:function(){var e=new t(this.bitmapData.clone(),this._ll_w,this._ll_h,this.x1,this.x2,this.y1,this.y2,this.overlapping);return e.copyProperty(this),e}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=s(n(8)),r=s(n(28)),i=s(n(27)),l=s(n(35)),u=s(n(70));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(r.atlasType=a,r._rotated=o.rotated,a!==l.default.SIMPLE&&n){if(a===l.default.SLICED){var i=r._getPanel(e,n,o);r.addChild(i)}}else{r.atlasType=l.default.SIMPLE;var u=r._getBitmap(e,o);r.addChild(u)}return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"resize",value:function(e,t){if(this.atlasType===l.default.SIMPLE){var n=this.getChildAt(0);n.scaleX=e/this._sourceSize[0],n.scaleY=t/this._sourceSize[1]}else if(this.atlasType===l.default.SLICED){var o=this.getChildAt(0).getChildAt(0);e-=this._minusWidth,t-=this._minusHeight,this._rotated?(o.resize(t,e),o.y=t):o.resize(e,t)}}},{key:"_getBitmapData",value:function(e,t){var n=t.frame[0][0],o=t.frame[0][1],a=t.frame[1][t.rotated?1:0],i=t.frame[1][t.rotated?0:1],l=new r.default(e,n,o,a,i);return this._sourceSize=t.sourceSize,l}},{key:"_getBitmap",value:function(e,t){var n=this._getBitmapData(e,t),o=new i.default(n),r=void 0,l=void 0;o.rotateCenter=!1,t.rotated?(r=n.getHeight(),l=n.getWidth(),o.y=l,o.rotate=-90):(r=n.getWidth(),l=n.getHeight()),o.x+=.5*(this._sourceSize[0]-r)+t.offset[0],o.y+=.5*(this._sourceSize[1]-l)-t.offset[1];var u=new a.default;return u.addChild(o),u}},{key:"_getPanel",value:function(e,t,n){var o=this._getBitmapData(e,n),r=void 0,i=void 0,l=o.getWidth(),s=o.getHeight(),f=n.rotated?t.bottom:t.left,c=l-(n.rotated?t.top:t.right),d=n.rotated?t.left:t.top,h=s-(n.rotated?t.right:t.bottom),p=new u.default(o,l,s,f,c,d,h);n.rotated?(r=s,i=l,p.y=i,p.rotate=-90):(r=l,i=s),this._minusWidth=this._sourceSize[0]-r,this._minusHeight=this._sourceSize[1]-i,p.x+=.5*this._minusWidth+n.offset[0],p.y+=.5*this._minusHeight-n.offset[1];var v=new a.default;return v.addChild(p),v}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=i(n(5)),r=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LFontLoader",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"load",value:function(e,t){var n=this,o=void 0,a=void 0,i=void 0,l=void 0,u=void 0,s=void 0,f="";(o=document.createElement("style")).onerror=function(t){var o=new r.default(r.default.ERROR);o.currentTarget=n,o.target=t.target,o.responseURL=e,n.dispatchEvent(o)},l=e.split(",");for(var c=0;c<l.length;c++)"ttf"===(s=(u=l[c].split("."))[u.length-1])?a=l[c]:"eot"===s&&(i=l[c]);f="@font-face { font-family:'"+t+"';",i&&(f+="src: url("+i+");"),a&&(f+="src: local('lufy'),url("+a+") format('opentype');"),o.innerHTML=f,document.querySelector("head").appendChild(o),setTimeout(function(){var e=new r.default(r.default.COMPLETE);e.currentTarget=n,e.target=n,n.dispatchEvent(e)},1)}}]),t}();l.TYPE_FONT="font",t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.responseType="text"}return o(e,[{key:"setRequestHeader",value:function(e,t){}},{key:"_onreadystatechange",value:function(e){if(this.onreadystatechange){var t={currentTarget:{readyState:4,status:200,responseType:this.responseType,_responseType:this._responseType,responseText:e.data,response:e.data}};this.onreadystatechange(t)}}},{key:"_onerror",value:function(e){this.onerror&&this.onerror(e)}},{key:"open",value:function(e,t,n,o,a){this.url=t}},{key:"send",value:function(e){var t=this,n={filePath:this.url,success:function(e){t._onreadystatechange(e)},fail:function(e){t._onerror(e)}};"text"===this.responseType&&(n.encoding="utf8"),wx.getFileSystemManager().readFile(n)}}]),e}();t.default=a},function(e,t,n){"use strict";function o(){throw"LStageScaleMode cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.EXACT_FIT="exactFit",o.SHOW_ALL="showAll",o.NO_BORDER="noBorder",o.NO_SCALE="noScale",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=u(n(7)),i=u(n(0)),l=n(2);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.type="LGraphics",n.color="#000000",n.alpha=1,n.bitmap=null,n.setList=new Array,n.showList=new Array,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"ll_show",value:function(e){var t=void 0,n=this.setList.length;if(0!==n)for(t=0;t<n;t++)this.setList[t](e),i.default.LGlobal.fpsStatus&&i.default.LGlobal.fpsStatus.graphics++}},{key:"clone",value:function(){var e=this,n=new t,o=void 0,a=void 0,r=void 0;for(n.color=e.color,n.alpha=e.alpha,n.bitmap=e.bitmap,o=0,a=e.setList.length;o<a;o++)r=e.setList[o],n.setList.push(r);for(o=0,a=e.showList.length;o<a;o++)r=e.showList[o],n.showList.push(r);return n}},{key:"lineCap",value:function(e){this.setList.push(function(t){t.lineCap=e})}},{key:"lineJoin",value:function(e){this.setList.push(function(t){t.lineJoin=e})}},{key:"lineWidth",value:function(e){this.setList.push(function(t){t.lineWidth=e})}},{key:"strokeStyle",value:function(e){this.setList.push(function(t){t.strokeStyle=e})}},{key:"stroke",value:function(){this.setList.push(function(e){e.stroke()})}},{key:"beginPath",value:function(){this.setList.push(function(e){e.beginPath()})}},{key:"closePath",value:function(){this.setList.push(function(e){e.closePath()})}},{key:"moveTo",value:function(e,t){this.setList.push(function(n){n.moveTo(e,t)}),this.showList.push({type:i.default.LShape.POINT,arg:[e,t]})}},{key:"lineTo",value:function(e,t){this.setList.push(function(n){n.lineTo(e,t)}),this.showList.push({type:i.default.LShape.POINT,arg:[e,t]})}},{key:"rect",value:function(e,t,n,o){this.setList.push(function(a){a.rect(e,t,n,o)}),this.showList.push({type:i.default.LShape.RECT,arg:[e,t,n,o]})}},{key:"fillStyle",value:function(e){this.setList.push(function(t){t.fillStyle=e})}},{key:"fill",value:function(){this.setList.push(function(e){e.fill()})}},{key:"arc",value:function(e,t,n,o,a,r){this.setList.push(function(i){i.arc(e,t,n,o,a,r)}),this.showList.push({type:i.default.LShape.ARC,arg:o})}},{key:"lineStyle",value:function(e,t){var n=this;t||(t=n.color),n.color=t,n.setList.push(function(n){n.lineWidth=e,n.strokeStyle=t})}},{key:"clear",value:function(){var e=this;e.bitmap=null,e.setList.length=0,e.showList.length=0}},{key:"beginBitmapFill",value:function(e){var t=this;t.setList.push(function(){t.bitmap=e})}},{key:"drawEllipse",value:function(e,t,n,o,a){var r=this;r.setList.push(function(i){var l,u,s,f,c,d,h,p,v,y,b;if(i.beginPath(),c=.5522848,l=n[0],u=n[1],d=(s=n[2])/2*c,h=(f=n[3])/2*c,p=l+s,v=u+f,y=l+s/2,b=u+f/2,i.moveTo(l,b),i.bezierCurveTo(l,b-h,y-d,u,y,u),i.bezierCurveTo(y+d,u,p,b-h,p,b),i.bezierCurveTo(p,b+h,y+d,v,y,v),i.bezierCurveTo(y-d,v,l,b+h,l,b),r.bitmap)return i.save(),i.clip(),i.drawImage(r.bitmap.image,r.bitmap.x,r.bitmap.y,r.bitmap.width,r.bitmap.height,0,0,r.bitmap.width,r.bitmap.height),i.restore(),void(r.bitmap=null);o&&(i.fillStyle=a,i.fill()),e>0&&(i.lineWidth=e,i.strokeStyle=t,i.stroke())}),r.showList.push({type:i.default.LShape.RECT,arg:n})}},{key:"drawArc",value:function(e,t,n,o,a){var r=this;r.setList.push(function(i){if(i.beginPath(),n.length>6&&n[6]&&i.moveTo(n[0],n[1]),i.arc(n[0],n[1],n[2],n[3],n[4],n[5]),n.length>6&&n[6]&&i.lineTo(n[0],n[1]),r.bitmap)return i.save(),i.clip(),i.drawImage(r.bitmap.image,r.bitmap.x,r.bitmap.y,r.bitmap.width,r.bitmap.height,0,0,r.bitmap.width,r.bitmap.height),i.restore(),void(r.bitmap=null);o&&(i.fillStyle=a,i.fill()),e>0&&(i.lineWidth=e,i.strokeStyle=t,i.stroke())}),r.showList.push({type:i.default.LShape.ARC,arg:n})}},{key:"drawRect",value:function(e,t,n,o,a){var r=this;r.setList.push(function(i){if(i.beginPath(),i.rect(n[0],n[1],n[2],n[3]),i.closePath(),r.bitmap)return i.save(),i.clip(),i.drawImage(r.bitmap.image,r.bitmap.x,r.bitmap.y,r.bitmap.width,r.bitmap.height,0,0,r.bitmap.width,r.bitmap.height),i.restore(),void(r.bitmap=null);o&&(i.fillStyle=a,i.fill()),e>0&&(i.lineWidth=e,i.strokeStyle=t,i.stroke())}),r.showList.push({type:i.default.LShape.RECT,arg:n})}},{key:"drawRoundRect",value:function(e,t,n,o,a){var r=this;i.default.LGlobal.enableWebGL?r.drawRect(e,t,n,o,a):(r.setList.push(function(i){if(i.beginPath(),i.moveTo(n[0]+n[4],n[1]),i.lineTo(n[0]+n[2]-n[4],n[1]),i.arcTo(n[0]+n[2],n[1],n[0]+n[2],n[1]+n[4],n[4]),i.lineTo(n[0]+n[2],n[1]+n[3]-n[4]),i.arcTo(n[0]+n[2],n[1]+n[3],n[0]+n[2]-n[4],n[1]+n[3],n[4]),i.lineTo(n[0]+n[4],n[1]+n[3]),i.arcTo(n[0],n[1]+n[3],n[0],n[1]+n[3]-n[4],n[4]),i.lineTo(n[0],n[1]+n[4]),i.arcTo(n[0],n[1],n[0]+n[4],n[1],n[4]),i.closePath(),r.bitmap)return i.save(),i.clip(),i.drawImage(r.bitmap.image,0,0,r.bitmap.width,r.bitmap.height,0,0,r.bitmap.width,r.bitmap.height),i.restore(),void(r.bitmap=null);o&&(i.fillStyle=a,i.fill()),e>0&&(i.lineWidth=e,i.strokeStyle=t,i.stroke())}),r.showList.push({type:i.default.LShape.RECT,arg:n}))}},{key:"drawVertices",value:function(e,t,n,o,a){var r=this;n.length<3||(r.setList.push(function(i){i.beginPath(),i.moveTo(n[0][0],n[0][1]);var l=void 0,u=n.length,s=void 0;for(l=1;l<u;l++)s=n[l],i.lineTo(s[0],s[1]);if(i.lineTo(n[0][0],n[0][1]),i.closePath(),r.bitmap)return i.save(),i.clip(),i.drawImage(r.bitmap.image,r.bitmap.x,r.bitmap.y,r.bitmap.width,r.bitmap.height,0,0,r.bitmap.width,r.bitmap.height),i.restore(),void(r.bitmap=null);o&&(i.fillStyle=a,i.fill()),e>0&&(i.lineWidth=e,i.strokeStyle=t,i.closePath(),i.stroke())}),r.showList.push({type:i.default.LShape.VERTICES,arg:n}))}},{key:"drawTriangles",value:function(e,t,n,o,a){var r=this,i=void 0,l=void 0,u=void 0,s=t.length;r.setList.push(function(f){var c=e,d=void 0,h=void 0;for(i=0,l=0;i<s;i+=3){if(f.save(),f.beginPath(),f.moveTo(c[2*t[i]],c[2*t[i]+1]),f.lineTo(c[2*t[i+1]],c[2*t[i+1]+1]),f.lineTo(c[2*t[i+2]],c[2*t[i+2]+1]),f.lineTo(c[2*t[i]],c[2*t[i]+1]),f.closePath(),o&&(f.lineWidth=o,f.strokeStyle=a,f.stroke()),f.clip(),i%6==0){h=-1;var p=(n[2*t[i+1+l]]-n[2*t[i+l]])*r.bitmap.width,v=(n[2*t[i+2]+1]-n[2*t[i]+1])*r.bitmap.height;if(0===l&&p<0){for(d=i+9;d<s;d+=3)if(n[2*t[i+2]+1]===n[2*t[d+2]+1]){l=d-i;break}0===l&&(l=s-i),p=(n[2*t[i+1+l]]-n[2*t[i+l]])*r.bitmap.width}i+l>=s?(p=(n[2*t[i+l-s]]-n[2*t[i+1]])*r.bitmap.width,(h=1===n[2*t[i]]?0:r.bitmap.width*n[2*t[i]]+p)>r.bitmap.width&&(h-=r.bitmap.width)):h=r.bitmap.width*n[2*t[i+l]],u=r.bitmap.height*n[2*t[i]+1],v<0&&(v=(n[2*t[i+2-(i>0?6:-6)]+1]-n[2*t[i-(i>0?6:-6)]+1])*r.bitmap.height,u=0);var y=(c[2*t[i+1]]-c[2*t[i]])/p,b=(c[2*t[i+1]+1]-c[2*t[i]+1])/p,_=(c[2*t[i+2]]-c[2*t[i]])/v,g=(c[2*t[i+2]+1]-c[2*t[i]+1])/v;f.transform(y,b,_,g,c[2*t[i]],c[2*t[i]+1]),f.drawImage(r.bitmap.image,r.bitmap.x+h,r.bitmap.y+u,p,v,0,0,p,v)}else{var m=(n[2*t[i+2+l]]-n[2*t[i+1+l]])*r.bitmap.width,w=(n[2*t[i+2]+1]-n[2*t[i]+1])*r.bitmap.height;if(0===l&&m<0){for(d=i+9;d<s;d+=3)if(n[2*t[i+2]+1]===n[2*t[d+2]+1]){l=d-i;break}0===l&&(l=s-i),m=(n[2*t[i+2+l]]-n[2*t[i+1+l]])*r.bitmap.width}i+1+l>=s?(m=(n[2*t[i+1+l-s]]-n[2*t[i+2]])*r.bitmap.width,(h=1===n[2*t[i+1]]?0:r.bitmap.width*n[2*t[i+1]]+m)>r.bitmap.width&&(h-=r.bitmap.width)):h=r.bitmap.width*n[2*t[i+1+l]],u=r.bitmap.height*n[2*t[i]+1],w<0&&(w=(n[2*t[i+2-(i>0?6:-6)]+1]-n[2*t[i-(i>0?6:-6)]+1])*r.bitmap.height,u=0);var O=(c[2*t[i+2]]-c[2*t[i+1]])/m,E=(c[2*t[i+2]+1]-c[2*t[i+1]+1])/m,x=(c[2*t[i+2]]-c[2*t[i]])/w,L=(c[2*t[i+2]+1]-c[2*t[i]+1])/w;f.transform(O,E,x,L,c[2*t[i+1]],c[2*t[i+1]+1]),f.drawImage(r.bitmap.image,r.bitmap.x+h,r.bitmap.y+u,m,w,0,-w,m,w)}f.restore()}})}},{key:"drawLine",value:function(e,t,n){this.setList.push(function(o){o.beginPath(),o.moveTo(n[0],n[1]),o.lineTo(n[2],n[3]),o.lineWidth=e,o.strokeStyle=t,o.closePath(),o.stroke()}),this.showList.push({type:i.default.LShape.LINE,arg:n})}},{key:"add",value:function(e){this.setList.push(e)}},{key:"ismouseon",value:function(e,t){var n=this;return!(!e||0===n.showList.length||!n.parent)&&n.parent.ismouseonShapes(n.showList,e.offsetX,e.offsetY)}},{key:"getWidth",value:function(){var e,t=this,n=void 0,a=void 0,r=void 0,u=void 0,s=void 0,f=void 0;for(n=0,e=t.showList.length;n<e;n++)if(t.showList[n].type===i.default.LShape.RECT)(r>t.showList[n].arg[0]||(void 0===r?"undefined":o(r))===l.UNDEFINED)&&(r=t.showList[n].arg[0]),(u<t.showList[n].arg[0]+t.showList[n].arg[2]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[0]+t.showList[n].arg[2]);else if(t.showList[n].type===i.default.LShape.ARC)(r>t.showList[n].arg[0]-t.showList[n].arg[2]||(void 0===r?"undefined":o(r))===l.UNDEFINED)&&(r=t.showList[n].arg[0]-t.showList[n].arg[2]),(u<t.showList[n].arg[0]+t.showList[n].arg[2]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[0]+t.showList[n].arg[2]);else if(t.showList[n].type===i.default.LShape.VERTICES)for(a=0,f=t.showList[n].arg.length;a<f;a++)(r>(s=t.showList[n].arg[a])[0]||(void 0===r?"undefined":o(r))===l.UNDEFINED)&&(r=s[0]),(u<s[0]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=s[0]);else t.showList[n].type===i.default.LShape.LINE?((r>t.showList[n].arg[0]||(void 0===r?"undefined":o(r))===l.UNDEFINED)&&(r=t.showList[n].arg[0]),(r>t.showList[n].arg[2]||(void 0===r?"undefined":o(r))===l.UNDEFINED)&&(r=t.showList[n].arg[2]),(u<t.showList[n].arg[0]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[0]),(u<t.showList[n].arg[2]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[2])):t.showList[n].type===i.default.LShape.POINT&&((r>t.showList[n].arg[0]||(void 0===r?"undefined":o(r))===l.UNDEFINED)&&(r=t.showList[n].arg[0]),(u<t.showList[n].arg[0]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[0]));return(void 0===r?"undefined":o(r))===l.UNDEFINED&&(r=u=0),t.left=r,e>0&&u===r&&(u=r+1),u-r}},{key:"getHeight",value:function(){var e,t=this,n=null,a=null,r=void 0,u=void 0,s=void 0,f=void 0;for(n=0,e=t.showList.length;n<e;n++)if(t.showList[n].type===i.default.LShape.RECT)(u>t.showList[n].arg[1]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[1]),(s<t.showList[n].arg[1]+t.showList[n].arg[3]||(void 0===s?"undefined":o(s))===l.UNDEFINED)&&(s=t.showList[n].arg[1]+t.showList[n].arg[3]);else if(t.showList[n].type===i.default.LShape.ARC)(u>t.showList[n].arg[1]-t.showList[n].arg[2]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[1]-t.showList[n].arg[2]),(s<t.showList[n].arg[1]+t.showList[n].arg[2]||(void 0===s?"undefined":o(s))===l.UNDEFINED)&&(s=t.showList[n].arg[1]+t.showList[n].arg[2]);else if(t.showList[n].type===i.default.LShape.VERTICES)for(a=0,r=t.showList[n].arg.length;a<r;a++)(u>(f=t.showList[n].arg[a])[1]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=f[1]),(s<f[1]||(void 0===s?"undefined":o(s))===l.UNDEFINED)&&(s=f[1]);else t.showList[n].type===i.default.LShape.LINE?((u>t.showList[n].arg[1]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[1]),(u>t.showList[n].arg[3]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[3]),(s<t.showList[n].arg[1]||(void 0===s?"undefined":o(s))===l.UNDEFINED)&&(s=t.showList[n].arg[1]),(s<t.showList[n].arg[3]||(void 0===s?"undefined":o(s))===l.UNDEFINED)&&(s=t.showList[n].arg[3])):t.showList[n].type===i.default.LShape.POINT&&((u>t.showList[n].arg[1]||(void 0===u?"undefined":o(u))===l.UNDEFINED)&&(u=t.showList[n].arg[1]),(s<t.showList[n].arg[1]||(void 0===s?"undefined":o(s))===l.UNDEFINED)&&(s=t.showList[n].arg[1]));return(void 0===u?"undefined":o(u))===l.UNDEFINED&&(u=s=0),t.top=u,e>0&&s===u&&(s=u+1),s-u}},{key:"startX",value:function(){return this.getWidth(),this.left}},{key:"startY",value:function(){return this.getHeight(),this.top}}]),t}();i.default.LGraphics=s,t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(7),l=(o=i)&&o.__esModule?o:{default:o},u=n(2);var s=function(e){function t(e,n,o,r,i,l,s,f,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return d.a=(void 0===e?"undefined":a(e))!==u.UNDEFINED?e:1,d.b=(void 0===n?"undefined":a(n))!==u.UNDEFINED?n:0,d.u=(void 0===s?"undefined":a(s))!==u.UNDEFINED?s:0,d.c=(void 0===o?"undefined":a(o))!==u.UNDEFINED?o:0,d.d=(void 0===r?"undefined":a(r))!==u.UNDEFINED?r:1,d.v=(void 0===f?"undefined":a(f))!==u.UNDEFINED?f:0,d.tx=(void 0===i?"undefined":a(i))!==u.UNDEFINED?i:0,d.ty=(void 0===l?"undefined":a(l))!==u.UNDEFINED?l:0,d.w=(void 0===c?"undefined":a(c))!==u.UNDEFINED?c:1,d}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),r(t,[{key:"setTo",value:function(e,t,n,o,r,i,l,s,f){var c=this;return(void 0===e?"undefined":a(e))!==u.UNDEFINED&&(c.a=e),(void 0===t?"undefined":a(t))!==u.UNDEFINED&&(c.b=t),(void 0===n?"undefined":a(n))!==u.UNDEFINED&&(c.c=n),(void 0===o?"undefined":a(o))!==u.UNDEFINED&&(c.d=o),(void 0===r?"undefined":a(r))!==u.UNDEFINED&&(c.tx=r),(void 0===i?"undefined":a(i))!==u.UNDEFINED&&(c.ty=i),(void 0===l?"undefined":a(l))!==u.UNDEFINED&&(c.u=l),(void 0===s?"undefined":a(s))!==u.UNDEFINED&&(c.v=s),(void 0===f?"undefined":a(f))!==u.UNDEFINED&&(c.w=f),c}},{key:"isIdentity",value:function(){var e=this;return 1===e.a&&0===e.b&&0===e.c&&1===e.d&&0===e.tx&&0===e.ty&&0===e.u&&0===e.v&&1===e.w}},{key:"transform",value:function(e){var t=this;return e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty),t}},{key:"identity",value:function(){this.setTo(1,0,0,1,0,0,0,0,1)}},{key:"rotate",value:function(e){var n=e*Math.PI/180,o=Math.cos(n),a=Math.sin(n),r=new t(o,a,-a,o,0,0,0,0,1);return this.add(r),this}},{key:"scale",value:function(e,n){var o=new t(e,0,0,n,0,0,0,0,1);return this.add(o),this}},{key:"translate",value:function(e,n){var o=new t(1,0,0,1,e,n,0,0,1);return this.add(o),this}},{key:"skew",value:function(e,n){var o=new t(1,n,e,1,0,0,0,0,1);return this.add(o),this}},{key:"add",value:function(e){var t,n,o,a,r,i,l,u,s,f=this;t=f.a*e.a+f.b*e.c+f.u*e.tx,n=f.a*e.b+f.b*e.d+f.u*e.ty,l=f.a*e.u+f.b*e.v+f.u*e.w,o=f.c*e.a+f.d*e.c+f.v*e.tx,a=f.c*e.b+f.d*e.d+f.v*e.ty,u=f.c*e.u+f.d*e.v+f.v*e.w,r=f.tx*e.a+f.ty*e.c+f.w*e.tx,i=f.tx*e.b+f.ty*e.d+f.w*e.ty,s=f.tx*e.u+f.ty*e.v+f.w*e.w,f.setTo(t,n,o,a,r,i,l,u,s)}},{key:"toArray",value:function(e){var t=this;if(Array.isArray(e)&&3===e.length)return[e[0]*t.a+e[1]*t.c+e[2]*t.tx,e[0]*t.b+e[1]*t.d+e[2]*t.ty,e[0]*t.u+e[1]*t.v+e[2]*t.w];var n=t.a*e.a+t.b*e.c+t.u*e.tx,o=t.a*e.b+t.b*e.d+t.u*e.ty,a=t.a*e.u+t.b*e.v+t.u*e.w,r=t.c*e.a+t.d*e.c+t.v*e.tx,i=t.c*e.b+t.d*e.d+t.v*e.ty,l=t.c*e.u+t.d*e.v+t.v*e.w;return[n,o,r,i,t.tx*e.a+t.ty*e.c+t.w*e.tx,t.tx*e.b+t.ty*e.d+t.w*e.ty,a,l,t.tx*e.u+t.ty*e.v+t.w*e.w]}},{key:"clone",value:function(){var e=this;return new t(e.a,e.b,e.c,e.d,e.tx,e.ty,e.u,e.v,e.w)}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(7),r=(o=a)&&o.__esModule?o:{default:o};var i=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.matrix=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=i(n(30)),r=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.childList=[],e.numChildren=0,e.mouseChildren=!0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"addChild",value:function(e){var t=this,n=void 0;return e.parent&&(n=r.default.LGlobal.destroy,r.default.LGlobal.destroy=!1,e.parent.removeChild(e),r.default.LGlobal.destroy=n),e.parent=t,t.childList.push(e),t.numChildren=t.childList.length,e._ll_removeFromSelf=!1,e}},{key:"addChildAt",value:function(e,t){var n=this,o=void 0;if(!(t<0||t>n.childList.length))return"function"==typeof e.remove&&(o=r.default.LGlobal.destroy,r.default.LGlobal.destroy=!1,e.remove(),r.default.LGlobal.destroy=o),e.parent=n,n.childList.splice(t,0,e),n.numChildren=n.childList.length,e._ll_removeFromSelf=!1,e}},{key:"removeChild",value:function(e){var n,o=this,a=o.childList,i=void 0;for(i=0,n=a.length;i<n;i++)if(e.objectIndex===a[i].objectIndex){t.destroy(e),o.childList.splice(i,1);break}o.numChildren=o.childList.length,delete e.parent,r.default.LTweenLite.removeTarget(e)}},{key:"getChildAt",value:function(e){var t=this.childList;return 0===t.length||t.length<=e?null:t[e]}},{key:"getChildByName",value:function(e){var t,n=this.childList,o=void 0;for(o=0,t=n.length;o<t;o++)if(n[o]&&n[o].name===e)return n[o];return null}},{key:"removeChildAt",value:function(e){var n=this,o=n.childList,a=void 0;if(!(o.length<=e||e<0))return a=o[e],t.destroy(a),n.childList.splice(e,1),delete a.parent,r.default.LTweenLite.removeTarget(a),n.numChildren=n.childList.length,a}},{key:"getChildIndex",value:function(e){if(!e)return-1;var t=this.childList,n=void 0,o=t.length;for(n=0;n<o;n++)if(t[n].objectIndex===e.objectIndex)return n;return-1}},{key:"setChildIndex",value:function(e,t){var n=this,o=n.childList,a=void 0,r=o.length;if("root"===e.parent||e.parent.objectIndex!==n.objectIndex||t<0||t>=r)return-1;for(a=0;a<r&&o[a].objectIndex!==e.objectIndex;a++);return n.childList.splice(a,1),n.childList.splice(t,0,e),t}},{key:"resize",value:function(){var e=this;e.width=e.getWidth(),e.height=e.getHeight()}},{key:"removeAllChild",value:function(){var e,n=this,o=n.childList,a=void 0;for(a=0,e=o.length;a<e;a++){var i=o[a];t.destroy(i),delete i.parent,r.default.LTweenLite.removeTarget(i)}n.childList.length=0,n.width=0,n.height=0,n.numChildren=0}}]),t}();l.destroy=function(e){r.default.LGlobal.destroy&&(e.die&&e.die(),e.removeAllChild&&e.removeAllChild())},t.default=l},function(e,t,n){"use strict";function o(){throw"LMultitouchInputMode cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.NONE="none",o.GESTURE="gesture",o.TOUCH_POINT="touchPoint",t.default=o},function(e,t,n){"use strict";function o(){throw"LMultitouch cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),o.inputMode="none",o.touchs=[],t.default=o},function(e,t,n){"use strict";var o=u(n(10)),a=n(17),r=u(n(74)),i=u(n(39)),l=u(n(6));u(n(3)),u(n(5)),u(n(36)),u(n(28)),u(n(27)),u(n(8)),u(n(4)),u(n(16)),u(n(9)),u(n(13)),u(n(25)),u(n(67)),u(n(19)),u(n(64)),u(n(18)),u(n(62)),u(n(59)),u(n(58)),u(n(57)),u(n(56)),u(n(51)),u(n(50)),u(n(49)),u(n(32)),u(n(47)),u(n(46)),u(n(45)),u(n(44)),u(n(43)),u(n(31));function u(e){return e&&e.__esModule?e:{default:e}}o.default.width=640,o.default.mobile?o.default.height=o.default.width*window.innerHeight/window.innerWidth:o.default.height=960,(0,a.LInit)(null,"legend",o.default.width,o.default.height,function(){o.default.align=i.default.TOP_LEFT,o.default.stageScale=r.default.SHOW_ALL,o.default.mobile&&o.default.screen(o.default.FULL_SCREEN);o.default.setDebug(!0),l.default.loadScene("prefabs/scene/Top")})}]);