!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=48)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OS_PC="pc",t.OS_IPHONE="iPhone",t.OS_IPOD="iPod",t.OS_IPAD="iPad",t.OS_ANDROID="Android",t.OS_WINDOWS_PHONE="Windows Phone",t.OS_BLACK_BERRY="BlackBerry",t.NONE="none",t.UNDEFINED="undefined",t.LANDSCAPE="landscape",t.PORTRAIT="portrait"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={},o=a;t.default={ll:a,lufylegend:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventType=t,this._ll_preventDefault=!1}return a(e,[{key:"preventDefault",value:function(){this._ll_preventDefault=!0}}]),e}();o.INIT="init",o.COMPLETE="complete",o.ERROR="error",o.PROGRESS="progress",o.ENTER_FRAME="enter_frame",o.WINDOW_RESIZE="resize",o.WINDOW_ORIENTATIONCHANGE="orientationchange",o.SOUND_COMPLETE="sound_complete",o.END_CONTACT="endContact",o.PRE_SOLVE="preSolve",o.POST_SOLVE="postSolve",o.BEGIN_CONTACT="beginContact",o.addEventListener=function(e,t,n,a){a=a||!1,e.addEventListener?e.addEventListener(t,n,a):e.attachEvent&&(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n]()},e.attachEvent("on"+t,e[t+n]))},o.removeEventListener=function(e,t,n,a){a=a||!1,e.removeEventListener?e.removeEventListener(t,n,a):e.detachEvent&&(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n]()},e.detachEvent("on"+t,e[t+n]))},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="LObject",this.objectIndex=++e.objectIndex,this.objectindex=this.objectIndex}return a(e,[{key:"copyProperty",value:function(e){for(var t in e)if("number"==typeof e[t]||"string"==typeof e[t]||"boolean"==typeof e[t]){if("objectindex"===t||"objectIndex"===t)continue;this[t]=e[t]}else Array.isArray(e[t])&&(this[t]=e[t].slice());e.mask&&(this.mask=e.mask.clone())}},{key:"toString",value:function(){return"[object "+this.constructor.name+"]"}}]),e}();o.objectIndex=1,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(3),l=(a=r)&&a.__esModule?a:{default:a},u=n(0);var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._eventList=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),i(t,[{key:"addEventListener",value:function(e,t,n){this._eventList.push({listener:t,type:e,_this:n})}},{key:"removeEventListener",value:function(e,t){var n,a=void 0;for(n=this._eventList.length,a=0;a<n;a++)if(this._eventList[a]&&e===this._eventList[a].type&&(!t||this._eventList[a].listener===t))return void this._eventList.splice(a,1)}},{key:"removeAllEventListener",value:function(){this._eventList=[]}},{key:"dispatchEvent",value:function(e){for(var t=this._eventList.length,n="string"==typeof e?e:e.eventType,a=0;a<t;a++){var o=this._eventList[a];if(o&&n===this._eventList[a].type){if("string"==typeof e)o.listener.call(o._this?o._this:this,{currentTarget:this,target:this,eventType:n,event_type:n});else if(e.target||(e.target=this),e.currentTarget||(e.currentTarget=e.target),e._ll_preventDefault=!1,o.listener.call(o._this?o._this:this,e),e._ll_preventDefault)return!1;return!0}}return!1}},{key:"hasEventListener",value:function(e,t){for(var n=0,a=this._eventList.length;n<a;n++)if(this._eventList[n]&&e===this._eventList[n].type&&((void 0===t?"undefined":o(t))===u.UNDEFINED||t===this._eventList[n].listener))return!0;return!1}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=c(n(44)),r=n(0),l=c(n(41)),u=c(n(8)),s=c(n(2)),d=c(n(6)),f=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.type="LSprite",n.rotatex,n.rotatey,n.graphics=new l.default,n.graphics.parent=n,n.box2dBody=null,n.shapes=new Array,n.useCursor=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"setRotate",value:function(e){var t=this;t.box2dBody?t.box2dBody.SetAngle(e):t.rotate=e}},{key:"_rotateReady",value:function(){var e=this;e.box2dBody&&(a(e.rotatex)===r.UNDEFINED&&e.getRotateXY(),e.x=e.box2dBody.GetPosition().x*f.default.LGlobal.box2d.drawScale-e.parent.x-e.rotatex,e.y=e.box2dBody.GetPosition().y*f.default.LGlobal.box2d.drawScale-e.parent.y-e.rotatey,e.rotate=e.box2dBody.GetAngle())}},{key:"_ll_show",value:function(e){var t=this;t.graphics.ll_show(e),f.default.LGlobal.show(t.childList,e),t._ll_debugShape(e)}},{key:"startDrag",value:function(e){var t=this;t.ll_dragStart||(t.ll_touchPointID=e,t.ll_dragGlobalPoint=t.parent.localToGlobal(new u.default(t.x,t.y)),t.ll_dragMX=f.default.LGlobal.offsetX,t.ll_dragMY=f.default.LGlobal.offsetY,t.ll_dragStart=!0,f.default.LGlobal.dragList.push(t))}},{key:"stopDrag",value:function(){var e,t=void 0;for(t=0,e=f.default.LGlobal.dragList.length;t<e;t++)if(this.objectIndex===f.default.LGlobal.dragList[t].objectIndex){this.ll_dragStart=!1,f.default.LGlobal.dragList.splice(t,1);break}}},{key:"getRotateXY",value:function(e,t){var n=this;e&&t||(e=n.getWidth(),t=n.getHeight()),n.rotatex=e/2,n.rotatey=t/2}},{key:"getWidth",value:function(e){var t,n=this,o=void 0,i=void 0,l=void 0,u=void 0,s=void 0,d=void 0,f=n.graphics.startX(),c=f+n.graphics.getWidth();for(o=0,t=n.childList.length;o<t;o++)i=n.childList[o],a(i.visible)!==r.UNDEFINED&&i.visible&&(l=i.x,"function"==typeof i._startX&&(l=i._startX(e)),u=l+i.getWidth(e),l<f&&(f=l),u>c&&(c=u));return e&&n.mask?(s=n.mask._startX?n.mask._startX():n.mask.startX(),d=n.mask.getWidth(),f<s&&(f=s),c>s+d&&(c=s+d),n.ll_left=f,n.ll_right=c):(n.ll_left=n.x+f,n.ll_right=n.x+c),(c-f)*n.scaleX}},{key:"getHeight",value:function(e){var t,n=this,o=void 0,i=void 0,l=void 0,u=void 0,s=void 0,d=void 0,f=n.graphics.startY(),c=f+n.graphics.getHeight();for(o=0,t=n.childList.length;o<t;o++)i=n.childList[o],a(i.visible)!==r.UNDEFINED&&i.visible&&(l=i.y,"function"==typeof i._startY&&(l=i._startY(e)),u=l+i.getHeight(e),l<f&&(f=l),u>c&&(c=u));return e&&n.mask?(s=n.mask._startY?n.mask._startY():n.mask.startY(),d=n.mask.getHeight(),f<s&&(f=s),c>s+d&&(c=s+d),n.ll_top=f,n.ll_bottom=c):(n.ll_top=n.y+f,n.ll_bottom=n.y+c),(c-f)*n.scaleY}},{key:"_startX",value:function(e){return this.getWidth(e),this.ll_left}},{key:"startX",value:function(e){return this._startX(e)*this.scaleX}},{key:"_startY",value:function(e){return this.getHeight(e),this.ll_top}},{key:"startY",value:function(e){return this._startY(e)*this.scaleY}},{key:"_ll_loopframe",value:function(){this.dispatchEvent(s.default.ENTER_FRAME)}},{key:"clone",value:function(){var e,n=this,a=new t,o=void 0,i=void 0,r=void 0;for(a.copyProperty(n),a.graphics=n.graphics.clone(),a.graphics.parent=a,a.childList.length=0,r=0,e=n.childList.length;r<e;r++)(o=n.childList[r]).clone&&((i=o.clone()).parent=a,a.childList.push(i));return a}},{key:"_mevent",value:function(e){var t=void 0;for(t=0;t<this.mouseList.length;t++){if(this.mouseList[t].type===e)return!0}return!1}},{key:"ll_dispatchMouseEvent",value:function(e,t,n,a,o){var i=this,r=void 0;if(i.mouseEnabled)for(r=0;r<i.mouseList.length;r++){var l=i.mouseList[r];l.type===e&&(t.selfX=(a-(i.x*n.scaleX+n.x))/(n.scaleX*i.scaleX),t.selfY=(o-(i.y*n.scaleY+n.y))/(n.scaleY*i.scaleY),t.currentTarget=t.clickTarget=i,t.target||(t.target=i),l.listener(t,i))}}},{key:"ll_mouseout",value:function(e,t,n,a,o){var i=this;if(t===d.default.MOUSE_MOVE&&i.ll_mousein&&(i.ll_mousein=!1,i._mevent(d.default.MOUSE_OUT)&&i.ll_dispatchMouseEvent(d.default.MOUSE_OUT,e,n,a,o),i.mouseChildren))for(var r=i.childList.length-1;r>=0;r--)i.childList[r].mouseEvent&&i.childList[r].ll_mouseout&&i.childList[r].ll_mouseout(e,t,n,a,o)}},{key:"mouseEvent",value:function(e,t,n){if(!e)return!1;var a=this,o=void 0,i=e.offsetX,l=e.offsetY,u=void 0;if(!a.visible)return!1;if(n||(n={x:0,y:0,scaleX:1,scaleY:1}),a.ismouseon(e,n)){if(f.default.LGlobal.os===r.OS_PC&&a.useCursor&&t===d.default.MOUSE_MOVE&&(f.default.LGlobal.cursor=a.useCursor),t!==d.default.MOUSE_MOVE||a.ll_mousein||(a.ll_mousein=!0,a._mevent(d.default.MOUSE_OVER)&&a.ll_dispatchMouseEvent(d.default.MOUSE_OVER,e,n,i,l)),a.mouseChildren){for(u={x:a.x*n.scaleX+n.x,y:a.y*n.scaleY+n.y,scaleX:n.scaleX*a.scaleX,scaleY:n.scaleY*a.scaleY},o=a.childList.length-1;o>=0&&(!a.childList[o].mouseEvent||!a.childList[o].mouseEvent(e,t,u)||(e.target=a.childList[o],t===d.default.MOUSE_MOVE));o--);a._mevent(t)&&a.ll_dispatchMouseEvent(t,e,n,i,l)}return!0}return a.ll_mouseout(e,t,n,i,l),!1}},{key:"hitTestPoint",value:function(e,t){var n=this,a=n.shapes;return a&&0!==a.length||(n.getWidth(),n.getHeight(),a=[{type:f.default.LShape.RECT,arg:[n.ll_left-n.x,n.ll_top-n.y,n.ll_right-n.ll_left,n.ll_bottom-n.ll_top]}]),n.ismouseonShapes(a,e,t)}},{key:"hitTestObject",value:function(e){var t,n,a=this,o=a.shapes,i=e.shapes,r=void 0,l=void 0,u=void 0,s=void 0,d=void 0,c=void 0;for(o&&0!==o.length||(a.getWidth(),a.getHeight(),o=[{type:f.default.LShape.RECT,arg:[a.ll_left-a.x,a.ll_top-a.y,a.ll_right-a.ll_left,a.ll_bottom-a.ll_top]}]),i&&0!==i.length||(e.getWidth(),e.getHeight(),i=[{type:f.default.LShape.RECT,arg:[e.ll_left-e.x,e.ll_top-e.y,e.ll_right-e.ll_left,e.ll_bottom-e.ll_top]}]),t=a.getRootMatrix(),n=e.getRootMatrix(),r=o.length-1;r>=0;r--)for(l=o[r],c=a._changeShape(l.type,l.arg,t),u=i.length-1;u>=0;u--)if(s=i[u],d=e._changeShape(s.type,s.arg,n),l.type===f.default.LShape.VERTICES||l.type===f.default.LShape.RECT){if(s.type===f.default.LShape.VERTICES||s.type===f.default.LShape.RECT){if(f.default.LGlobal.hitTestPolygon(c,d))return!0}else if(s.type===f.default.LShape.ARC&&f.default.LGlobal.hitTestPolygonArc(c,d))return!0}else if(s.type===f.default.LShape.VERTICES||s.type===f.default.LShape.RECT){if(f.default.LGlobal.hitTestPolygonArc(d,c))return!0}else if(s.type===f.default.LShape.ARC&&Math.sqrt((c[0]-d[0])*(c[0]-d[0])+(c[1]-d[1])*(c[1]-d[1]))<c[2]+d[2])return!0;return!1}},{key:"addShape",value:function(e,t){if(!(e===f.default.LShape.VERTICES&&t.length<3))return this.shapes.push({type:e,arg:t}),this.shapes}},{key:"addShapes",value:function(e){var t=this;0===t.shapes.length?t.shapes=e:t.shapes=t.shapes.concat(e)}},{key:"clearShape",value:function(){this.shapes=[]}},{key:"_ll_debugShape",value:function(e){var t,n=this,a=void 0,o=void 0,i=void 0,r=void 0,l=void 0;if(f.default.LGlobal&&f.default.LGlobal.traceDebug&&n.shapes&&0!==n.shapes.length)for(a=0,t=n.shapes.length;a<t;a++){if(o=n.shapes[a],e=e||f.default.LGlobal.canvas,i=o.arg,e.beginPath(),o.type===f.default.LShape.RECT)e.rect(i[0],i[1],i[2],i[3]);else if(o.type===f.default.LShape.ARC)e.arc(i[0],i[1],i[2],0,2*Math.PI);else if(o.type===f.default.LShape.VERTICES){for(e.moveTo(i[0][0],i[0][1]),r=1,l=i.length;r<l;r++)e.lineTo(i[r][0],i[r][1]);e.lineTo(i[0][0],i[0][1])}e.closePath(),e.strokeStyle="#00FF00",e.stroke()}}},{key:"ismouseon",value:function(e,t){var n=this;if(!n.visible||!e)return!1;if(n.mask&&(n.mask.parent||(n.mask.parent=n.parent),!n.mask.ismouseon(e,t)))return!1;if(n.shapes&&n.shapes.length>0)return n.ismouseonShapes(n.shapes,e.offsetX,e.offsetY);var a=void 0,o=!1,i=n.childList,r={x:n.x*t.scaleX+t.x,y:n.y*t.scaleY+t.y,scaleX:t.scaleX*n.scaleX,scaleY:t.scaleY*n.scaleY};for(a=i.length-1;a>=0;a--)if(i[a].ismouseon&&(o=i[a].ismouseon(e,r)),o){e.target=n.childList[a];break}return o||(o=n.graphics.ismouseon(e,r)),o}},{key:"die",value:function(){var e,t=this,n=void 0,a=void 0;for(t.graphics.clear(),t.removeAllEventListener(),t.stopDrag(),t.box2dBody&&t.clearBody(),n=0,e=(a=t.childList).length;n<e;n++)a[n].die&&a[n].die()}},{key:"setBodyMouseJoint",value:function(e){this.box2dBody&&(this.box2dBody.mouseJoint=e)}},{key:"clearBody",value:function(e){var t=this;t.box2dBody&&(f.default.LGlobal.box2d.removeList.push(t.box2dBody),t.box2dBody=null)}},{key:"addBodyCircle",value:function(e,t,n,a,o,i,r){var l=this;l.rotatex=e,l.rotatey=e,l.box2dBody=f.default.LGlobal.box2d.addCircle(e/f.default.LGlobal.box2d.drawScale,(l.x+t)/f.default.LGlobal.box2d.drawScale,(l.y+n)/f.default.LGlobal.box2d.drawScale,1===a?f.default.LGlobal.box2d.b2Body.b2_dynamicBody:f.default.LGlobal.box2d.b2Body.b2_staticBody,o||.5,i||.4,r||.8),l.box2dBody.SetUserData(l)}},{key:"addBodyPolygon",value:function(e,t,n,a,o,i){var r=this;r.rotatex=e/2,r.rotatey=t/2,r.box2dBody=f.default.LGlobal.box2d.addPolygon(.5*e/f.default.LGlobal.box2d.drawScale,.5*t/f.default.LGlobal.box2d.drawScale,r.x/f.default.LGlobal.box2d.drawScale,r.y/f.default.LGlobal.box2d.drawScale,1===n?f.default.LGlobal.box2d.b2Body.b2_dynamicBody:f.default.LGlobal.box2d.b2Body.b2_staticBody,a||.5,o||.4,i||.8),r.box2dBody.SetUserData(r)}},{key:"addBodyVertices",value:function(e,t,n,a,o,i,r){var l=this;l.rotatex=0,l.rotatey=0,l.box2dBody=f.default.LGlobal.box2d.addVertices(e,1===a?f.default.LGlobal.box2d.b2Body.b2_dynamicBody:f.default.LGlobal.box2d.b2Body.b2_staticBody,o,i,r),l.box2dBody.SetUserData(l),l.box2dBody.SetPosition(new f.default.LGlobal.box2d.b2Vec2((l.x+t)/f.default.LGlobal.box2d.drawScale,(l.y+n)/f.default.LGlobal.box2d.drawScale))}}]),t}();f.default.LSprite=h,t.default=h},function(e,t,n){"use strict";function a(){throw"LMouseEvent cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),a.MOUSE_DOWN="mousedown",a.MOUSE_UP="mouseup",a.TOUCH_START="touchstart",a.TOUCH_MOVE="touchmove",a.TOUCH_END="touchend",a.MOUSE_MOVE="mousemove",a.MOUSE_OVER="mouseover",a.MOUSE_OUT="mouseout",a.DOUBLE_CLICK="dblclick",t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LInit=void 0,t.trace=l,t.addChild=function(e){a.default.LGlobal.stage.addChild(e)},t.removeChild=function(e){a.default.LGlobal.stage.removeChild(e)},t.init=u,t.getTimer=function(){return(new Date).getTime()-a.default.LGlobal.startTimer},t.getExtension=function(e){var t=void 0;if((t=e.match(/([^#?]+\.)([^.#?]+)/)).length>=3)return t[2].toLowerCase();return null};var a=r(n(1)),o=r(n(2)),i=n(0);function r(e){return e&&e.__esModule?e:{default:e}}function l(){if(a.default.LGlobal.traceDebug){var e=document.getElementById("traceObject"),t=void 0;if(l.arguments.length>0&&!e){var n=document.createElement("DIV");n.position=0,n.style.position="absolute",document.body.appendChild(n),(e=document.createElement("TEXTAREA")).id="traceObject",e.style.width=.5*window.innerWidth+"px",e.style.height="200px";var i=document.createElement("BUTTON");i.style.width=.25*window.innerWidth+"px",i.innerHTML="Hide",n.appendChild(i),o.default.addEventListener(i,a.default.LGlobal.mobile?"touchstart":"click",function(t){e.style.display="none"===e.style.display?"":"none"}),(i=document.createElement("BUTTON")).style.width=.25*window.innerWidth+"px",i.innerHTML="position",n.appendChild(i);var r=function(t){n.position++,0===n.position?(n.style.top="5px",n.style.left="5px"):1===n.position?(n.style.top=window.innerHeight-20-parseInt(e.style.height)+"px",n.style.left="5px"):2===n.position?(n.style.top="5px",n.style.left=window.innerWidth-parseInt(e.style.width)+"px"):(n.style.top=window.innerHeight-20-parseInt(e.style.height)+"px",n.style.left=window.innerWidth-parseInt(e.style.width)+"px",n.position=-1)};r(),o.default.addEventListener(i,a.default.LGlobal.mobile?"touchstart":"click",r),n.appendChild(document.createElement("BR")),n.appendChild(e)}for(t=0;t<l.arguments.length;t++)e.value=e.value+l.arguments[t]+"\r\n",e.scrollTop=e.scrollHeight}}function u(e,t,n,r,l,u){a.default.LGlobal.speed=e;var s=function(){a.default.LGlobal.canTouch&&a.default.LGlobal.aspectRatio===i.LANDSCAPE&&window.innerWidth<window.innerHeight?a.default.LGlobal.horizontalError():a.default.LGlobal.canTouch&&a.default.LGlobal.aspectRatio===i.PORTRAIT&&window.innerWidth>window.innerHeight?a.default.LGlobal.verticalError():setTimeout(l,100),a.default.LGlobal.startTimer=(new Date).getTime()},d=void 0;if("function"==typeof e)d=function(){e(d),a.default.LGlobal.onShow()},a.default.LGlobal.speed=1e3/60;else{var f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)};a.default.LGlobal._requestAFBaseTime=(new Date).getTime(),d=function(){((new Date).getTime()-a.default.LGlobal._requestAFBaseTime)/e>=1&&(a.default.LGlobal._requestAFBaseTime+=e,a.default.LGlobal.onShow()),f(d,e)}}"complete"===document.readyState?(a.default.LGlobal.setCanvas(t,n,r),s(),d()):o.default.addEventListener(window,"load",function(){a.default.LGlobal._requestAFBaseTime=(new Date).getTime(),a.default.LGlobal.setCanvas(t,n,r),s(),d()})}window.console||(window.console={log:l,warn:l});t.LInit=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n}return a(e,[{key:"toString",value:function(){return"[object LPoint("+this.x+","+this.y+")]"}},{key:"length",value:function(){return e.distance2(this.x,this.y,0,0)}},{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"setTo",value:function(e,t){this.x=e,this.y=t}},{key:"copyFrom",value:function(e){this.setTo(e.x,e.y)}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"normalize",value:function(e){var t=this,n=e/t.length();t.x*=n,t.y*=n}},{key:"offset",value:function(e,t){this.x+=e,this.y+=t}},{key:"subtract",value:function(t){return new e(this.x-t.x,this.y-t.y)}}]),e}();o.distance=function(e,t){return o.distance2(e.x,e.y,t.x,t.y)},o.distance2=function(e,t,n,a){var o=e-n,i=t-a;return Math.sqrt(o*o+i*i)},o.interpolate=function(e,t,n){return new o(e.x+(t.x-e.x)*(1-n),e.y+(t.y-e.y)*(1-n))},o.polar=function(e,t){return new o(e*Math.cos(t),e*Math.sin(t))},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=r(n(15)),i=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.type="LBitmap",n.rotateCenter=!0,n.bitmapData=e,n.bitmapData&&(n.width=n.bitmapData.width,n.height=n.bitmapData.height),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"_canShow",value:function(){return this.visible&&this.bitmapData}},{key:"_rotateReady",value:function(){var e=this;0!==e.rotate&&e.rotateCenter?(e.rotatex=.5*e.getWidth(),e.rotatey=.5*e.getHeight()):e.rotatex=e.rotatey=0}},{key:"_coordinate",value:function(e){}},{key:"_ll_show",value:function(e){this.ll_draw(e)}},{key:"ll_draw",value:function(e){var t=this;i.default.LGlobal.fpsStatus&&i.default.LGlobal.fpsStatus.bitmapData++,e.drawImage(t.bitmapData.image,t.bitmapData.x,t.bitmapData.y,t.bitmapData.width,t.bitmapData.height,t.x,t.y,t.bitmapData.width,t.bitmapData.height)}},{key:"clone",value:function(){var e=this,n=new t(e.bitmapData.clone());return n.copyProperty(e),n.rotateCenter=e.rotateCenter,n}},{key:"ismouseon",value:function(e,t){var n=this;return!!e&&(!(!n.visible||!n.bitmapData)&&(!(n.mask&&(n.mask.parent||(n.mask.parent=n.parent),!n.mask.ismouseon(e,t)))&&n.ismouseonShapes([{type:i.default.LShape.RECT,arg:[0,0,n.bitmapData.width,n.bitmapData.height]}],e.offsetX,e.offsetY)))}},{key:"getWidth",value:function(e){var t,n=this,a=void 0,o=void 0;return t=n.bitmapData?n.bitmapData.width*(n.scaleX>0?n.scaleX:-n.scaleX):0,e&&n.mask?(a=n.mask._startX?n.mask._startX():n.mask.startX())>t?0:a+(o=n.mask.getWidth())>t?t-a:o:t}},{key:"getHeight",value:function(e){var t,n=this,a=void 0,o=void 0;return t=n.bitmapData?n.bitmapData.height*(n.scaleY>0?n.scaleY:-n.scaleY):0,e&&n.mask?(a=n.mask._startY?n.mask._startY():n.mask.startY())>t?0:a+(o=n.mask.getHeight())>t?t-a:o:t}},{key:"startX",value:function(){return this.x}},{key:"startY",value:function(){return this.y}},{key:"die",value:function(){}}]),t}();i.default.LBitmap=l,t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=s(n(3)),r=n(0),l=s(n(14)),u=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n,o,i,l,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(s.type="LBitmapData",(void 0===u?"undefined":a(u))===r.UNDEFINED&&(u=t.DATA_IMAGE),s.oncomplete=null,s._locked=!1,s._setPixel=!1,s.x=n||0,s.y=o||0,s.width=0,s.height=0,s.dataType=null,e&&"object"===(void 0===e?"undefined":a(e)))s.image=e,s.dataType=t.DATA_IMAGE,s.width=i||s.image.width,s.height=l||s.image.height,s._setDataType(u);else{if(s._createCanvas(),s.dataType=t.DATA_CANVAS,s._canvas.width=s.width=i||1,s._canvas.height=s.height=l||1,"string"==typeof e)s._context.fillStyle=e,s._context.fillRect(0,0,s.width,s.height);else if("number"==typeof e){for(var d=s._context.createImageData(s.width,s.height),f=0;f<d.data.length;f+=4)d.data[f+0]=e>>16&255,d.data[f+1]=e>>8&255,d.data[f+2]=255&e,d.data[f+3]=255;s._context.putImageData(d,0,0)}s.image=s._canvas,u===t.DATA_IMAGE&&s._setDataType(u)}return s.resize(),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"_setDataType",value:function(e){var n=this;n.dataType!==e&&(e===t.DATA_CANVAS?(n._createCanvas(),n._canvas.width=n.image.width,n._canvas.height=n.image.height,n._context.clearRect(0,0,n._canvas.width,n._canvas.height),n._context.drawImage(n.image,0,0),n.image=n._canvas):e===t.DATA_IMAGE&&(n.image=new Image,n.image.width=n._canvas.width,n.image.height=n._canvas.height,n.image.src=n._canvas.toDataURL()),n.dataType=e)}},{key:"_createCanvas",value:function(){var e=this;e._canvas||(e._canvas=document.createElement("canvas"),e._context=e._canvas.getContext("2d"))}},{key:"clear",value:function(e){var n=this;n._createCanvas(),e?n._context.clearRect(e.x,e.y,e.width,e.height):n._canvas.width=n.image.width,n.dataType===t.DATA_IMAGE&&(n.image.src=n._canvas.toDataURL())}},{key:"setProperties",value:function(e,t,n,a){var o=this;o.x=e,o.y=t,o.width=n,o.height=a,o.resize()}},{key:"setCoordinate",value:function(e,t){var n=this;n.x=e,n.y=t,n.resize()}},{key:"clone",value:function(){var e=this;return new t(e.image,e.x,e.y,e.width,e.height,e.dataType)}},{key:"_ready",value:function(){var e=this;e._dataType=e.dataType,e._setDataType(t.DATA_CANVAS),e._data=e._context.getImageData(e.x,e.y,e.width,e.height)}},{key:"_update",value:function(){var e=this;e._context.putImageData(e._data,e.x,e.y,0,0,e.width,e.height),e._setDataType(e._dataType),e._data=null}},{key:"applyFilter",value:function(e,t,n,a,o){var i=this,r=i._context.getImageData(i.x+t.x,i.y+t.y,t.width,t.height),u=a.filter(r,t.width,o);i.putPixels(new l.default(n.x,n.y,t.width,t.height),u)}},{key:"getPixel",value:function(e,t,n){var a,o,i=this;return e>>=0,t>>=0,i._locked||i._ready(),a=4*i.width*t+4*e,o=i._data.data,i._locked||i._update(),"number"===n?o[a]<<16|o[a+1]<<8|o[a+2]:[o[a],o[a+1],o[a+2],o[a+3]]}},{key:"setPixel",value:function(e,t,n){var o=this;e>>=0,t>>=0,o._locked||o._ready();var i=o._data,r=4*o.width*t+4*e;"object"===(void 0===n?"undefined":a(n))?(i.data[r+0]=n[0],i.data[r+1]=n[1],i.data[r+2]=n[2],i.data[r+3]=n[3]):("string"==typeof n&&(n=parseInt(n.replace("#","0x"))),i.data[r+0]=n>>16&255,i.data[r+1]=n>>8&255,i.data[r+2]=255&n,i.data[r+3]=255),o._locked||o._update()}},{key:"getPixels",value:function(e){var t,n=this;return n._locked||n._ready(),t=n._context.getImageData(n.x+e.x,n.y+e.y,e.width,e.height),n._locked||n._update(),t}},{key:"setPixels",value:function(e,t){var n=this,o=void 0,i=void 0,r=void 0,l=void 0,u=void 0,s=void 0;if(n._locked||n._ready(),r=n._data,"object"===(void 0===t?"undefined":a(t)))for(l=n._canvas.width,u=e.x;u<e.right;u++)for(s=e.y;s<e.bottom;s++)o=4*l*(n.y+s)+4*(n.x+u),i=4*t.width*(s-e.y)+4*(u-e.x),r.data[o+0]=t.data[i+0],r.data[o+1]=t.data[i+1],r.data[o+2]=t.data[i+2],r.data[o+3]=t.data[i+3];else for("string"==typeof t&&(t=parseInt(t.replace("#","0x"))),t=[t>>16&255,t>>8&255,255&t],l=n._canvas.width,u=e.x;u<e.right;u++)for(s=e.y;s<e.bottom;s++)o=4*l*(n.y+s)+4*(n.x+u),r.data[o+0]=t[0],r.data[o+1]=t[1],r.data[o+2]=t[2],r.data[o+3]=255;n._locked||n._update()}},{key:"putPixels",value:function(e,n){var o=this;o.dataType===t.DATA_CANVAS&&"object"===(void 0===n?"undefined":a(n))&&o._context.putImageData(n,o.x+e.x,o.y+e.y,0,0,e.width,e.height)}},{key:"lock",value:function(){this._locked=!0,this._ready()}},{key:"unlock",value:function(){this._locked=!1,this._update()}},{key:"draw",value:function(e,n,a,o,i){var r,u,s=this,d=void 0,f=e,c=void 0,h=void 0,p=!1,v=s.dataType;s._setDataType(t.DATA_CANVAS),(n||a||o||i)&&(s._context.save(),p=!0),i&&(f instanceof t?(c=f.x,h=f.y):c=h=0,f=new t(f.getDataCanvas(),c+i.x,h+i.y,i.width,i.height,t.DATA_CANVAS)),r=f.getWidth()>>>0,u=f.getHeight()>>>0,0!==r&&0!==u?(d=f.getDataCanvas(),a&&(f.colorTransform(new l.default(0,0,r,u),a),d=f.image),n&&s._context.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),o&&(s._context.globalCompositeOperation=o),s._context.drawImage(d,f.x,f.y,r,u,0,0,r,u),p&&s._context.restore(),s._setDataType(v),s.resize()):s._setDataType(v)}},{key:"getDataCanvas",value:function(){var e=this,n=e.dataType;return e._setDataType(t.DATA_CANVAS),e._setDataType(n),e._canvas}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"resize",value:function(){var e=this,t=e.image.width-e.x,n=e.image.height-e.y;e.width=e.width<t?e.width:t,e.height=e.height<n?e.height:n}},{key:"colorTransform",value:function(e,n){var a=this;if(a.dataType===t.DATA_CANVAS){for(var o=a._context.getImageData(a.x+e.x,a.y+e.y,e.width,e.height),i=o.data,r=0,l=i.length;r<l;r+=4){var u=r,s=r+1,d=r+2,f=r+3;i[u]=i[u]*n.redMultiplier+n.redOffset,i[s]=i[s]*n.greenMultiplier+n.greenOffset,i[d]=i[d]*n.blueMultiplier+n.blueOffset,i[f]=i[f]*n.alphaMultiplier+n.alphaOffset}a._context.putImageData(o,a.x+e.x,a.y+e.y,0,0,e.width,e.height)}}},{key:"copyPixels",value:function(e,n,a){var o,i,r,l,u=e;this.dataType===t.DATA_CANVAS&&(o=u.x,i=u.y,r=u.width,l=u.height,u.setProperties(n.x+u.x,n.y+u.y,n.width,n.height),this._context.drawImage(u.image,u.x,u.y,u.width,u.height,a.x,a.y,u.width,u.height),u.x=o,u.y=i,u.width=r,u.height=l)}}]),t}();d.DATA_IMAGE="data_image",d.DATA_CANVAS="data_canvas",u.default.LBitmapData=d,t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(0),i=g(n(2)),r=g(n(6)),l=g(n(24)),u=g(n(23)),s=g(n(47)),d=g(n(46)),f=g(n(17)),c=g(n(8)),h=g(n(45)),p=g(n(22)),v=n(7),y=g(n(5)),b=g(n(1));function g(e){return e&&e.__esModule?e:{default:e}}var _=function(){function e(){throw"LGlobal cannot be instantiated"}return Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)}),String.format||(String.format=function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,n){return void 0!==t[n]?t[n]:e})}),e.FULL_SCREEN="full_screen",e.traceDebug=!1,e.displayState=o.NONE,e.aspectRatio=o.NONE,e.canvasObj=null,e.canvas=null,e.webAudio=!0,e.objectIndex=1,e.stage=null,e.width=0,e.height=0,e.box2d=null,e.speed=50,e.IS_MOUSE_DOWN=!1,e.stopPropagation=!1,e.preventDefault=!0,e.childList=[],e.dragList=[],e.excludingContainer=[],e.fpsStatus=null,e.stageScale="noScale",e.align="M",e.mobile=!1,e.canTouch=!1,e.os=o.OS_PC,e.ios=!1,e.android=!1,e.android_new=!1,e.backgroundColor=null,e.destroy=!0,e.forceRefresh=!1,e.devicePixelRatio=window.devicePixelRatio||1,e.startTimer=0,e.keepClear=!0,e.top=0,e.left=0,e.enableWebGL=("undefined"==typeof enableWebGLCanvas?"undefined":a(enableWebGLCanvas))!==o.UNDEFINED,e.window=window,function(t){if(e.isOldFirefox=function(e){var t=e.toLowerCase().indexOf("firefox");if(t<0)return!1;var n=e.substring(t+8,e.length);return parseFloat(n)<39}(t),t.indexOf(o.OS_IPHONE)>0)e.os=o.OS_IPHONE,e.canTouch=!0,e.ios=!0;else if(t.indexOf(o.OS_IPOD)>0)e.os=o.OS_IPOD,e.canTouch=!0,e.ios=!0;else if(t.indexOf(o.OS_IPAD)>0)e.os=o.OS_IPAD,e.ios=!0,e.canTouch=!0;else if(t.indexOf(o.OS_ANDROID)>0){e.os=o.OS_ANDROID,e.canTouch=!0,e.android=!0;var n=t.indexOf(o.OS_ANDROID);parseInt(t.substr(n+8,1))>3&&(e.android_new=!0)}else t.indexOf(o.OS_WINDOWS_PHONE)>0?(e.os=o.OS_WINDOWS_PHONE,e.canTouch=!0):t.indexOf(o.OS_BLACK_BERRY)>0&&(e.os=o.OS_BLACK_BERRY,e.canTouch=!0);if(e.ios){var a=t.match(/OS\s(\d+)_(\d+)_?(\d+)?/);e.iOSversion=[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]}e.mobile=e.canTouch}(navigator.userAgent),e.setDebug=function(t){e.traceDebug=t},e.setCanvas=function(t,n,a){e.ll_createCanvas(t,n,a),e.ll_createStage(),e.displayState===e.FULL_SCREEN?e.resize():"number"==typeof e.displayState&&e.resize(e.width*e.displayState,e.height*e.displayState),e.canTouch?(e.ll_clicks=0,e.ll_prev_clickTime=0,i.default.addEventListener(e.canvasObj,r.default.TOUCH_START,e.ll_touchStart),i.default.addEventListener(document,r.default.TOUCH_END,e.ll_touchEnd),i.default.addEventListener(e.canvasObj,r.default.TOUCH_MOVE,e.ll_touchMove)):(i.default.addEventListener(e.canvasObj,r.default.DOUBLE_CLICK,e.ll_mouseDbclick),i.default.addEventListener(e.canvasObj,r.default.MOUSE_DOWN,e.ll_mouseDown),i.default.addEventListener(e.canvasObj,r.default.MOUSE_MOVE,e.ll_mouseMove),i.default.addEventListener(e.canvasObj,r.default.MOUSE_UP,e.ll_mouseUp),i.default.addEventListener(e.canvasObj,r.default.MOUSE_OUT,e.ll_mouseOut))},e.ll_createCanvas=function(t,n,a){if(e.id=t,e.isWeixin=!0,e.isWeixin){for(var o=document.getElementsByTagName("canvas"),i=0;i<o.length;i++)o[i].parentNode.removeChild(o[i]);e.object||(e.object=document.createElement("div"),e.object.id=t,document.body.appendChild(e.object))}else e.object=document.getElementById(t);e.object.innerHTML='<div style="position:absolute;margin:0;padding:0;overflow:visible;-webkit-transform: translateZ(0);z-index:0;"><canvas id="'+e.id+'_canvas" style="margin:0;padding:0;width:'+n+"px;height:"+a+'px;"><div id="noCanvas"><p>Hey there, it looks like you\'re using Microsoft\'s Internet Explorer. Microsoft hates the Web and doesn\'t support HTML5 :(</p></div></canvas></div><div id="'+e.id+'_InputText" style="position:absolute;margin:0;padding:0;z-index:10;display:none;"><textarea rows="1" id="'+e.id+'_InputTextareaBox" style="resize:none;background:transparent;border:0px;"></textarea><input type="text" id="'+e.id+'_InputTextBox"  style="background:transparent;border:0px;" /><input type="password" id="'+e.id+'_passwordBox"  style="background:transparent;border:0px;" /></div>',e.canvasObj=document.getElementById(e.id+"_canvas"),e._canvas=document.createElement("canvas"),e._context=e._canvas.getContext("2d"),e._context&&(e.canvasObj.innerHTML=""),e.inputBox=document.getElementById(e.id+"_InputText"),e.inputTextareaBoxObj=document.getElementById(e.id+"_InputTextareaBox"),e.inputTextBoxObj=document.getElementById(e.id+"_InputTextBox"),e.passwordBoxObj=document.getElementById(e.id+"_passwordBox"),e.inputTextField=null,n&&(e.canvasObj.width=n),a&&(e.canvasObj.height=a),e.width=e.canvasObj.width,e.height=e.canvasObj.height,e.canvasStyleWidth=e.width,e.canvasStyleHeight=e.height,e.canvas=e.enableWebGL&&"function"==typeof enableWebGLCanvas?enableWebGLCanvas(e.canvasObj):e.canvasObj.getContext("2d"),e.offsetX=window.mouseX=0,e.offsetY=window.mouseY=0},e.ll_createStage=function(){e.stage=new y.default,e.stage.parent="root",e.childList.push(e.stage),e.stage.baseAddEvent=e.stage.addEventListener,e.stage.baseRemoveEvent=e.stage.removeEventListener,e.stage.addEventListener=function(t,n){t===i.default.WINDOW_RESIZE||t===i.default.WINDOW_ORIENTATIONCHANGE?(t===i.default.WINDOW_RESIZE?e.stage.onresizeListener=n:e.stage.onorientationchangeListener=n,e.stage.onresize||(e.stage.onresize=function(t){e.stage.onresizeEvent=t},i.default.addEventListener(e.window,t,e.stage.onresize))):t===l.default.KEY_DOWN||t===l.default.KEY_UP||t===l.default.KEY_PRESS?i.default.addEventListener(e.window,t,n):e.stage.baseAddEvent(t,n)},e.stage.removeEventListener=function(t,n){if(t===i.default.WINDOW_RESIZE||t===i.default.WINDOW_ORIENTATIONCHANGE){if(t===i.default.WINDOW_RESIZE){if(delete e.stage.onresizeListener,e.stage.onorientationchangeListener)return}else if(delete e.stage.onorientationchangeListener,e.stage.onresizeListener)return;i.default.removeEventListener(e.window,i.default.WINDOW_RESIZE,e.stage.onresize),delete e.stage.onresize}else t===l.default.KEY_DOWN||t===l.default.KEY_UP||t===l.default.KEY_PRESS?i.default.removeEventListener(e.window,t,n):e.stage.baseRemoveEvent(t,n)},e.innerWidth=window.innerWidth,e.innerHeight=window.innerHeight,i.default.addEventListener(e.window,"blur",function(){e.stage.dispatchEvent(new i.default(u.default.FOCUS_OUT))})},e.ll_touchStart=function(t){e._outStageCheckCount=1,e.IS_MOUSE_DOWN=!0,e.stage.dispatchEvent(new i.default(u.default.FOCUS_IN)),e.inputBox.style.display!==o.NONE&&e.inputTextField._ll_getValue();var n,a,l=void 0;if(n=parseInt(0+e.object.style.left)+parseInt(e.canvasObj.style.marginLeft),a=parseInt(0+e.object.style.top)+parseInt(e.canvasObj.style.marginTop),s.default.inputMode===d.default.NONE)l=e.ll_touchStartEvent(t,0,n,a);else if(s.default.inputMode===d.default.TOUCH_POINT)for(var f=0,c=t.touches.length;f<c;f++)s.default.touchs["touch"+t.touches[f].identifier]||(l=e.ll_touchStartEvent(t,f,n,a));var h=(new Date).getTime();e.ll_clicks=h<=e.ll_prev_clickTime+500?e.ll_clicks+1:1,e.ll_prev_clickTime=h,2===e.ll_clicks&&(e.mouseEvent(l,r.default.DOUBLE_CLICK),e.ll_clicks=0),e.mouseJoint_start&&e.mouseJoint_start(l),e.touchHandler(t)},e.ll_touchStartEvent=function(t,n,a,o){var i={offsetX:t.touches[n].pageX-a,offsetY:t.touches[n].pageY-o,touchPointID:t.touches[n].identifier,force:t.touches[n].force,rotationAngle:t.touches[n].rotationAngle,radiusX:t.touches[n].radiusX,radiusY:t.touches[n].radiusY};return i.offsetX=e.ll_scaleX(i.offsetX),i.offsetY=e.ll_scaleY(i.offsetY),window.mouseX=e.offsetX=i.offsetX,window.mouseY=e.offsetY=i.offsetY,s.default.touchs["touch"+i.touchPointID]=i,e.mouseEvent(i,r.default.MOUSE_DOWN),e.buttonStatusEvent=i,i},e.ll_touchEnd=function(t){var n=void 0,a=void 0,o=void 0,l=void 0,f=void 0,c=void 0;if(e.IS_MOUSE_DOWN=!1,s.default.inputMode===d.default.TOUCH_POINT)for(o in s.default.touchs){for(n=s.default.touchs[o],c=!1,l=0,f=t.touches.length;l<f;l++)if(t.touches[l].identifier===n.touchPointID){c=!0;break}c||(a=n,delete s.default.touchs[o],e.mouseEvent(a,r.default.MOUSE_UP))}a||(a={offsetX:e.offsetX,offsetY:e.offsetY},e.mouseEvent(a,r.default.MOUSE_UP)),e.touchHandler(t),e.buttonStatusEvent=null,e.mouseJoint_end&&e.mouseJoint_end(),e.stage.dispatchEvent(new i.default(u.default.FOCUS_OUT))},e.ll_touchMove=function(t){var n,a,o=void 0,i=t.touches.length;n=parseInt(0+e.object.style.left)+parseInt(e.canvasObj.style.marginLeft),a=parseInt(0+e.object.style.top)+parseInt(e.canvasObj.style.marginTop),s.default.inputMode===d.default.NONE&&(i=1);for(var l=0,u=t.touches.length;l<u&&l<i;l++)(o={offsetX:t.touches[l].pageX-n,offsetY:t.touches[l].pageY-a,touchPointID:t.touches[l].identifier}).offsetX=e.ll_scaleX(o.offsetX),o.offsetY=e.ll_scaleY(o.offsetY),window.mouseX=e.offsetX=o.offsetX,window.mouseY=e.offsetY=o.offsetY,s.default.touchs["touch"+o.touchPointID]&&s.default.touchs["touch"+o.touchPointID].offsetX===o.offsetX&&s.default.touchs["touch"+o.touchPointID].offsetY===o.offsetY||(e.buttonStatusEvent=o,s.default.touchs["touch"+o.touchPointID]=o,o.offsetX<=0||o.offsetX>=e.innerWidth||o.offsetX>=e.width||o.offsetY<=0||o.offsetY>=e.innerHeight||o.offsetY>=e.height?e._outStageCheckCount=0:e._outStageCheckCount=1,e.mouseEvent(o,r.default.MOUSE_MOVE));e.touchHandler(t),e.mouseJoint_move&&e.mouseJoint_move(o)},e.ll_mouseDbclick=function(t){a(t.offsetX)===o.UNDEFINED&&a(t.layerX)!==o.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var n={button:t.button};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.mouseEvent(n,r.default.DOUBLE_CLICK)},e.ll_mouseDown=function(t){a(t.offsetX)===o.UNDEFINED&&a(t.layerX)!==o.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY),e.inputBox.style.display!==o.NONE&&e.inputTextField._ll_getValue();var n={button:t.button};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.mouseEvent(n,r.default.MOUSE_DOWN),e.IS_MOUSE_DOWN=!0,e.mouseJoint_start&&e.mouseJoint_start(n)},e.ll_mouseMove=function(t){a(t.offsetX)===o.UNDEFINED&&a(t.layerX)!==o.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var n={};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.buttonStatusEvent=n,window.mouseX=e.offsetX=n.offsetX,window.mouseY=e.offsetY=n.offsetY,e.cursor="default",window.mouseX<=0||window.mouseX>=e.innerWidth||window.mouseX>=e.width||window.mouseY<=0||window.mouseY>=e.innerHeight||window.mouseY>=e.height?e._outStageCheckCount&&(e._outStageCheckCount=0,e.stage.dispatchEvent(new i.default(u.default.FOCUS_OUT))):e._outStageCheckCount||(e._outStageCheckCount=1,e.stage.dispatchEvent(new i.default(u.default.FOCUS_IN))),e.mouseEvent(n,r.default.MOUSE_MOVE),document.body.style.cursor=e.cursor,e.mouseJoint_move&&e.mouseJoint_move(n)},e.ll_mouseUp=function(t){a(t.offsetX)===o.UNDEFINED&&a(t.layerX)!==o.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var n={button:t.button};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.mouseEvent(n,r.default.MOUSE_UP),e.IS_MOUSE_DOWN=!1,e.mouseJoint_end&&e.mouseJoint_end()},e.ll_mouseOut=function(t){a(t.offsetX)===o.UNDEFINED&&a(t.layerX)!==o.UNDEFINED&&(t.offsetX=t.layerX,t.offsetY=t.layerY);var n={};n.offsetX=e.ll_scaleX(t.offsetX),n.offsetY=e.ll_scaleY(t.offsetY),e.mouseEvent(n,r.default.MOUSE_OUT),e.IS_MOUSE_DOWN=!1},e.touchHandler=function(t){return e.stopPropagation&&(t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation()),e.preventDefault&&t.preventDefault(),t},e.mouseEvent=function(t,n){if(n===r.default.MOUSE_MOVE&&e.dragHandler(t),f.default.container[n])f.default.dispatchMouseEvent(t,n);else for(var a=e.childList.length-1;a>=0&&(!e.childList[a].mouseEvent||!e.childList[a].mouseEvent(t,n));a--);},e.dragHandler=function(t){var n=void 0,a=void 0,o=void 0,i=e.dragList;for(n=i.length-1;n>=0;n--)if(a=i[n],!e.canTouch||a.ll_touchPointID===t.touchPointID){o=a.parent.globalToLocal(new c.default(t.offsetX-a.ll_dragMX+a.ll_dragGlobalPoint.x,t.offsetY-a.ll_dragMY+a.ll_dragGlobalPoint.y)),a.x=o.x,a.y=o.y,a.dragRange&&(a.x<a.dragRange.left?a.x=a.dragRange.left:a.x>a.dragRange.right&&(a.x=a.dragRange.right),a.y<a.dragRange.top?a.y=a.dragRange.top:a.y>a.dragRange.bottom&&(a.y=a.dragRange.bottom));break}},e._ll_mobile=function(){var t=.3*e.width,n=1.5*t,a=.05*e.width,o=.05*t,i=.15*t,r=.3*t,l=.2*n,u="#cccccc",s="#000000",d="#ffffff",f="#ff0000",c=void 0,h=void 0,p=void 0,b=void 0,g=void 0;c=new y.default,(0,v.addChild)(c),n=1.5*(t=.3*e.width),c.graphics.drawRoundRect(1,s,[a,a,t,n,a],!0,u),c.graphics.drawRoundRect(1,s,[a+o,a+o,t-2*o,n-2*o,a],!0,s),c.graphics.drawRect(1,d,[a+i,a+l,t-2*i,n-2*l],!0,d),c.graphics.drawArc(1,d,[a+.5*t,a+n-3.5*o,1.5*o,0,2*Math.PI]),c.graphics.drawRoundRect(1,d,[a+r,a+i,t-2*r,o,.5*o]),(h=new y.default).x=.5*-(t-2*i),h.y=.5*-o,h.graphics.drawRect(1,f,[0,0,t-2*i,o],!0,f),(p=new y.default).y=.5*-(t-2*i),p.x=.5*-o,p.graphics.drawRect(1,f,[0,0,o,t-2*i],!0,f),(b=new y.default).x=a+r+.5*(t-2*r),b.y=a+l+.5*(n-2*l),b.rotate=45,b.addChild(h),b.addChild(p),c.addChild(b),(g=new y.default).graphics.drawVertices(2,s,[[0,0],[i,i],[0,2*i]],!0,u),g.x=1.5*a+n,g.y=1.5*a+.5*n,(0,v.addChild)(g),c.arrow=g;return window.onorientationchange=function(){setTimeout(function(){location.href=location.href},100)},c},e.verticalError=function(){var t=.3*e.width,n=.05*e.width,a=e._ll_mobile(),o=a.clone();o.getChildAt(0).visible=!1,o.x=.5*e.width+n,(0,v.addChild)(o),a.rotate=90,a.x=.5*e.width+n,a.y=.5*t},e.horizontalError=function(){var t=.3*e.width,n=.05*e.width,a=e._ll_mobile(),o=a.clone();o.getChildAt(0).visible=!1,o.rotate=90,o.x=e.width-n,o.y=.5*t,(0,v.addChild)(o),a.arrow.x=1.5*n+t},e.onShow=function(){e.canvas&&(e.enableWebGL&&(e.canvas.start2D(),e.canvas.globalAlpha=1),e._outStageCheckCount<=0&&(e._outStageCheckCount--,e._outStageCheckCount<-2&&(e.stage.dispatchEvent(new i.default(u.default.FOCUS_OUT)),e._outStageCheckCount=1)),e.fpsStatus&&e.fpsStatus.reset(),e.stage.onresizeEvent&&(e.stage.onresizeListener&&e.stage.onresizeListener(e.stage.onresizeEvent),e.stage.onorientationchangeListener&&e.stage.onorientationchangeListener({orientation:window.innerWidth>window.innerHeight?o.LANDSCAPE:o.PORTRAIT}),delete e.stage.onresizeEvent),e.forceRefresh&&(e.canvasObj.width=e.canvasObj.width,e.forceRefresh=!1),e.canvas.beginPath(),e.box2d?(e.box2d.ll_show(),!e.traceDebug&&e.keepClear&&e.canvas.clearRect(0,0,e.width+1,e.height+1)):(e.keepClear&&e.canvas.clearRect(0,0,e.width+1,e.height+1),e.backgroundColor&&(e.canvas.fillStyle=e.backgroundColor,e.canvas.fillRect(0,0,e.width,e.height))),e.show(e.childList,e.canvas),e.enableWebGL&&e.canvas.finish2D())},e.show=function(t,n){n=n||e.canvas;for(var a,o=0,i=t.length;o<i;o++)(a=t[o])&&a.ll_show&&(a.ll_show(n),a._ll_removeFromSelf&&(o--,i--))},e.divideCoordinate=function(e,t,n,a){var o=void 0,i=void 0,r=e/a,l=t/n,u=[],s=void 0;for(o=0;o<n;o++){for(s=[],i=0;i<a;i++)s.push({x:r*i,y:l*o,width:r,height:l});u.push(s)}return u},e._create_loading_color=function(){var t=e.canvas.createRadialGradient(e.width/2,e.height,0,e.width/2,0,e.height);return t.addColorStop(0,"red"),t.addColorStop(.3,"orange"),t.addColorStop(.4,"yellow"),t.addColorStop(.5,"green"),t.addColorStop(.8,"blue"),t.addColorStop(1,"violet"),t},e.hitPolygon=function(e,t,n){var a,o=0,i=e[0],r=t<=i[0],l=n<=i[1],u=void 0,s=void 0,d=void 0,f=void 0;for(u=1,a=e.length;u<a+1;u++)d=t<=(s=e[u%a])[0],l!==(f=n<=s[1])&&(r===d?r&&(o+=l?-1:1):t<=i[0]+(s[0]-i[0])*(n-i[1])/(s[1]-i[1])&&(o+=l?-1:1)),i=s,r=d,l=f;return 0!==o},e.hitTestPolygon=function(e,t){var n=void 0,a=void 0,o=void 0,i=void 0,r=void 0,l=[[e,[],[]],[t,[],[]]];for(a=0;a<l.length;a++){for(i=l[a][0],r=l[a][1],n=0,o=i.length;n<o;n++)l[a][2].push(new h.default(i[n][0],i[n][1])),n<o-1&&r.push(new h.default(i[n+1][0]-i[n][0],i[n+1][1]-i[n][1]).normL());r.push(new h.default(i[0][0]-i[o-1][0],i[0][1]-i[o-1][1]).normL())}for(a=0;a<l.length;a++)for(n=0,o=(r=l[a][1]).length;n<o;n++){var u=h.default.getMinMax(l[0][2],r[n]),s=h.default.getMinMax(l[1][2],r[n]);if(u.max_o<s.min_o||u.min_o>s.max_o)return!1}return!0},e.hitTestPolygonArc=function(t,n){if(e.hitPolygon(t,n[0],n[1]))return!0;var a,o=void 0,i=void 0,r=void 0,l=void 0,u=void 0,s=void 0,d=void 0,f=void 0,c=void 0;for(o=0,a=t.length;o<a;o++)if(i=o<a-1?o+1:0,r=t[o],l=t[i],u=new h.default(n[0]-r[0],n[1]-r[1]),c=(s=new h.default(l[0]-r[0],l[1]-r[1])).normalize(),(f=h.default.dot(u,c))<=0){if(u.x*u.x+u.y*u.y<n[3])return!0}else if(f*f<s.x*s.x+s.y*s.y&&(d=h.default.cross(u,c))*d<n[3])return!0;return!1},e.hitTestArc=function(e,t,n,i){var r=.5*e.getWidth(),l=.5*t.getWidth(),u=e._startX?e._startX():e.startX(),s=t._startX?t._startX():t.startX(),d=e._startY?e._startY():e.startY(),f=t._startY?t._startY():t.startY();(void 0===n?"undefined":a(n))!==o.UNDEFINED&&(u+=r-n,d+=r-n,r=n),(void 0===i?"undefined":a(i))!==o.UNDEFINED&&(s+=l-i,f+=l-i,l=i);var c=u+r-s-l,h=d+r-f-l;return c*c+h*h<(r+l)*(r+l)},e.hitTestRect=function(e,t,n,i){var r=e.getWidth(),l=t.getWidth(),u=e.getHeight(),s=t.getHeight(),d=e._startX?e._startX():e.startX(),f=t._startX?t._startX():t.startX(),c=e._startY?e._startY():e.startY(),h=t._startY?t._startY():t.startY();return(void 0===n?"undefined":a(n))!==o.UNDEFINED&&(d+=.5*(r-n[0]),c+=.5*(u-n[1]),r=n[0],u=n[1]),(void 0===i?"undefined":a(i))!==o.UNDEFINED&&(f+=.5*(l-i[0]),h+=.5*(s-i[1]),l=i[0],s=i[1]),(d>f?d:f)<=(d+r>f+l?f+l:d+r)&&(c>h?c:h)<=(c+u>h+s?h+s:c+u)},e.hitTest=e.hitTestRect,e.setFrameRate=function(t){e.frameRate&&clearInterval(e.frameRate),e.speed=t,e.frameRate=setInterval(function(){e.onShow()},t)},e.ll_scaleX=function(t){return(t-e.left)*e.width/e.canvasStyleWidth},e.ll_scaleY=function(t){return(t-e.top)*e.height/e.canvasStyleHeight},e.ll_setStageSize=function(t,n){t=Math.ceil(t),n=Math.ceil(n),e.canvasObj.style.width=t+"px",e.canvasObj.style.height=n+"px",e.canvasStyleWidth=t,e.canvasStyleHeight=n},e.resize=function(t,n){var a=void 0,o=void 0,i=0,r=0,l=window.innerWidth,u=window.innerHeight;switch(e.innerWidth=l,e.innerHeight=u,t&&(a=t),n&&(o=n),"noScale"===e.stageScale&&(a=t||e.width,o=n||e.height),e.stageScale){case"exactFit":a=t||l,o=n||u;break;case"noBorder":switch(a=t||l,o=n||e.height*l/e.width,e.align){case p.default.BOTTOM:case p.default.BOTTOM_LEFT:case p.default.BOTTOM_RIGHT:case p.default.BOTTOM_MIDDLE:i=u-o}break;case"showAll":l/u>e.width/e.height?(o=n||u,a=t||e.width*u/e.height):(a=t||l,o=n||e.height*l/e.width)}if("exactFit"!==e.stageScale&&"noBorder"!==e.stageScale)switch(e.align){case p.default.BOTTOM:case p.default.BOTTOM_LEFT:i=u-o;break;case p.default.RIGHT:case p.default.TOP_RIGHT:r=l-a;break;case p.default.TOP_MIDDLE:r=.5*(l-a);break;case p.default.BOTTOM_RIGHT:i=u-o,r=l-a;break;case p.default.BOTTOM_MIDDLE:i=u-o,r=.5*(l-a);break;case p.default.MIDDLE:i=.5*(u-o),r=.5*(l-a);break;case p.default.TOP:case p.default.LEFT:case p.default.TOP_LEFT:}e.canvasObj.style.marginTop=i+"px",e.canvasObj.style.marginLeft=r+"px",e.isOldFirefox&&(e.left=parseInt(e.canvasObj.style.marginLeft),e.top=parseInt(e.canvasObj.style.marginTop)),e.ll_setStageSize(a,o)},e.sleep=function(e){for(var t=new Date;(new Date).getTime()-t.getTime()<e;);},e.screen=function(t){e.displayState=t,e.stage&&("number"==typeof e.displayState?e.resize(e.width*e.displayState,e.height*e.displayState):e.resize())},e.mouseJoint_start=function(t){if(e.IS_MOUSE_DOWN&&e.box2d&&!e.box2d.mouseJoint&&!e.box2d.stop){var n=t.offsetX/e.box2d.drawScale,a=t.offsetY/e.box2d.drawScale,o=e.box2d.getBodyAtMouse(n,a);if(o&&o.mouseJoint){var i=new e.box2d.b2MouseJointDef;i.bodyA=e.box2d.world.GetGroundBody(),i.bodyB=o,i.target.Set(n,a),i.collideConnected=!0,i.maxForce=3e5*o.GetMass(),e.box2d.mouseJoint=e.box2d.world.CreateJoint(i),o.SetAwake(!0)}}},e.mouseJoint_move=function(t){if(e.IS_MOUSE_DOWN&&e.box2d&&e.box2d.mouseJoint){var n=t.offsetX/e.box2d.drawScale,a=t.offsetY/e.box2d.drawScale;e.box2d.mouseJoint.SetTarget(new e.box2d.b2Vec2(n,a))}},e.mouseJoint_end=function(){e.box2d&&e.box2d.mouseJoint&&(e.box2d.world.DestroyJoint(e.box2d.mouseJoint),e.box2d.mouseJoint=null)},e}();b.default.LGlobal=_,window.LGlobal=_,t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=u(n(37)),i=u(n(36)),r=u(n(1)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="LSound",this._type="audio",e.webAudioEnabled&&r.default.LGlobal.webAudio)this._media=new o.default;else{this._media=new i.default;try{this._media.data=new Audio}catch(e){console.warn("ReferenceError: Can't find variable: Audio"),this._media.data={}}this._media.data.loop=!1,this._media.data.autoplay=!1}t&&this.load(t)};s.TYPE_SOUND="sound",s.webAudioEnabled=!1,s.Container={ll_save:0,time:0,list:[],ll_show:function(){var e=s.Container,t=(new Date).getTime();e.time=t-(e.ll_save?e.ll_save:t),e.ll_save=t;for(var n=e.list,a=n.length-1;a>=0;a--)n[a]&&n[a].ll_check()},add:function(e){s.Container.list.indexOf(e)>=0||s.Container.list.push(e)},remove:function(e){for(var t=s.Container.list,n=t.length-1;n>=0;n--)if(t[n].objectIndex===e.objectIndex){t.splice(n,1);break}},stopOther:function(e){for(var t=s.Container.list,n=t.length-1;n>=0;n--)t[n].objectIndex!==e.objectIndex&&t[n].stop()}},setTimeout(function(){r.default.LGlobal.childList.push(s.Container),o.default._context=null;var e=location.protocol;if("http:"===e||"https:"===e){if(("undefined"==typeof AudioContext?"undefined":a(AudioContext))!==l.UNDEFINED)try{o.default._context=new AudioContext}catch(e){}else if(("undefined"==typeof webkitAudioContext?"undefined":a(webkitAudioContext))!==l.UNDEFINED)try{o.default._context=new webkitAudioContext}catch(e){}o.default._context&&(o.default.container.push(o.default._context),s.webAudioEnabled=!0)}}),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0);var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.responseType=null,window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,this.canUseBlob=window.Blob||window.BlobBuilder;var t=location.protocol;this.local=!("http:"===t||"https:"===t),this.TEXT="text",this.JSON="json",this.ARRAY_BUFFER="arraybuffer",this.BLOB="blob"}return o(e,[{key:"get",value:function(e,t,n,a){this.getRequest("GET",e,t,n,a)}},{key:"post",value:function(e,t,n,a){this.getRequest("POST",e,t,n,a)}},{key:"getRequest",value:function(e,t,n,a,o){var i=this,r=void 0,l="",u="";i.err=o;var s=i.getHttp();if(s){if(n)for(r in n)l+=u+r+"="+n[r],u="&";"get"===e.toLowerCase()&&l.length>0&&(t+=(t.indexOf("?")>=0?"&":"?")+l,l=null),s.onerror=function(e){o&&(o(e),o=null)};var d=i.progress;if(i.progress=null,s.addEventListener("progress",function(e){404===e.currentTarget.status?o&&(o(e.currentTarget),o=null):200===e.currentTarget.status&&d&&d(e)},!1),s.open(e,t,!0),i.responseType){if(i.responseType===i.JSON)try{s.responseType=i.responseType}catch(e){s.responseType=i.TEXT,s._responseType="json"}else s.responseType=i.responseType;i.responseType=i.TEXT}s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onreadystatechange=function(e){var t=e.currentTarget;4===t.readyState&&(t.status>=200&&t.status<300||304===t.status?a&&(t._responseType===i.JSON?(t._responseType=i.TEXT,a(JSON.parse(t.responseText))):t.responseType===i.ARRAY_BUFFER||t.responseType===i.BLOB||t.responseType===i.JSON?a(t.response):t.responseText.length>0?a(t.responseText):a(null)):o&&(o(t),o=null))},s.send(l)}}},{key:"getHttp",value:function(){if(("undefined"==typeof XMLHttpRequest?"undefined":a(XMLHttpRequest))!==i.UNDEFINED)return new XMLHttpRequest;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){this.err||this.err(e)}}return!1}}]),e}();t.default=new r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var o=function(){function e(t,n,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,this.width=a,this.height=o,this.setRectangle()}return a(e,[{key:"setRectangle",value:function(){var e=this;e.bottom=e.y+e.height,e.right=e.x+e.width,e.left=e.x,e.top=e.y}},{key:"clone",value:function(){var t=this;return new e(t.x,t.y,t.width,t.height)}},{key:"contains",value:function(e,t){var n=this;return e>=n.x&&e<=n.right&&t>=n.y&&t<=n.bottom}},{key:"containsRect",value:function(e){var t=this;return e.x>=t.x&&e.right<=t.right&&e.y>=t.y&&e.bottom<=t.bottom}},{key:"equals",value:function(e){var t=this;return e.x===t.x&&e.width===t.width&&e.y===t.y&&e.height===t.height}},{key:"inflate",value:function(e,t){var n=this;n.width+=e,n.height+=t,n.setRectangle()}},{key:"intersection",value:function(t){var n=this,a=n.x>t.x?n.x:t.x,o=n.y>t.y?n.y:t.y,i=n.right>t.right?t.right:n.right,r=n.bottom>t.bottom?t.bottom:n.bottom;return a<=i&&o<=r?new e(a,o,i,r):new e(0,0,0,0)}},{key:"intersects",value:function(e){var t=this,n=t.x>e.x?t.x:e.x,a=t.y>e.y?t.y:e.y,o=t.right>e.right?e.right:t.right,i=t.bottom>e.bottom?e.bottom:t.bottom;return n<=o&&a<=i}},{key:"isEmpty",value:function(){var e=this;return 0===e.x&&0===e.y&&0===e.width&&0===e.height}},{key:"offset",value:function(e,t){var n=this;n.x+=e,n.y+=t,n.setRectangle()}},{key:"setEmpty",value:function(){var e=this;e.x=0,e.y=0,e.width=0,e.height=0,e.setRectangle()}},{key:"setTo",value:function(e,t,n,a){var o=this;o.x=e,o.y=t,o.width=n,o.height=a,o.setRectangle()}},{key:"toString",value:function(){var e=this;return"[object LRectangle("+e.x+","+e.y+","+e.width+","+e.height+")]"}},{key:"union",value:function(t){var n=this;return new e(n.x>t.x?t.x:n.x,n.y>t.y?t.y:n.y,n.right>t.right?n.right:t.right,n.bottom>t.bottom?n.bottom:t.bottom)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=c(n(4)),r=c(n(43)),l=c(n(42)),u=c(n(8)),s=c(n(14)),d=n(0),f=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.name="instance"+n.objectIndex,n.x=0,n.y=0,n.width=0,n.height=0,n.scaleX=1,n.scaleY=1,n.alpha=1,n.visible=!0,n.rotate=0,n.blendMode=null,n.filters=null,n.transform=new r.default,n.parent=null,n.mask=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"_createCanvas",value:function(){var e=this;e._canvas||(e._canvas=document.createElement("canvas"),e._context=e._canvas.getContext("2d"))}},{key:"ll_show",value:function(e){var t=this;e=e||f.default.LGlobal.canvas,t._canShow()&&(t._ll_trans=!1,f.default.LGlobal.box2d||"function"!=typeof t._ll_loopframe||t._ll_loopframe(),e.save(),t._showReady(e),t.blendMode&&(e.globalCompositeOperation=t.blendMode),t.filters&&t._ll_setFilters(e),t._rotateReady(),t.mask&&t.mask.ll_show&&!t._ll_cacheAsBitmap&&(t.mask.ll_show(e),e.clip()),t._transformRotate(e),t._transformScale(e),t._coordinate(e),t.transform.matrix&&t.transform.matrix.transform(e),t.alpha<1&&(t._ll_trans=!0,e.globalAlpha*=t.alpha),f.default.LGlobal.fpsStatus&&(f.default.LGlobal.fpsStatus.display++,t._ll_trans&&f.default.LGlobal.fpsStatus.transform++),t._ll_cacheAsBitmap?t._ll_cacheAsBitmap._ll_show(e):t._ll_show(e),e.restore(),f.default.LGlobal.box2d&&"function"==typeof t._ll_loopframe&&t._ll_loopframe())}},{key:"_canShow",value:function(){return this.visible}},{key:"_coordinate",value:function(e){var t=this;0===t.x&&0===t.y||(t._ll_trans=!0,e.transform(1,0,0,1,t.x,t.y))}},{key:"_rotateReady",value:function(){}},{key:"_showReady",value:function(e){}},{key:"_ll_show",value:function(e){}},{key:"_ll_setFilters",value:function(e){var t,n=this.filters,a=void 0;if(n)for(a=0,t=n.length;a<t;a++)n[a].ll_show(this,e)}},{key:"startX",value:function(){return 0}},{key:"startY",value:function(){return 0}},{key:"getWidth",value:function(e){return 1}},{key:"getHeight",value:function(e){return 1}},{key:"_transformRotate",value:function(e){var t=this,n=void 0,o=void 0;e=e||f.default.LGlobal.canvas,0!==t.rotate&&(t._ll_trans=!0,o=Math.PI/180,n=new l.default,a(t.rotatex)===d.UNDEFINED&&(t.rotatex=0,t.rotatey=0),t.box2dBody&&(o=1),n.a=Math.cos(t.rotate*o),n.b=Math.sin(t.rotate*o),n.c=-n.b,n.d=n.a,n.tx=t.x+t.rotatex,n.ty=t.y+t.rotatey,n.transform(e).setTo(1,0,0,1,-n.tx,-n.ty).transform(e))}},{key:"_transformScale",value:function(e){var t=this,n=void 0;e=e||f.default.LGlobal.canvas,1===t.scaleX&&1===t.scaleY||(t._ll_trans=!0,n=new l.default,1!==t.scaleX&&(n.tx=t.x),1!==t.scaleY&&(n.ty=t.y),n.a=t.scaleX,n.d=t.scaleY,n.transform(e).setTo(1,0,0,1,-n.tx,-n.ty).transform(e))}},{key:"getAbsoluteScale",value:function(){var e=this,t=void 0,n=void 0,a=void 0;for(t=e.scaleX,n=e.scaleY,a=e.parent;a&&"root"!==a;)t*=a.scaleX,n*=a.scaleY,a=a.parent;return{scaleX:t,scaleY:n}}},{key:"getRootCoordinate",value:function(){return this.localToGlobal(new u.default(0,0))}},{key:"localToGlobal",value:function(e){var t;return t=this.getRootMatrix().toArray([e.x,e.y,1]),new u.default(t[0],t[1])}},{key:"globalToLocal",value:function(e){var t;return t=this.getLocalMatrix().toArray([e.x,e.y,1]),new u.default(t[0],t[1])}},{key:"getBounds",value:function(e){if((void 0===e?"undefined":a(e))===d.UNDEFINED)return new s.default(0,0,0,0);var t,n,o=this,i=0,r=0,l=void 0,u=void 0;return o.objectIndex!==e.objectIndex&&(l=o.getRootCoordinate(),u=e.getRootCoordinate(),i=l.x-u.x,r=l.y-u.y),t=o.getWidth(!0),n=o.getHeight(!0),new s.default(i,r,t,n)}},{key:"cacheAsBitmap",value:function(e){var t=this;if(e){var n=t.x-t.startX(!0),a=t.y-t.startY(!0),o=t.getDataCanvas(n,a,t.getWidth(!0),t.getHeight(!0)),i=new f.default.LBitmapData(o,0,0,null,null,f.default.LBitmapData.DATA_CANVAS),r=new f.default.LBitmap(i);r.x=-n,r.y=-a,t._ll_cacheAsBitmap=r}else t._ll_cacheAsBitmap=null}},{key:"getDataCanvas",value:function(e,t,n,a){var o,i,r=this;r._createCanvas(),o=r.x,i=r.y,r.x=e||0,r.y=t||0,r.width=n||r.getWidth(),r.height=a||r.getHeight(),r._canvas.width=r.width,r._canvas.height=r.height;var l=void 0,u=void 0;return r.mask&&(l=r.mask.x,u=r.mask.y,r.mask.x+=r.x-o,r.mask.y+=r.y-i),r.ll_show(r._context),r.x=o,r.y=i,r.mask&&(r.mask.x=l,r.mask.y=u),r._canvas}},{key:"getDataURL",value:function(){var e=this,t=e.x-e.startX(!0),n=e.y-e.startY(!0),a=e.getDataCanvas(t,n,e.getWidth(!0),e.getHeight(!0));return a.toDataURL.apply(a,arguments)}},{key:"getParentByConstructor",value:function(e){for(var t=this.parent;"object"===(void 0===t?"undefined":a(t));){if(t instanceof e)return t;t=t.parent}return null}},{key:"ismouseonShapes",value:function(e,t,n){var o,i=this,r=void 0,l=void 0,u=void 0,s=void 0;for((void 0===e?"undefined":a(e))===d.UNDEFINED&&(e=i.shapes),o=i.getRootMatrix(),l=e.length-1;l>=0;l--)if(s=(r=e[l]).arg,u=i._changeShape(r.type,s,o),r.type===f.default.LShape.VERTICES){if(f.default.LGlobal.hitPolygon(u,t,n))return!0}else if(r.type===f.default.LShape.RECT){if(f.default.LGlobal.hitPolygon(u,t,n))return!0}else if(r.type===f.default.LShape.ARC&&(u[0]-t)*(u[0]-t)+(u[1]-n)*(u[1]-n)<u[3])return!0;return!1}},{key:"_changeShape",value:function(e,t,n){var a=void 0,o=void 0,i=void 0,r=void 0,l=void 0,u=void 0;if(e===f.default.LShape.VERTICES)for(a=[],i=0,r=t.length;i<r;i++)a[i]=n.toArray([t[i][0],t[i][1],1]);else if(e===f.default.LShape.RECT)for(i=0,r=(a=[[t[0],t[1]],[t[0]+t[2],t[1]],[t[0]+t[2],t[1]+t[3]],[t[0],t[1]+t[3]]]).length;i<r;i++)a[i]=n.toArray([a[i][0],a[i][1],1]);else e===f.default.LShape.ARC&&(l=n.toArray([t[0],t[1],1]),u=n.toArray([t[0]+t[2],t[1],1]),o=(l[0]-u[0])*(l[0]-u[0])+(l[1]-u[1])*(l[1]-u[1]),a=[l[0],l[1],Math.sqrt(o),o]);return a}},{key:"getRootMatrix",value:function(){for(var e=this,t=new l.default;e&&"root"!==e;)1===e.scaleX&&1===e.scaleY||t.scale(e.scaleX,e.scaleY),0!==e.rotate&&t.rotate(e.rotate),0===e.x&&0===e.y||t.translate(e.x,e.y),e=e.parent;return t}},{key:"getLocalMatrix",value:function(){for(var e=this,t=new l.default,n=[];e&&"root"!==e;)n.push(e),e=e.parent;for(var a=n.length-1;a>=0;a--)0===(e=n[a]).x&&0===e.y||t.translate(-e.x,-e.y),0!==e.rotate&&t.rotate(-e.rotate),1===e.scaleX&&1===e.scaleY||t.scale(1/e.scaleX,1/e.scaleY);return t}},{key:"remove",value:function(){var e=this,t=e.parent;t&&"root"!==t&&(t.removeChild(e),e._ll_removeFromSelf=!0)}}]),t}();f.default.LDisplayObject=h,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function e(t,n,a){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(a):void 0},i=u(n(15)),r=u(n(17)),l=u(n(6));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LInteractiveObject",e.mouseEnabled=!0,e.mouseList=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"addEventListener",value:function(e,t,n){var a=this;if(e.indexOf("mouse")>=0||e.indexOf("touch")>=0||e===l.default.DOUBLE_CLICK){if(r.default.container[e]||(e===l.default.MOUSE_OVER||e===l.default.MOUSE_OUT)&&r.default.container[l.default.MOUSE_MOVE])return void r.default.addMouseEvent(a,e,t,n);a.mouseList.push({listener:t,type:e,_this:n})}else a._eventList.push({listener:t,type:e,_this:n})}},{key:"removeEventListener",value:function(e,n){var a=this,i=void 0,u=void 0;if(!(e.indexOf("mouse")>=0||e.indexOf("touch")>=0||e===l.default.DOUBLE_CLICK))return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeEventListener",this).call(this,e,n);if(r.default.container[e]||(e===l.default.MOUSE_OVER||e===l.default.MOUSE_OUT)&&r.default.container[l.default.MOUSE_MOVE])r.default.removeMouseEvent(a,e,n);else for(u=a.mouseList.length,i=0;i<u;i++)if(a.mouseList[i]&&e===a.mouseList[i].type&&a.mouseList[i].listener===n)return void a.mouseList.splice(i,1)}},{key:"removeAllEventListener",value:function(){var e=this;e.mouseList.length=0,e._eventList.length=0,r.default.container[l.default.MOUSE_DOWN]&&r.default.removeMouseEvent(e,l.default.MOUSE_DOWN),r.default.container[l.default.MOUSE_UP]&&r.default.removeMouseEvent(e,l.default.MOUSE_UP),r.default.container[l.default.MOUSE_MOVE]&&(r.default.removeMouseEvent(e,l.default.MOUSE_MOVE),r.default.removeMouseEvent(e,l.default.MOUSE_OVER),r.default.removeMouseEvent(e,l.default.MOUSE_OUT))}},{key:"hasEventListener",value:function(e,n){var a=this,i=void 0,u=void 0;if(r.default.container[e])return r.default.hasEventListener(a,e,n);if(!(e.indexOf("mouse")>=0||e.indexOf("touch")>=0||e===l.default.DOUBLE_CLICK))return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"hasEventListener",this).call(this,e,n);for(u=a.mouseList.length,i=0;i<u;i++)if(a.mouseList[i]&&e===a.mouseList[i].type&&(!n||a.mouseList[i].listener===n))return!0;return!1}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(6),l=(a=r)&&a.__esModule?a:{default:a},u=n(0);var s=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispatchAllEvent=!1,this.container={},this.mouseDownContainer=[],this.mouseUpContainer=[],this.mouseMoveContainer=[],this.mouseOverContainer=[],this.mouseOutContainer=[],this.mouseDblContainer=[],this.textFieldInputContainer=[],this.buttonContainer=[]}return i(e,[{key:"pushInputBox",value:function(e){for(var t=this.textFieldInputContainer,n=0,a=t.length;n<a;n++)if(e.objectIndex===t[n].objectIndex)return;this.textFieldInputContainer.push(e)}},{key:"removeInputBox",value:function(e){var t,n=this.textFieldInputContainer,a=void 0;for(a=0,t=n.length;a<t;a++)if(e.objectIndex===n[a].objectIndex){this.textFieldInputContainer.splice(a,1);break}}},{key:"pushButton",value:function(e){var t,n=this.buttonContainer,a=void 0;for(a=0,t=n.length;a<t;a++)if(e.objectIndex===n[a].objectIndex)return;this.buttonContainer.push(e)}},{key:"removeButton",value:function(e){var t,n=this.buttonContainer,a=void 0;for(a=0,t=n.length;a<t;a++)if(e.objectIndex===n[a].objectIndex){this.buttonContainer.splice(a,1);break}}},{key:"dispatchEventButton",value:function(e){var t,n=this,a=void 0;for(a=0,t=n.buttonContainer.length;a<t;a++)"function"==typeof n.buttonContainer[a].ll_button_mode&&n.buttonContainer[a].ll_button_mode(e)}},{key:"addEvent",value:function(e,t,n,a){t.push({container:e,listener:n,_this:a})}},{key:"removeEvent",value:function(e,t,n){var a,o=void 0;for(o=0,a=t.length;o<a;o++)if(t[o].container.objectIndex===e.objectIndex&&(!n||t[o].listener===n)){t.splice(o,1);break}}},{key:"addMouseDownEvent",value:function(e,t,n){this.addEvent(e,this.mouseDownContainer,t,n)}},{key:"addMouseUpEvent",value:function(e,t,n){this.addEvent(e,this.mouseUpContainer,t,n)}},{key:"addMouseMoveEvent",value:function(e,t,n){this.addEvent(e,this.mouseMoveContainer,t,n)}},{key:"addMouseOverEvent",value:function(e,t,n){this.addEvent(e,this.mouseOverContainer,t,n)}},{key:"addMouseOutEvent",value:function(e,t,n){this.addEvent(e,this.mouseOutContainer,t,n)}},{key:"addMouseDblEvent",value:function(e,t,n){this.addEvent(e,this.mouseDblContainer,t,n)}},{key:"addMouseEvent",value:function(e,t,n,a){var o=this;t===l.default.MOUSE_DOWN?o.addMouseDownEvent(e,n,a):t===l.default.MOUSE_UP?o.addMouseUpEvent(e,n,a):t===l.default.MOUSE_OVER?o.addMouseOverEvent(e,n,a):t===l.default.MOUSE_OUT?o.addMouseOutEvent(e,n,a):t===l.default.MOUSE_MOVE?o.addMouseMoveEvent(e,n,a):o.addMouseDblEvent(e,n,a)}},{key:"hasEventListener",value:function(e,t,n){for(var a=this,o=void 0,i=0,r=(o=t===l.default.MOUSE_DOWN?a.mouseDownContainer:t===l.default.MOUSE_UP?a.mouseUpContainer:t===l.default.MOUSE_OVER?a.mouseOverContainer:t===l.default.MOUSE_OUT?a.mouseOutContainer:t===l.default.MOUSE_MOVE?a.mouseMoveContainer:a.mouseDblContainer).length;i<r;i++)if(o[i].container.objectIndex===e.objectIndex&&(!n||o[i].listener===n))return!0;return!1}},{key:"removeMouseDownEvent",value:function(e,t){this.removeEvent(e,this.mouseDownContainer,t)}},{key:"removeMouseUpEvent",value:function(e,t){this.removeEvent(e,this.mouseUpContainer,t)}},{key:"removeMouseMoveEvent",value:function(e,t){this.removeEvent(e,this.mouseMoveContainer,t)}},{key:"removeMouseOverEvent",value:function(e,t){this.removeEvent(e,this.mouseOverContainer,t)}},{key:"removeMouseOutEvent",value:function(e,t){this.removeEvent(e,this.mouseOutContainer,t)}},{key:"removeMouseDblEvent",value:function(e,t){this.removeEvent(e,this.mouseDblContainer,t)}},{key:"removeMouseEvent",value:function(e,t,n){var a=this;t===l.default.MOUSE_DOWN?a.removeMouseDownEvent(e,n):t===l.default.MOUSE_UP?a.removeMouseUpEvent(e,n):t===l.default.MOUSE_OVER?a.removeMouseOverEvent(e,n):t===l.default.MOUSE_OUT?a.removeMouseOutEvent(e,n):t===l.default.MOUSE_MOVE?a.removeMouseMoveEvent(e,n):a.removeMouseDblEvent(e,n)}},{key:"dispatchMouseEvent",value:function(e,t){var n=this;t===l.default.MOUSE_DOWN?(n.dispatchEvent(e,n.mouseDownContainer,l.default.MOUSE_DOWN),n.dispatchEvent(e,n.textFieldInputContainer)):t===l.default.MOUSE_UP?n.dispatchEvent(e,n.mouseUpContainer,l.default.MOUSE_UP):t===l.default.DOUBLE_CLICK?n.dispatchEvent(e,n.mouseDblContainer,l.default.DOUBLE_CLICK):(n.dispatchEventButton(e),n.dispatchEvent(e,n.mouseOutContainer,l.default.MOUSE_OUT),n.dispatchEvent(e,n.mouseOverContainer,l.default.MOUSE_OVER),n.dispatchEvent(e,n.mouseMoveContainer,l.default.MOUSE_MOVE))}},{key:"getRootParams",value:function(e){for(var t=e.parent,n={x:0,y:0,scaleX:1,scaleY:1};t&&"root"!==t;)n.x*=t.scaleX,n.y*=t.scaleY,n.x+=t.x,n.y+=t.y,n.scaleX*=t.scaleX,n.scaleY*=t.scaleY,t=t.parent;return n}},{key:"_mouseEnabled",value:function(e){if(!e||!e.parent)return!1;if(!e.visible||o(e.mouseEnabled)!==u.UNDEFINED&&!e.mouseEnabled)return!1;for(var t=e.parent;t&&"root"!==t;){if(!t.mouseEnabled||!t.mouseChildren||!t.visible)return!1;if(!(t=t.parent))return!1}return!0}},{key:"_dispatchEvent",value:function(e,t,n,a,o,i){var r=void 0,l=void 0,u=n.length;for(r=o;r<=i&&r<u;r++)(l=n[r]).sp.objectIndex===a&&(e.currentTarget=e.clickTarget=l.sp,e.target||(e.target=l.sp),e.event_type=t,e.selfX=(e.offsetX-l.co.x-l.sp.x)/(l.co.scaleX*l.sp.scaleX),e.selfY=(e.offsetY-l.co.y-l.sp.y)/(l.co.scaleY*l.sp.scaleY),l.listener.call(l._this?l._this:l,e,l.sp))}},{key:"dispatchEvent",value:function(e,t,n){var a=void 0,o=void 0,i=[],r=void 0,u=void 0,s=void 0;for(u=0,s=t.length;u<s;u++)if(a=t[u].container||t[u],this._mouseEnabled(a))if(o=this.getRootParams(a),n||!a.mouseEvent)if(a.ismouseon(e,o)){if(n===l.default.MOUSE_OUT)continue;if(n===l.default.MOUSE_OVER&&a.ll_mousein)continue;n!==l.default.MOUSE_UP&&(a.ll_mousein=!0),i.push({sp:a,co:o,listener:t[u].listener,_this:t[u]._this})}else{if(n!==l.default.MOUSE_OUT&&n!==l.default.MOUSE_OVER)continue;if(!a.ll_mousein)continue;a.ll_mousein=!1,i.push({sp:a,co:o,listener:t[u].listener,_this:t[u]._this})}else a.mouseEvent(e,l.default.MOUSE_DOWN,o);if(0!==i.length)for(i.length>1&&(i=i.sort(this._sort.bind(this))),s=i.length,u=0;u<s;u++)if(r=i[u],this._dispatchEvent(e,n,i,r.sp.objectIndex,u,this.dispatchAllEvent?s-1:u),u<i.length-1&&r.sp.objectIndex===i[u+1].sp.objectIndex)i.splice(u,1),u--;else{for(var d=void 0;d&&"root"!==d&&(d||(d=r.sp.parent,e.target=r.sp),d&&"root"!==d);)this._dispatchEvent(e,n,i,d.objectIndex,u+1,s),e.target=d,d=d.parent;if(!this.dispatchAllEvent)break}}},{key:"set",value:function(e,t){this.container[e]=t}},{key:"_sort",value:function(e,t){var n,a,o=void 0,i=void 0,r=this._getSort(e.sp),l=this._getSort(t.sp),u=void 0;for(u=0,n=r.length,a=l.length;u<n&&u<a;u++)if(o=r[u],i=l[u],o.objectIndex!==i.objectIndex)return i.parent.getChildIndex(i)-o.parent.getChildIndex(o);return l.length-r.length}},{key:"_getSort",value:function(e){for(var t=e.parent,n=[e];t&&"root"!==t;)n.unshift(t),t=t.parent;return n}}]),e}());s.set(l.default.MOUSE_DOWN,!0),s.set(l.default.MOUSE_UP,!0),s.set(l.default.MOUSE_MOVE,!0),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(0),i={None:{easeIn:function(e,t,n,a){return t+e*n/a},easeOut:function(e,t,n,a){return t+e*n/a},easeInOut:function(e,t,n,a){return t+e*n/a}},Quad:{easeIn:function(e,t,n,a){return n*(e/=a)*e+t},easeOut:function(e,t,n,a){return-n*(e/=a)*(e-2)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},Cubic:{easeIn:function(e,t,n,a){return n*(e/=a)*e*e+t},easeOut:function(e,t,n,a){return n*((e=e/a-1)*e*e+1)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}},Quart:{easeIn:function(e,t,n,a){return n*(e/=a)*e*e*e+t},easeOut:function(e,t,n,a){return-n*((e=e/a-1)*e*e*e-1)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t}},Quint:{easeIn:function(e,t,n,a){return n*(e/=a)*e*e*e*e+t},easeOut:function(e,t,n,a){return n*((e=e/a-1)*e*e*e*e+1)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}},Sine:{easeIn:function(e,t,n,a){return-n*Math.cos(e/a*(Math.PI/2))+n+t},easeOut:function(e,t,n,a){return n*Math.sin(e/a*(Math.PI/2))+t},easeInOut:function(e,t,n,a){return-n/2*(Math.cos(Math.PI*e/a)-1)+t}},Strong:{easeIn:function(e,t,n,a){return n*(e/=a)*e*e*e*e+t},easeOut:function(e,t,n,a){return n*((e=e/a-1)*e*e*e*e+1)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}},Expo:{easeIn:function(e,t,n,a){return 0===e?t:n*Math.pow(2,10*(e/a-1))+t},easeOut:function(e,t,n,a){return e===a?t+n:n*(1-Math.pow(2,-10*e/a))+t},easeInOut:function(e,t,n,a){return 0===e?t:e===a?t+n:(e/=a/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t}},Circ:{easeIn:function(e,t,n,a){return-n*(Math.sqrt(1-(e/=a)*e)-1)+t},easeOut:function(e,t,n,a){return n*Math.sqrt(1-(e=e/a-1)*e)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t}},Elastic:{easeIn:function(e,t,n,a,o,i){var r=void 0;return 0===e?t:1==(e/=a)?t+n:(i||(i=.3*a),!o||o<Math.abs(n)?(o=n,r=i/4):r=i/(2*Math.PI)*Math.asin(n/o),-o*Math.pow(2,10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/i)+t)},easeOut:function(e,t,n,a,o,i){var r=void 0;return 0===e?t:1==(e/=a)?t+n:(i||(i=.3*a),!o||o<Math.abs(n)?(o=n,r=i/4):r=i/(2*Math.PI)*Math.asin(n/o),o*Math.pow(2,-10*e)*Math.sin((e*a-r)*(2*Math.PI)/i)+n+t)},easeInOut:function(e,t,n,a,o,i){var r=void 0;return 0===e?t:2==(e/=a/2)?t+n:(i||(i=a*(.3*1.5)),!o||o<Math.abs(n)?(o=n,r=i/4):r=i/(2*Math.PI)*Math.asin(n/o),e<1?o*Math.pow(2,10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/i)*-.5+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/i)*.5+n+t)}},Back:{easeIn:function(e,t,n,i,r){return(void 0===r?"undefined":a(r))===o.UNDEFINED&&(r=1.70158),n*(e/=i)*e*((r+1)*e-r)+t},easeOut:function(e,t,n,i,r){return(void 0===r?"undefined":a(r))===o.UNDEFINED&&(r=1.70158),n*((e=e/i-1)*e*((r+1)*e+r)+1)+t},easeInOut:function(e,t,n,i,r){return(void 0===r?"undefined":a(r))===o.UNDEFINED&&(r=1.70158),(e/=i/2)<1?n/2*(e*e*((1+(r*=1.525))*e-r))+t:n/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t}},Bounce:{easeIn:function(e,t,n,a){return n-i.Bounce.easeOut(a-e,0,n,a)+t},easeOut:function(e,t,n,a){return(e/=a)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOut:function(e,t,n,a){return e<a/2?.5*i.Bounce.easeIn(2*e,0,n,a)+t:.5*i.Bounce.easeOut(2*e-a,0,n,a)+.5*n+t}}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=r(n(16)),i=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LShape",e.graphics=new i.default.LGraphics,e.graphics.parent=e,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"_ll_show",value:function(e){this.graphics.ll_show(e)}},{key:"getWidth",value:function(e){var t=this,n=void 0,a=void 0,o=t.graphics.startX(),i=o+t.graphics.getWidth();return e&&t.mask&&(n=t.mask._startX?t.mask._startX():t.mask.startX(),a=t.mask.getWidth(),o<n&&(o=n),i>n+a&&(i=n+a)),t.ll_left=t.x+o,t.ll_right=t.x+i,(i-o)*t.scaleX}},{key:"getHeight",value:function(e){var t=this,n=void 0,a=void 0,o=t.graphics.startY(),i=o+t.graphics.getHeight();return e&&t.mask&&(n=t.mask._startY?t.mask._startY():t.mask.startY(),a=t.mask.getHeight(),o<n&&(o=n),i>n+a&&(i=n+a)),t.ll_top=t.y+o,t.ll_bottom=t.y+i,(i-o)*t.scaleY}},{key:"_startX",value:function(){return this.getWidth(),this.ll_left}},{key:"startX",value:function(){return this._startX()*this.scaleX}},{key:"_startY",value:function(){return this.getHeight(),this.ll_top}},{key:"startY",value:function(){return this._startY()*this.scaleY}},{key:"clone",value:function(){var e=new t;return e.copyProperty(this),e.graphics=this.graphics.clone(),e.graphics.parent=e,e}},{key:"ismouseon",value:function(e,t){var n,a=this,o=!1;return!(!a.visible||!e)&&(!(a.mask&&(a.mask.parent||(a.mask.parent=a.parent),!a.mask.ismouseon(e,t)))&&(n={x:a.x*t.scaleX+t.x,y:a.y*t.scaleY+t.y,scaleX:t.scaleX*a.scaleX,scaleY:t.scaleY*a.scaleY},a.graphics&&(o=a.graphics.ismouseon(e,n)),o))}},{key:"die",value:function(){this.graphics.clear(),function e(t,n,a){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"die",this).call(this)}}]),t}();l.POINT="point",l.LINE="line",l.ARC="arc",l.RECT="rect",l.VERTICES="vertices",i.default.LShape=l,t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n(4)),i=l(n(13)),r=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LLoader",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"load",value:function(e,n,a){var o=this;if(n||(n=t.TYPE_BITMAPDATE),o.loadtype=n,o.useXHR=a&&!i.default.local&&i.default.canUseBlob,n===t.TYPE_BITMAPDATE){var l=t.get(e);if(l)return void setTimeout(function(){o.dispatchCompleteEvent(l)});o.useXHR?(i.default.responseType=i.default.ARRAY_BUFFER,i.default.progress=function(e){var t=new r.default(r.default.PROGRESS);t.currentTarget=o,t.target=e.currentTarget,t.loaded=e.loaded,t.total=e.total,t.responseURL=e.responseURL,o.dispatchEvent(t)},i.default.post(e,{},function(t){var n=void 0;try{n=new Blob([t],{type:"image/png"})}catch(e){if("TypeError"===e.name&&window.BlobBuilder){var a=new BlobBuilder;a.append(t),n=a.getBlob()}else n=null,o.useXHR=!1}o.useXHR&&(e=o.createObjectURL(n)),o.loadStart(e)},function(e){var t=new r.default(r.default.ERROR);t.currentTarget=o,t.target=e,t.responseURL=e.responseURL,o.dispatchEvent(t)})):o.loadStart(e)}}},{key:"dispatchCompleteEvent",value:function(e){var t=new r.default(r.default.COMPLETE);t.currentTarget=this,t.target=e,this.useXHR&&this.revokeObjectURL(e.src),this.dispatchEvent(t)}},{key:"loadStart",value:function(e){var n=this;n.content=new Image,n.content.onload=function(){n.content.onload=null,n.dispatchCompleteEvent(n.content),t._container[e]=n.content,delete n.content},n.useXHR||(n.content.onerror=function(e){var t=new r.default(r.default.ERROR);t.currentTarget=n,t.target=e.target,t.responseURL=e.target.src,n.dispatchEvent(t)}),n.content.src=e}},{key:"createObjectURL",value:function(e){return(window.URL||window.webkitURL).createObjectURL(e)}},{key:"revokeObjectURL",value:function(e){(window.URL||window.webkitURL).revokeObjectURL(e)}}]),t}();u.TYPE_BITMAPDATE="bitmapData",u._container={},u.get=function(e){return u._container[e]},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=v(n(4)),r=v(n(2)),l=n(0),u=n(7),s=v(n(39)),d=v(n(38)),f=v(n(20)),c=v(n(11)),h=v(n(12)),p=v(n(35));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.llname="ll.file.",e.llload="ll.load.",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"load",value:function(e,t,n){var a=this;if(!e||0===e.length){var o=new r.default(r.default.COMPLETE);return o.currentTarget=a,o.target={},void a.dispatchEvent(o)}a.list=e,a.onupdate=t,a.oncomplete=n,a.loader=a,a.index=0,a.loadIndex=0,a.result=[],a.lresult=[],a.loadInit()}},{key:"loadInit",value:function(){var e=this;e.index>=e.list.length||(e.loadIndex=0,e.loadStart(),e.reloadtime=setTimeout(e.loadInit.bind(e),1e4))}},{key:"loadStart",value:function(){var e=this,t=void 0,n=void 0;e.loadIndex>=e.list.length||(t=e.list[e.loadIndex],a(t.progress)===l.UNDEFINED&&(t.progress=0),t.name||(t.name=e.llname+e.loadIndex),e.lresult[e.llload+t.name]||(t.type||("txt"===(n=(0,u.getExtension)(t.path))?t.type=s.default.TYPE_TEXT:"js"===n?t.type=s.default.TYPE_JS:new Array("mp3","ogg","wav","m4a").indexOf(n)>=0&&(t.type=h.default.TYPE_SOUND)),t.type===s.default.TYPE_TEXT||t.type===s.default.TYPE_JS?(e.loader=new s.default,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(r.default.PROGRESS,e._loadProgress),e.loader.addEventListener(r.default.ERROR,e._loadError),e.loader.addEventListener(r.default.COMPLETE,e._loadComplete),e.loader.load(e.url(t.path),t.type)):t.type===h.default.TYPE_SOUND?(e.loader=new h.default,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(r.default.PROGRESS,e._loadProgress),e.loader.addEventListener(r.default.ERROR,e._loadError),e.loader.addEventListener(r.default.COMPLETE,e._loadComplete),e.loader.load(t.path)):t.type===p.default.TYPE_PLIST?(e.loader=new p.default,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(r.default.PROGRESS,e._loadProgress),e.loader.addEventListener(r.default.ERROR,e._loadError),e.loader.addEventListener(r.default.COMPLETE,e._loadComplete),e.loader.load(t.path,t.name)):t.type===d.default.TYPE_FONT?(e.loader=new d.default,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(r.default.ERROR,e._loadError),e.loader.addEventListener(r.default.COMPLETE,e._loadComplete),e.loader.load(t.path,t.name)):(e.loader=new f.default,e.loader.parent=e,e.loader.name=t.name,e.loader.addEventListener(r.default.PROGRESS,e._loadProgress),e.loader.addEventListener(r.default.ERROR,e._loadError),e.loader.addEventListener(r.default.COMPLETE,e._loadComplete),e.loader.load(e.url(t.path),f.default.TYPE_BITMAPDATE,t.useXHR)),e.loader._loadIndex=e.loadIndex),e.loadIndex++,e.loadStart())}},{key:"_loadProgress",value:function(e){var t=e.currentTarget,n=t.parent;n.list[t._loadIndex].progress=e.loaded/e.total;for(var a=0,o=0,i=n.list.length;o<i;o++)a+=n.list[o].progress;var l=new r.default(r.default.PROGRESS);l.currentTarget=n,l.target=e.currentTarget,l.loaded=a,l.total=n.list.length,l.responseURL=e.responseURL,n.dispatchEvent(l)}},{key:"_loadError",value:function(e){var t=e.currentTarget,n=t.parent;delete t.parent,t.removeEventListener(r.default.ERROR,n._loadError);var a=new r.default(r.default.ERROR);a.currentTarget=n,a.target=e.target,a.responseURL=e.responseURL,n.dispatchEvent(a)}},{key:"_loadComplete",value:function(e){var t=e.currentTarget.parent;if(t){if(e&&e.currentTarget.name){if(e.currentTarget.removeEventListener(r.default.COMPLETE,t._loadComplete),e.currentTarget.name.indexOf(t.llname)>=0&&(e.target=1),t.lresult[t.llload+e.currentTarget.name])return;t.result[e.currentTarget.name]=e.target,t.lresult[t.llload+e.currentTarget.name]=1}if(t.index++,e.loaded=e.total=1,t._loadProgress(e),delete e.currentTarget.parent,t.index>=t.list.length){t.reloadtime&&clearTimeout(t.reloadtime);var n=new r.default(r.default.COMPLETE);n.currentTarget=t,n.target=t.result,t.dispatchEvent(n),c.default.forceRefresh=!0}}}},{key:"url",value:function(e){return c.default.traceDebug?e+(e.indexOf("?")>=0?"&":"?")+"t="+(new Date).getTime():e}}]),t}();y.load=function(e,t,n,a){var o=new y;t&&o.addEventListener(r.default.PROGRESS,function(e){t((100*e.loaded/e.total).toFixed(2))}),n&&o.addEventListener(r.default.COMPLETE,function(e){n(e.target)}),a&&o.addEventListener(r.default.ERROR,a),o.load(e)},t.default=y},function(e,t,n){"use strict";function a(){throw"LStageAlign cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),a.TOP="T",a.BOTTOM="B",a.LEFT="L",a.RIGHT="Re",a.TOP_LEFT="TL",a.TOP_RIGHT="TR",a.TOP_MIDDLE="TM",a.BOTTOM_LEFT="BL",a.BOTTOM_RIGHT="BR",a.BOTTOM_MIDDLE="BM",a.MIDDLE="M",t.default=a},function(e,t,n){"use strict";function a(){throw"LFocusEvent cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),a.FOCUS_IN="focusIn",a.FOCUS_OUT="focusOut",t.default=a},function(e,t,n){"use strict";function a(){throw"LKeyboardEvent cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),a.KEY_DOWN="keydown",a.KEY_UP="keyup",a.KEY_PRESS="keypress",t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=d(n(3)),r=n(0),l=d(n(18)),u=d(n(8)),s=d(n(1));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(e,n,a){f(this,t);var o=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.type="LTweenLiteChild",o.toNew=[],o.init(e,n,a),o}return h(t,i.default),o(t,[{key:"init",value:function(e,t,n){var o=this,i=null;for(i in a(n.tweenTimeline)===r.UNDEFINED&&(n.tweenTimeline=v.TYPE_FRAME),o.target=e,o.target.objectIndex||(o.target.objectIndex=++s.default.LGlobal.objectIndex),o.duration=t||.001,o.vars=n,o.delay=o.vars.delay||0,o.vars.tweenTimeline===v.TYPE_TIMER?(o.currentTime=(new Date).getTime()/1e3,o.initTime=o.currentTime,o.startTime=o.initTime+o.delay):(o.currentTime=0,o.duration*=1e3,o.currentTime-=1e3*o.delay),o.combinedTimeScale=o.vars.timeScale||1,o.active=0===o.duration&&0===o.delay,o.varsto={},o.varsfrom={},o.varsDiff={},o.varsListIndex={},o.varsListCurr={},o.varsListTo={},o.varsListLength={},o.stop=!1,"function"!=typeof o.vars.ease&&(o.vars.ease=l.default.None.easeIn),o.ease=o.vars.ease,delete o.vars.ease,"function"==typeof o.vars.onComplete?(o.onComplete=o.vars.onComplete,delete o.vars.onComplete):o.onComplete=null,"function"==typeof o.vars.onUpdate?(o.onUpdate=o.vars.onUpdate,delete o.vars.onUpdate):o.onUpdate=null,"function"==typeof o.vars.onStart?(o.onStart=o.vars.onStart,delete o.vars.onStart):o.onStart=null,o.vars)if("coordinate"===i&&Array.isArray(o.vars[i])){for(var d=0,f={x:o.target.x,y:o.target.y},c=0,h=o.vars[i].length;c<h;c++){var p=o.vars[i][c];d+=u.default.distance(p,f),f=p}o.varsListIndex[i]=0,o.varsListCurr[i]=0,o.varsListTo[i]=d,o.varsto[i]=o.vars[i],o.varsfrom[i]={x:o.target.x,y:o.target.y}}else"number"==typeof o.vars[i]&&(o.varsto[i]=o.vars[i],o.varsfrom[i]=o.target[i],o.varsDiff[i]=o.vars[i]-o.target[i])}},{key:"pause",value:function(){this.stop=!0}},{key:"resume",value:function(){this.stop=!1}},{key:"tween",value:function(){var e=this,t=void 0,n=void 0,o=e.vars.tweenTimeline===v.TYPE_TIMER;if(o){if((n=(new Date).getTime()/1e3-e.startTime)<0)return}else{if(e.stop)return;if(e.currentTime+=s.default.LGlobal.speed,e.currentTime<0)return}for(var i in e.varsto)if(a(e.varsListTo[i])===r.UNDEFINED)e.target[i]=e.ease(o?n:e.currentTime,e.varsfrom[i],e.varsDiff[i],e.duration);else{var l=e.ease(o?n:e.currentTime,0,e.varsListTo[i],e.duration);l>e.varsListTo[i]&&(l=e.varsListTo[i]);for(var d=e.varsListIndex[i]>0?e.vars[i][e.varsListIndex[i]-1]:e.varsfrom[i],f=e.vars[i][e.varsListIndex[i]],c=u.default.distance(d,f);e.varsListCurr[i]+c<l;)e.varsListCurr[i]+=c,d=f,e.varsListIndex[i]++,f=e.vars[i][e.varsListIndex[i]],c=u.default.distance(d,f);e.target.x=d.x,e.target.y=d.y,0!==c&&f.x-d.x!=0&&(e.target.x+=(f.x-d.x)*(l-e.varsListCurr[i])/c),0!==c&&f.y-d.y!=0&&(e.target.y+=(f.y-d.y)*(l-e.varsListCurr[i])/c)}e.onStart&&(e._dispatchEvent(e.onStart),delete e.onStart);if(o?n>=e.duration:e.currentTime>=e.duration){for(t in e.varsto)if(a(e.varsListTo[t])===r.UNDEFINED)e.target[t]=e.varsto[t];else{var h=e.varsto[t][e.vars[t].length-1];e.target.x=h.x,e.target.y=h.y}return e.onComplete&&e._dispatchEvent(e.onComplete,!0),!0}return e.onUpdate&&e._dispatchEvent(e.onUpdate),!1}},{key:"_dispatchEvent",value:function(e,t){var n=this,a={},o=function(){a.target=n.target,a.currentTarget=n,e(a)};t?setTimeout(function(){o()},1):o()}},{key:"to",value:function(e,t,n,a){return this.toNew.push({target:e,duration:t,vars:n,data:a}),this}},{key:"keep",value:function(){var e=this,t=void 0,n=void 0,o=void 0,i=void 0;if(e.toNew.length>0){if((t=e.toNew.shift()).vars.loop&&(e.loop=!0),e.loop){for(o in i={},n={},t.vars)n[o]=t.vars[o],a(t.target[o])!==r.UNDEFINED&&t.vars.playStyle===v.PlayStyle.Init&&(t.data?t.target[o]=t.data[o]:i[o]=t.target[o]);t.data||(t.data=i),e.to(t.target,t.duration,n,t.data)}return e.init(t.target,t.duration,t.vars),!0}return!1}}]),t}(),v=function(e){function t(){f(this,t);var e=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LTweenLite",e.tweens=[],e}return h(t,i.default),o(t,[{key:"count",value:function(){return this.tweens.length}},{key:"ll_show",value:function(){var e=this,t=void 0,n=e.tweens.length,a=void 0;for(t=0;t<n;t++)(a=e.tweens[t])&&a.tween&&a.tween()&&(e.tweens.splice(t,1),t--,n=e.tweens.length,a.keep()&&e.add(a))}},{key:"to",value:function(e,t,n){if(e){var a=new p({},0,{});return this.tweens.push(a),a.to(e,t,n),a}}},{key:"add",value:function(e){this.tweens.push(e)}},{key:"remove",value:function(e){var t=this;if((void 0===e?"undefined":a(e))!==r.UNDEFINED)for(var n=0,o=t.tweens.length;n<o;n++)if(e.objectIndex===t.tweens[n].objectIndex){t.tweens.splice(n,1);break}}},{key:"removeTarget",value:function(e){for(var t=this,n=0,a=t.tweens.length;n<a;n++)if(e.objectIndex===t.tweens[n].target.objectIndex){t.tweens.splice(n,1);break}}},{key:"removeAll",value:function(){this.tweens.splice(0,this.tweens.length)}},{key:"pauseAll",value:function(){for(var e=0,t=this.tweens.length;e<t;e++)this.tweens[e].pause()}},{key:"resumeAll",value:function(){for(var e=0,t=this.tweens.length;e<t;e++)this.tweens[e].resume()}}]),t}();v.PlayStyle={None:"none",Init:"init"},v.TYPE_FRAME="type_frame",v.TYPE_TIMER="type_timer",s.default.LTweenLiteTimeline=new v,s.default.LGlobal.childList.push(s.default.LTweenLiteTimeline);var y=new v;y.TYPE_FRAME=v.TYPE_FRAME,y.TYPE_TIMER=v.TYPE_TIMER,y.PlayStyle=v.PlayStyle,s.default.LGlobal.childList.push(y),s.default.LTweenLite=y,t.default=y},function(e,t,n){"use strict";function a(){throw"LTextEvent cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),a.TEXT_INPUT="textInput",a.WIND_COMPLETE="windComplete",t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(3),r=(a=i)&&a.__esModule?a:{default:a};var l=function(e){function t(e,n,a,o,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),u=l;return u.font=e||"Arial",u.size=n||15,u.color=a||"#000000",u.bold=o||!1,u.italic=i||!1,u.underline=r||!1,l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"clone",value:function(){var e=new this.constructor;return e.copyProperty(this),e}},{key:"getFontText",value:function(){var e=this;return(e.italic?"italic ":"")+(e.bold?"bold ":"")+e.size+"px "+e.font}},{key:"setCss",value:function(e){var t=this,n=void 0;for(n in e)switch(n){case"color":t.color=e[n];break;case"font-family":t.font=e[n];break;case"font-size":t.size=e[n];break;case"font-style":t.italic="italic"===e[n];break;case"font-weight":t.bold="bold"===e[n];break;case"text-decoration":t.color="underline"===e[n]}}}]),t}();t.default=l},function(e,t,n){"use strict";function a(){throw"LTextFieldType cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),a.INPUT="input",a.DYNAMIC=null,t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=g(n(16)),r=g(n(19)),l=g(n(28)),u=g(n(27)),s=g(n(5)),d=g(n(17)),f=g(n(6)),c=g(n(2)),h=g(n(24)),p=g(n(23)),v=g(n(26)),y=n(0),b=g(n(1));function g(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.type="LTextField",n.texttype=null,n.text="",n.htmlText="",n.styleSheet="",n.font="Arial",n.size=15,n.color="#000000",n.weight="normal",n.textAlign="left",n.textBaseline="top",n.heightMode=t.HEIGHT_MODE_BOTTOM,n.stroke=!1,n.lineWidth=1,n.lineColor="#000000",n.width=150,n.height=n.size,n.displayAsPassword=!1,n.wordWrap=!1,n.multiline=!1,n.numLines=1,n.speed=0,n._speedIndex=100,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"_showReady",value:function(e){var t=this;e.font=t.weight+" "+t.size+"px "+t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.fillStyle=t.color,t.stroke&&(e.strokeStyle=t.lineColor,e.lineWidth=t.lineWidth+1)}},{key:"ll_getStyleSheet",value:function(e,t,n,a){var o=this,i=e.clone();if("font"===t)for(var r=0;n&&!(r++>4);){var l=/(([^\s]*?)(\s*)=(\s*)("|')(.*?)\5)*/g.exec(n);if(!l||!l[0])break;switch(l[2]){case"face":i.font=l[6];break;case"color":i.color=l[6];break;case"size":i.size=l[6]}n=n.replace(l[0],"").replace(/(^\s*)|(\s*$)|(\n)/g,"")}else if("b"===t)i.bold=!0;else if("u"===t)i.underline=!0;else if("i"===t)i.italic=!0;else if("p"===t&&o.wordWrap)a="\n"+a+"\n";else if(o.styleSheet){var u=void 0;if("span"===t){var s=/(([^\s]*?)(\s*)=(\s*)("|')(.*?)\5)*/g.exec(n);if(s&&s[0])switch(s[2]){case"class":u=o.styleSheet.getStyle("."+s[6])}}else o.styleSheet.getStyle(t)&&(u=o.styleSheet.getStyle(t));u&&i.setCss(u)}o.ll_getHtmlText(i,a)}},{key:"ll_getHtmlText",value:function(e,t){if(t){var n,a,o=this,i=void 0,r=void 0,l=/<(.*?)(\s*)(.*?)>(.*?)<\/\1>/g.exec(t);if(l&&l[0]){l.index>0&&o.ll_htmlTexts.push({textFormat:e.clone(),text:t.substring(0,l.index)}),n=l[1],r=i=l.index;do{r=t.indexOf("</"+n,r+1),i=t.indexOf("<"+n,i+1)}while(i>0&&i<r);a=t.substring(t.indexOf(">",l.index)+1,r),o.ll_getStyleSheet(e,n,l[3],a),o.ll_getHtmlText(e,t.substring(r+n.length+3))}else o.ll_htmlTexts.push({textFormat:e.clone(),text:t})}}},{key:"_ll_show",value:function(e){var n=this,a=void 0,o=void 0,i=void 0,r=void 0,s=void 0,d=void 0,f=void 0,c=void 0,h=void 0,p=void 0,v=void 0;if(n.texttype===l.default.INPUT){if(n.inputBackLayer.ll_show(),r=n.getRootCoordinate(),b.default.LGlobal.inputBox.name==="input"+n.objectIndex&&(b.default.LGlobal.inputBox.style.marginTop=parseInt(b.default.LGlobal.canvasObj.style.marginTop)+((r.y+n.inputBackLayer.startY())*parseInt(b.default.LGlobal.canvasObj.style.height)/b.default.LGlobal.canvasObj.height>>>0)+"px",b.default.LGlobal.inputBox.style.marginLeft=parseInt(b.default.LGlobal.canvasObj.style.marginLeft)+((r.x+n.inputBackLayer.startX())*parseInt(b.default.LGlobal.canvasObj.style.width)/b.default.LGlobal.canvasObj.width>>>0)+"px"),b.default.LGlobal.inputTextField&&b.default.LGlobal.inputTextField.objectIndex===n.objectIndex)return;a.clip()}if(b.default.LGlobal.fpsStatus&&b.default.LGlobal.fpsStatus.text++,b.default.LGlobal.enableWebGL?(n._createCanvas(),n._canvas.width=b.default.LGlobal.width,n._canvas.height=b.default.LGlobal.height,n._showReady(n._context),a=n._context):a=e,n.htmlText)return(n.ll_htmlText!==n.htmlText||n.styleSheet&&(n.ll_style_objectIndex!==n.styleSheet.objectIndex||n.ll_styleIndex===n.styleSheet.styleIndex))&&(p=new u.default,n.ll_htmlTexts=[],n.ll_htmlText=n.htmlText,n.styleSheet&&(n.ll_style_objectIndex=n.styleSheet.objectIndex,n.ll_styleIndex=n.styleSheet.styleIndex),n.ll_getHtmlText(p,n.htmlText)),s=0,f=0,c=0,n._ll_height=n.wordHeight||30,t.underlineY||(t.underlineY={alphabetic:0,top:1,bottom:-.2,middle:.4,hanging:.8}),n.ll_htmlTexts.forEach(function(e){var o=e.textFormat,r=e.text;for(a.font=o.getFontText(),a.fillStyle=o.color,i=0,d=r.length;i<d;i++)/(?:\r\n|\r|\n|n)/.exec(r.substr(i,1))?(s=0,f=i+1,c++):(h=1.2*a.measureText("O").width,n.stroke&&a.strokeText(r.substr(i,1),s,c*n._ll_height),a.fillText(r.substr(i,1),s,c*n._ll_height),o.underline&&(a.beginPath(),v=c*n._ll_height+h*t.underlineY[n.textBaseline],a.moveTo(s,v),a.lineTo(s+a.measureText(r.substr(i,1)).width,v),a.stroke())),s+=a.measureText(r.substr(i,1)).width,n.wordWrap&&s+a.measureText(r.substr(i+1,1)).width>n.width&&(s=0,f=i+1,c++);n.height=(c+1)*n._ll_height}),void(b.default.LGlobal.enableWebGL&&e.drawImage(n._canvas,0,0));if(o=n.text,n.displayAsPassword)for(o="",i=0,d=n.text.length;i<d;i++)o+="*";if(n.wordWrap||n.multiline){for(s=0,f=0,c=0,i=0,d=n.text.length;i<d;i++)/(?:\r\n|\r|\n|n)/.exec(o.substr(i,1))?(s=0,f=i+1,c++):(n.stroke&&a.strokeText(o.substr(i,1),s,c*n.wordHeight),a.fillText(o.substr(i,1),s,c*n.wordHeight)),n.numLines=c,s=a.measureText(n.text.substr(f,i+1-f)).width,n.wordWrap&&s+a.measureText(o.substr(i,1)).width>n.width&&(s=0,f=i+1,c++);n.height=(c+1)*n.wordHeight}else n.numLines=1,n.stroke&&a.strokeText(o,0,0,a.measureText(o).width),a.fillText(o,0,0,a.measureText(o).width);b.default.LGlobal.enableWebGL&&e.drawImage(n._canvas,0,0),n.windRunning&&n._ll_windRun()}},{key:"_wordHeight",value:function(e){var t=this;e>0?t.wordHeight=e:(t.wordWrap=!1,t.wordHeight=t.getHeight()),t.height=0}},{key:"setMultiline",value:function(e,t){e&&this._wordHeight(t),this.multiline=e}},{key:"setWordWrap",value:function(e,t){e&&this._wordHeight(t),this.wordWrap=e}},{key:"setType",value:function(e,t){var n=this;n.texttype!==e&&e===l.default.INPUT?(t&&t instanceof s.default?n.inputBackLayer=t:(n.inputBackLayer=new s.default,n.inputBackLayer.graphics.drawRect(1,"#000000",[0,.4*-n.getHeight(),n.width,1.5*n.getHeight()])),n.inputBackLayer.parent=n,d.default.container[f.default.MOUSE_DOWN]&&d.default.pushInputBox(n)):(n.inputBackLayer=null,d.default.removeInputBox(n)),n.texttype=e}},{key:"ismouseon",value:function(e,t){var n=this;return!!e&&(!!n.visible&&(t||(t={x:0,y:0,scaleX:1,scaleY:1}),!(n.mask&&(n.mask.parent||(n.mask.parent=n.parent),!n.mask.ismouseon(e,t)))&&(n.inputBackLayer?n.inputBackLayer.ismouseon(e,{x:n.x*t.scaleX+t.x,y:n.y*t.scaleY+t.y,scaleX:t.scaleX*n.scaleX,scaleY:t.scaleY*n.scaleY}):n.ismouseonShapes([{type:r.default.RECT,arg:[0,0,n._getWidth(),n._getHeight()]}],e.offsetX,e.offsetY))))}},{key:"clone",value:function(){var e=this,t=new e.constructor;return t.copyProperty(e),t.texttype=null,e.texttype===l.default.INPUT&&t.setType(l.default.INPUT),t}},{key:"mouseEvent",value:function(e,t,n){var a=this;a.inputBackLayer&&t===f.default.MOUSE_DOWN&&a.ismouseon(e,n)&&a.focus()}},{key:"_ll_getValue",value:function(){b.default.LGlobal.inputBox.style.display!==y.NONE&&(b.default.LGlobal.inputTextField.text=b.default.LGlobal.inputTextBox.value,c.default.removeEventListener(b.default.LGlobal.inputTextBox,h.default.KEY_DOWN,b.default.LGlobal.inputTextField._ll_input),b.default.LGlobal.inputBox.style.display=y.NONE,a(b.default.LGlobal.inputTextField.preventDefault)!==y.UNDEFINED&&(b.default.LGlobal.preventDefault=b.default.LGlobal.inputTextField.preventDefault),b.default.LGlobal.inputTextField.dispatchEvent(p.default.FOCUS_OUT),b.default.LGlobal.inputTextField=null)}},{key:"updateInput",value:function(){this.texttype===l.default.INPUT&&b.default.LGlobal.inputTextField.objectIndex===this.objectIndex&&(b.default.LGlobal.inputTextBox.value=b.default.LGlobal.inputTextField.text)}},{key:"_ll_input",value:function(e){var t=new c.default(v.default.TEXT_INPUT);t.keyCode=e.keyCode,b.default.LGlobal.inputTextField.text=b.default.LGlobal.inputTextBox.value,b.default.LGlobal.inputTextField.hasEventListener(v.default.TEXT_INPUT)?e.returnValue=b.default.LGlobal.inputTextField.dispatchEvent(t):e.returnValue=!0}},{key:"focus",value:function(){var e,t,n,a=this,o=void 0;a.parent&&a.texttype===l.default.INPUT&&(b.default.LGlobal.inputTextField&&b.default.LGlobal.inputTextField.objectIndex!==a.objectIndex&&a._ll_getValue(),a.dispatchEvent(p.default.FOCUS_IN),e=a.getAbsoluteScale(),b.default.LGlobal.inputBox.style.display="",b.default.LGlobal.inputBox.name="input"+a.objectIndex,b.default.LGlobal.inputTextField=a,b.default.LGlobal.inputTextareaBoxObj.style.display=y.NONE,b.default.LGlobal.inputTextBoxObj.style.display=y.NONE,b.default.LGlobal.passwordBoxObj.style.display=y.NONE,a.displayAsPassword?b.default.LGlobal.inputTextBox=b.default.LGlobal.passwordBoxObj:a.multiline?b.default.LGlobal.inputTextBox=b.default.LGlobal.inputTextareaBoxObj:b.default.LGlobal.inputTextBox=b.default.LGlobal.inputTextBoxObj,t=parseInt(b.default.LGlobal.canvasObj.style.width)/b.default.LGlobal.canvasObj.width,n=parseInt(b.default.LGlobal.canvasObj.style.height)/b.default.LGlobal.canvasObj.height,b.default.LGlobal.inputTextBox.style.display="",b.default.LGlobal.inputTextBox.value=a.text,b.default.LGlobal.inputTextBox.style.height=a.inputBackLayer.getHeight()*e.scaleY*a.scaleY*n+"px",b.default.LGlobal.inputTextBox.style.width=a.inputBackLayer.getWidth()*e.scaleX*a.scaleX*t+"px",b.default.LGlobal.inputTextBox.style.color=a.color,b.default.LGlobal.inputTextBox.style.fontSize=(a.size*parseFloat(b.default.LGlobal.canvasObj.style.height)/b.default.LGlobal.canvasObj.height>>0)+"px",b.default.LGlobal.inputTextBox.style.fontFamily=a.font,c.default.addEventListener(b.default.LGlobal.inputTextBox,h.default.KEY_DOWN,b.default.LGlobal.inputTextField._ll_input),a.texttype===l.default.INPUT&&(o=a.getRootCoordinate(),b.default.LGlobal.inputBox.name==="input"+a.objectIndex&&(b.default.LGlobal.inputBox.style.marginTop=parseInt(b.default.LGlobal.canvasObj.style.marginTop)+((o.y+a.inputBackLayer.startY())*parseInt(b.default.LGlobal.canvasObj.style.height)/b.default.LGlobal.canvasObj.height>>>0)+"px",b.default.LGlobal.inputBox.style.marginLeft=parseInt(b.default.LGlobal.canvasObj.style.marginLeft)+((o.x+a.inputBackLayer.startX())*parseInt(b.default.LGlobal.canvasObj.style.width)/b.default.LGlobal.canvasObj.width>>>0)+"px")),setTimeout(function(){b.default.LGlobal.ios&&(a.preventDefault=b.default.LGlobal.preventDefault,b.default.LGlobal.preventDefault=!1),b.default.LGlobal.inputTextBox.focus()},0))}},{key:"_getWidth",value:function(){var e=this;if(e.wordWrap)return e.width;b.default.LGlobal.enableWebGL&&this._createCanvas();var t=b.default.LGlobal.enableWebGL?e._context:b.default.LGlobal.canvas;return t.font=e.size+"px "+e.font,t.measureText(e.text).width}},{key:"getWidth",value:function(e){var t,n=this,a=void 0,o=void 0;return t=n._getWidth()*n.scaleX,e&&n.mask?(a=n.mask._startX?n.mask._startX():n.mask.startX())>t?0:a+(o=n.mask.getWidth())>t?t-a:o:t}},{key:"_startX",value:function(e){var t=this;if("left"===t.textAlign)return t.x;var n=t.getWidth(e);return t.x+("right"===t.textAlign?-n:.5*-n)}},{key:"_getHeight",value:function(){var e=this;b.default.LGlobal.enableWebGL&&this._createCanvas();var n=b.default.LGlobal.enableWebGL?e._context:b.default.LGlobal.canvas,a=void 0,o=void 0,i=void 0,r=void 0,l=void 0;if(e.wordWrap){if(n.font=e.weight+" "+e.size+"px "+e.font,0===e.height){for(i=0,r=0,l=0,a=0,o=e.text.length;a<o;a++)/(?:\r\n|\r|\n|n)/.exec(e.text.substr(a,1))&&(i=0,r=a+1,l++),i=n.measureText(e.text.substr(r,a+1-r)).width,e.wordWrap&&i+n.measureText(e.text.substr(a+1,1)).width>e.width&&(i=0,r=a+1,l++);e.height=(l+1)*e.wordHeight}return e.height}return n.font=e.weight+" "+e.size+"px "+e.font,o=1.2*n.measureText("O").width,e.heightMode===t.HEIGHT_MODE_BASELINE&&(o*=1.2),o}},{key:"getHeight",value:function(e){var t,n=this,a=void 0,o=void 0;return t=n._getHeight()*n.scaleY,e&&n.mask?(a=n.mask._startY?n.mask._startY():n.mask.startY())>t?0:a+(o=n.mask.getHeight())>t?t-a:o:t}},{key:"wind",value:function(e){var t=this;t.wind_over_function=e,t.windRunning=!0,t._ll_wind_text=t.text,t.text="",t._ll_wind_length=0}},{key:"_ll_windRun",value:function(){var e=this;if(!(e._speedIndex++<e.speed)){if(e._speedIndex=0,e._ll_wind_length>e._ll_wind_text.length)return e.windRunning=!1,e.wind_over_function&&e.wind_over_function(),void e.dispatchEvent(new c.default(v.default.WIND_COMPLETE));e.text=e._ll_wind_text.substring(0,e._ll_wind_length),e._ll_wind_length++}}},{key:"windComplete",value:function(){var e=this;e._speedIndex=e.speed,e.text=e._ll_wind_text,e._ll_wind_length=e._ll_wind_text.length+1,e._ll_windRun()}},{key:"die",value:function(){d.default.removeInputBox(this)}}]),t}();_.HEIGHT_MODE_BOTTOM="bottom",_.HEIGHT_MODE_BASELINE="baseline",t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n(5)),i=l(n(10)),r=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.init(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"init",value:function(e){var t=new i.default(e),n=new r.default(t);this.addChild(n)}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.common=void 0,t.gameInit=function(){var e=new i.default;e.text="es6 demo",e.x=100,e.y=10,(0,o.addChild)(e);var t=new a.default(l.datalist.bird);t.x=100,t.y=100,(0,o.addChild)(t)};var a=r(n(30)),o=n(7),i=r(n(29));function r(e){return e&&e.__esModule?e:{default:e}}var l=t.common={datalist:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=d(n(5)),r=d(n(19)),l=d(n(10)),u=d(n(9)),s=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n,o,i,d,f,c,h){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var p=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),v=p;if(v.type="LPanel",(void 0===h?"undefined":a(h))===s.UNDEFINED&&(h=0),self.overlapping=h,"string"==typeof e){var y=new r.default;(void 0===n?"undefined":a(n))===s.UNDEFINED&&(n=20),(void 0===o?"undefined":a(o))===s.UNDEFINED&&(o=20),y.graphics.drawRoundRect(1,"#000000",[0,0,n,o,n<10?.5*n:5],!0,e),(e=new l.default(null,0,0,n,o,l.default.DATA_CANVAS)).draw(y)}v.x1=i||.4*e.width,v.x2=d||.6*e.width,v.y1=f||.4*e.height,v.y2=c||.6*e.height,v.bitmapData=e;var b=new l.default(e.image,e.x,e.y,v.x1,v.y1),g=new l.default(e.image,e.x+v.x1,e.y,v.x2-v.x1,v.y1),_=new l.default(e.image,e.x+v.x2,e.y,e.width-v.x2,v.y1),m=new l.default(e.image,e.x,e.y+v.y1,v.x1,v.y2-v.y1),w=new l.default(e.image,e.x+v.x1,e.y+v.y1,v.x2-v.x1,v.y2-v.y1),E=new l.default(e.image,e.x+v.x2,e.y+v.y1,e.width-v.x2,v.y2-v.y1),x=new l.default(e.image,e.x,e.y+v.y2,v.x1,e.height-v.y2),O=new l.default(e.image,e.x+v.x1,e.y+v.y2,v.x2-v.x1,e.height-v.y2),L=new l.default(e.image,e.x+v.x2,e.y+v.y2,e.width-v.x2,e.height-v.y2);return v.ltBitmap=new u.default(b),v.addChild(v.ltBitmap),v.mtBitmap=new u.default(g),v.mtBitmap.x=v.x1-h,v.addChild(v.mtBitmap),v.rtBitmap=new u.default(_),v.addChild(v.rtBitmap),v.lmBitmap=new u.default(m),v.lmBitmap.y=v.y1-h,v.addChild(v.lmBitmap),v.mmBitmap=new u.default(w),v.mmBitmap.x=v.x1-h,v.mmBitmap.y=v.y1-h,v.addChild(v.mmBitmap),v.rmBitmap=new u.default(E),v.rmBitmap.y=v.y1-h,v.addChild(v.rmBitmap),v.lbBitmap=new u.default(x),v.addChild(v.lbBitmap),v.mbBitmap=new u.default(O),v.mbBitmap.x=v.x1-h,v.addChild(v.mbBitmap),v.rbBitmap=new u.default(L),v.addChild(v.rbBitmap),v.resize(n,o),p}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"resize",value:function(e,t){var n=this;n._ll_w=e,n._ll_h=t,n.rtBitmap.x=n.rmBitmap.x=n.rbBitmap.x=e-(n.bitmapData.width-n.x2),n.lbBitmap.y=n.mbBitmap.y=n.rbBitmap.y=t-(n.bitmapData.height-n.y2),n.lmBitmap.scaleY=n.mmBitmap.scaleY=n.rmBitmap.scaleY=(t-n.y1-(n.bitmapData.height-n.y2)+2*self.overlapping)/(n.y2-n.y1),n.mtBitmap.scaleX=n.mmBitmap.scaleX=n.mbBitmap.scaleX=(e-n.x1-(n.bitmapData.width-n.x2)+2*self.overlapping)/(n.x2-n.x1)}},{key:"getSize",value:function(){return{width:this._ll_w,height:this._ll_h}}},{key:"clone",value:function(){var e=new t(this.bitmapData.clone(),this._ll_w,this._ll_h,this.x1,this.x2,this.y1,this.y2,this.overlapping);return e.copyProperty(this),e}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={SIMPLE:"simple",SLICED:"sliced"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=s(n(5)),i=s(n(10)),r=s(n(9)),l=s(n(33)),u=s(n(32));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(i.atlasType=o,i._rotated=a.rotated,o!==l.default.SIMPLE&&n){if(o===l.default.SLICED){var r=i._getPanel(e,n,a);i.addChild(r)}}else{i.atlasType=l.default.SIMPLE;var u=i._getBitmap(e,a);i.addChild(u)}return i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"resize",value:function(e,t){if(this.atlasType===l.default.SIMPLE){var n=this.getChildAt(0);n.scaleX=e/this._sourceSize[0],n.scaleY=t/this._sourceSize[1]}else if(this.atlasType===l.default.SLICED){var a=this.getChildAt(0).getChildAt(0);e-=this._minusWidth,t-=this._minusHeight,this._rotated?(a.resize(t,e),a.y=t):a.resize(e,t)}}},{key:"_getBitmapData",value:function(e,t){var n=t.frame[0][0],a=t.frame[0][1],o=t.frame[1][t.rotated?1:0],r=t.frame[1][t.rotated?0:1],l=new i.default(e,n,a,o,r);return this._sourceSize=t.sourceSize,l}},{key:"_getBitmap",value:function(e,t){var n=this._getBitmapData(e,t),a=new r.default(n),i=void 0,l=void 0;a.rotateCenter=!1,t.rotated?(i=n.getHeight(),l=n.getWidth(),a.y=l,a.rotate=-90):(i=n.getWidth(),l=n.getHeight()),a.x+=.5*(this._sourceSize[0]-i)+t.offset[0],a.y+=.5*(this._sourceSize[1]-l)-t.offset[1];var u=new o.default;return u.addChild(a),u}},{key:"_getPanel",value:function(e,t,n){var a=this._getBitmapData(e,n),i=void 0,r=void 0,l=a.getWidth(),s=a.getHeight(),d=n.rotated?t.bottom:t.left,f=l-(n.rotated?t.top:t.right),c=n.rotated?t.left:t.top,h=s-(n.rotated?t.right:t.bottom),p=new u.default(a,l,s,d,f,c,h);n.rotated?(i=s,r=l,p.y=r,p.rotate=-90):(i=l,r=s),this._minusWidth=this._sourceSize[0]-i,this._minusHeight=this._sourceSize[1]-r,p.x+=.5*this._minusWidth+n.offset[0],p.y+=.5*this._minusHeight-n.offset[1];var v=new o.default;return v.addChild(p),v}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=s(n(4)),i=s(n(21)),r=s(n(2)),l=s(n(34)),u=s(n(11));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"destroy",value:function(){delete t._container[name]}},{key:"load",value:function(e,t){var n=this,a=[{name:e+"/"+t+".png",path:this.url(e+"/"+t+".png")},{name:e+"/"+t+".plist",path:this.url(e+"/"+t+".plist"),type:"text"},{name:e+"/"+t+".json",path:this.url(e+"/"+t+".json"),type:"text"}];i.default.load(a,null,function(a){n._loadComplete(a,e,t)})}},{key:"url",value:function(e){return u.default.traceDebug?e+(e.indexOf("?")>=0?"&":"?")+"t="+Date.now():e}},{key:"_loadComplete",value:function(e,n,a){var o=n.indexOf("resources/");this._atlasKey=n.substring(o+"resources/".length)+"/"+a,t._container[this._atlasKey]=this;var i=e[n+"/"+a+".png"],l=e[n+"/"+a+".plist"],u=JSON.parse(e[n+"/"+a+".json"]);this.set(l,i,u);var s=new r.default(r.default.COMPLETE);s.currentTarget=this,s.target=this,this.dispatchEvent(s)}},{key:"set",value:function(e,t,n){this._texture=t,this._setting=n,this._initData(e)}},{key:"_initData",value:function(e){var t=new DOMParser;this.xmlDom=t.parseFromString(e,"text/xml");for(var n=this.xmlDom.querySelector("plist").querySelector("dict").children,a=void 0,o=0;o<n.length;o++){var i=n[o];if("key"===i.tagName&&"frames"===i.textContent){a=n[o+1].children;break}}this._textureData={};for(var r=0;r<a.length;r+=2){var l=a[r].textContent.replace(".png",""),u=a[r+1],s=this._getTextureData(u.children);this._textureData[l]=s}}},{key:"getSprite",value:function(e,t,n,a){var o=this._textureData[e],i=new l.default(this._texture,this._setting[e],o,t);return n&&a&&i.resize(n,a),i}},{key:"_getTextureData",value:function(e){for(var t={},n=0;n<e.length;n+=2){var a=e[n].textContent,o=e[n+1],i=JSON.parse("string"===o.tagName?o.textContent.replace(/\{/g,"[").replace(/\}/g,"]"):o.tagName);t[a]=i}return t}}]),t}();d.TYPE_PLIST="type_plist",d._container={},d.get=function(e){return d._container[e]||new d},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=d(n(15)),r=d(n(11)),l=n(0),u=d(n(2)),s=d(n(12));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.length=0,e.loopIndex=0,e.loopLength=1,e.playing=!1,e.oncomplete=null,e.onsoundcomplete=null,e.currentStart=0,s.default.Container.add(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"onload",value:function(){var e=this;if(e.data.readyState){e.length=e.data.duration-(r.default.android?.1:0);var t=new u.default(u.default.COMPLETE);return t.currentTarget=e,t.target=e.data,void e.dispatchEvent(t)}e.data.addEventListener("error",function(t){var n=new u.default(u.default.ERROR);n.currentTarget=e,n.target=t.target,n.responseURL=t.target.src,e.dispatchEvent(n)},!1),e.data.addEventListener("canplaythrough",function(){e.onload()},!1)}},{key:"_onended",value:function(){var e=this,t=void 0;e.dispatchEvent(u.default.SOUND_COMPLETE),++e.loopIndex<e.loopLength?(t=e.loopIndex,e.close(),e.play(e.currentStart,e.loopLength,e.currentTimeTo),e.loopIndex=t):e.close()}},{key:"load",value:function(e){var t=this;if("[object HTMLAudioElement]"===Object.prototype.toString.apply(e))return t.data=e,void t.onload();var n=void 0,a=void 0,o=void 0,i=void 0,r={mov:["quicktime"],"3gp":["3gpp"],midi:["midi"],mid:["midi"],ogv:["ogg"],m4a:["acc"],mp3:["mpeg"],wav:["wav","x-wav","wave"],wave:["wav","x-wav","wave"],aac:["mp4","aac"]};for(n=e.split(","),o=0;o<n.length;o++){if((i=r[i=(a=n[o].split("."))[a.length-1]]?r[i]:[i]).some(function(e,n,a){return t.data.canPlayType(t._type+"/"+e)}))return t.data.src=n[o],t.onload(),void t.data.load();console.warn("Not support "+a[a.length-1]+" : "+n[o]);var l=new u.default(u.default.COMPLETE);l.currentTarget=l.target=t,t.dispatchEvent(l)}t.oncomplete&&t.oncomplete({})}},{key:"getCurrentTime",value:function(){return this.data.currentTime}},{key:"setVolume",value:function(e){this.data.volume=e}},{key:"getVolume",value:function(){return this.data.volume}},{key:"play",value:function(e,t,n){var o=this;0!==o.length&&(r.default.android&&s.default.Container.stopOther(this),(void 0===e?"undefined":a(e))!==l.UNDEFINED&&(o.data.currentTime=e,o.currentStart=e),(void 0===t?"undefined":a(t))!==l.UNDEFINED&&(o.loopLength=t),(void 0===n?"undefined":a(n))!==l.UNDEFINED?o.currentTimeTo=n>o.length?o.length:n:o.currentTimeTo=o.length,o.timeout&&(clearTimeout(o.timeout),delete o.timeout),o.timeout=setTimeout(function(){o._onended()},1e3*(o.currentTimeTo-o.data.currentTime)),o.data.loop=!1,o.loopIndex=0,o.playing=!0,o.data.play())}},{key:"playSegment",value:function(e,t,n){this.playTo(e,e+t,n)}},{key:"playTo",value:function(e,t,n){this.play(e,n,t)}},{key:"stop",value:function(){var e=this;e.playing&&(e.timeout&&(clearTimeout(e.timeout),delete e.timeout),e.playing=!1,e.data.pause())}},{key:"close",value:function(){var e=this;e.playing&&(e.timeout&&(clearTimeout(e.timeout),delete e.timeout),e.playing=!1,e.data.pause(),e.data.currentTime=0,e.currentSave=0)}},{key:"ll_check",value:function(){var e=this;e.playing&&(e.data.duration!==e._ll_duration&&(e._ll_duration=e.data.duration,e.length=e.data.duration-(r.default.android?.1:0)),e.currentTimeTo<e.data.currentTime+.005*s.default.Container.time&&e._onended())}},{key:"die",value:function(){s.default.Container.remove(this)}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=d(n(4)),r=d(n(12)),l=d(n(2)),u=n(0),s=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.currentTime=0,n.currentStart=0,n.currentSave=0,n.length=0,n.loopStart=0,n.loopEnd=0,n.loopIndex=0,n.loopLength=1,n.playing=!1,n.volume=1,r.default.Container.add(n),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"getWebAudio",value:function(){var e=void 0;if(t.containerCount>0)e=t.container.shift();else if(("undefined"==typeof AudioContext?"undefined":a(AudioContext))!==u.UNDEFINED)try{e=new AudioContext}catch(n){t.containerCount=t.container.length,e=t.container.shift()}else{if(("undefined"==typeof webkitAudioContext?"undefined":a(webkitAudioContext))===u.UNDEFINED)throw"AudioContext not supported. :(";try{e=new webkitAudioContext}catch(n){t.containerCount=t.container.length,e=t.container.shift()}}return e.createGainNode||(e.createGainNode=e.createGain),t.container.push(e),e}},{key:"onload",value:function(e){var t=this;if("[object AudioBuffer]"===Object.prototype.toString.apply(e)){t.data||(t.data=t.getWebAudio()),t.buffer=e,t.length=t.buffer.duration;var n=new l.default(l.default.COMPLETE);n.currentTarget=t,n.target=t.buffer,t.dispatchEvent(n)}else t.load(e)}},{key:"_onended",value:function(){var e=this;e.dispatchEvent(l.default.SOUND_COMPLETE),e.close(),++e.loopIndex<e.loopLength&&e.play(e.currentStart,void 0,e.currentTimeTo)}},{key:"load",value:function(e){var n=this;if("string"==typeof e){var a=void 0,o=void 0,i=void 0,r=void 0,u={mov:["quicktime"],"3gp":["3gpp"],midi:["midi"],mid:["midi"],ogv:["ogg"],m4a:["acc"],mp3:["mpeg"],wav:["wav","x-wav","wave"],wave:["wav","x-wav","wave"],aac:["mp4","aac"]};for(a=e.split(","),i=0;i<a.length;i++){if((r=u[r=(o=a[i].split("."))[o.length-1]]?u[r]:[r]).some(function(e,a,o){return t.audioTag.canPlayType(n._type+"/"+e)}))return s.default.responseType=s.default.ARRAY_BUFFER,s.default.progress=function(e){var t=new l.default(l.default.PROGRESS);t.currentTarget=n,t.target=e.currentTarget,t.loaded=.5*e.loaded,t.total=e.total,t.responseURL=e.responseURL,n.dispatchEvent(t)},void s.default.get(a[i],{},n.onload.bind(n),function(e){var t=new l.default(l.default.ERROR);t.currentTarget=n,t.target=e,t.responseURL=e.responseURL,n.dispatchEvent(t)});console.warn("Not support "+o[o.length-1]+" : "+a[i]);var d=new l.default(l.default.COMPLETE);d.currentTarget=d.target=n,n.dispatchEvent(d)}}else"[object AudioBuffer]"===Object.prototype.toString.apply(e)?n.onload(e):"[object ArrayBuffer]"===Object.prototype.toString.apply(e)&&(n.data||(n.data=n.getWebAudio()),n.data.decodeAudioData(e,n.onload.bind(n),function(e){throw"AudioContext decodeAudioData error : "+e.toString()}))}},{key:"getCurrentTime",value:function(){var e=this;return e.playing?e.data.currentTime-e.currentSave+e.currentTime:e.currentSave}},{key:"setVolume",value:function(e){var t=this;t.volume=e,t.playing&&(t.volumeNode.gain.value=e)}},{key:"getVolume",value:function(){return this.volume}},{key:"play",value:function(e,t,n){var o=this;0!==o.length&&((void 0===t?"undefined":a(t))!==u.UNDEFINED&&(o.loopIndex=0,o.loopLength=t),(void 0===e?"undefined":a(e))!==u.UNDEFINED&&(o.currentTime=e,o.currentStart=e),(void 0===n?"undefined":a(n))!==u.UNDEFINED?o.currentTimeTo=n>o.length?o.length:n:o.currentTimeTo=o.length,o.data.loop=!1,o.playing=!0,o.timeout&&(clearTimeout(o.timeout),delete o.timeout),o.timeout=setTimeout(o._onended.bind(o),1e3*(o.currentTimeTo-o.currentTime)),o.bufferSource=o.data.createBufferSource(),o.bufferSource.buffer=o.buffer,o.volumeNode=o.data.createGainNode(),o.volumeNode.gain.setTargetAtTime=o.volumeNode.gain.setTargetAtTime||o.volumeNode.gain.setTargetValueAtTime||o._setTargetAtTime,o.volumeNode.gain.setValueAtTime(o.volume,o.currentTime,.5),o.volumeNode.connect(o.data.destination),o.bufferSource.connect(o.volumeNode),o.currentSave=o.data.currentTime,o.bufferSource.start?o.bufferSource.start(0,o.currentTime,o.length-o.currentTime):o.bufferSource.noteGrainOn(0,o.currentTime,o.length-o.currentTime))}},{key:"_setTargetAtTime",value:function(e,t,n){this.volumeNode.gain.value=e}},{key:"playSegment",value:function(e,t,n){this.playTo(e,e+t,n)}},{key:"playTo",value:function(e,t,n){this.play(e,n,t)}},{key:"stop",value:function(){var e=this;e.playing&&(e.timeout&&(clearTimeout(e.timeout),delete e.timeout),e.bufferSource.stop?e.bufferSource.stop(0):e.bufferSource.noteOff(0),e.currentSave=e.getCurrentTime(),e.currentTime=e.currentSave,e.playing=!1)}},{key:"close",value:function(){var e=this;e.playing&&(e.timeout&&(clearTimeout(e.timeout),delete e.timeout),e.bufferSource.stop?e.bufferSource.stop(0):e.bufferSource.noteOff(0),e.playing=!1,e.currentTime=0,e.currentSave=0)}},{key:"ll_check",value:function(){var e=this;e.playing&&e.currentTimeTo<e.data.currentTime-e.currentSave+.001*r.default.Container.time&&e._onended()}},{key:"die",value:function(){r.default.Container.remove(this)}}]),t}();f.container=[],f.containerCount=0;try{f.audioTag=new Audio}catch(e){console.warn("ReferenceError: Can't find variable: Audio"),f.audioTag={canPlayType:function(){return!1}}}t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=r(n(4)),i=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LFontLoader",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"load",value:function(e,t){var n=this,a=void 0,o=void 0,r=void 0,l=void 0,u=void 0,s=void 0,d="";(a=document.createElement("style")).onerror=function(t){var a=new i.default(i.default.ERROR);a.currentTarget=n,a.target=t.target,a.responseURL=e,n.dispatchEvent(a)},l=e.split(",");for(var f=0;f<l.length;f++)"ttf"===(s=(u=l[f].split("."))[u.length-1])?o=l[f]:"eot"===s&&(r=l[f]);d="@font-face { font-family:'"+t+"';",r&&(d+="src: url("+r+");"),o&&(d+="src: local('lufy'),url("+o+") format('opentype');"),a.innerHTML=d,document.querySelector("head").appendChild(a),setTimeout(function(){var e=new i.default(i.default.COMPLETE);e.currentTarget=n,e.target=n,n.dispatchEvent(e)},1)}}]),t}();l.TYPE_FONT="font",t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=u(n(4)),i=u(n(2)),r=n(7),l=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type="LURLLoader",e.loadtype="",e.content=null,e.event={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"load",value:function(e,n){var a=this,o=void 0,u=void 0;if(n||("txt"===(u=(0,r.getExtension)(e))?n=t.TYPE_TEXT:"js"===u&&(n=t.TYPE_JS)),a.loadtype=n,n===t.TYPE_TEXT)l.default.progress=function(e){var t=new i.default(i.default.PROGRESS);t.currentTarget=a,t.target=e.currentTarget,t.loaded=e.loaded,t.total=e.total,t.responseURL=e.responseURL,a.dispatchEvent(t)},l.default.get(e,{},function(e){o=new i.default(i.default.COMPLETE),a.data=e,o.currentTarget=a,o.target=e,a.dispatchEvent(o),delete a.content,delete a.data},function(e){var t=new i.default(i.default.ERROR);t.currentTarget=a,t.target=e,t.responseURL=e.responseURL,a.dispatchEvent(t)});else if(n===t.TYPE_JS){var s=document.createElement("script");s.onerror=function(t){var n=new i.default(i.default.ERROR);n.currentTarget=a,n.target=t.target,n.responseURL=e,a.dispatchEvent(n)},s.onload=function(){(o=new i.default(i.default.COMPLETE)).currentTarget=a,o.target=a,a.dispatchEvent(o),delete a.content},s.src=e,s.type="text/javascript",document.querySelector("head").appendChild(s)}}}]),t}();s.TYPE_TEXT="text",s.TYPE_JS="js",t.default=s},function(e,t,n){"use strict";function a(){throw"LStageScaleMode cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),a.EXACT_FIT="exactFit",a.SHOW_ALL="showAll",a.NO_BORDER="noBorder",a.NO_SCALE="noScale",t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=u(n(3)),r=u(n(1)),l=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return n.type="LGraphics",n.color="#000000",n.alpha=1,n.bitmap=null,n.setList=new Array,n.showList=new Array,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"ll_show",value:function(e){var t=void 0,n=this.setList.length;if(0!==n)for(t=0;t<n;t++)this.setList[t](e),r.default.LGlobal.fpsStatus&&r.default.LGlobal.fpsStatus.graphics++}},{key:"clone",value:function(){var e=this,n=new t,a=void 0,o=void 0,i=void 0;for(n.color=e.color,n.alpha=e.alpha,n.bitmap=e.bitmap,a=0,o=e.setList.length;a<o;a++)i=e.setList[a],n.setList.push(i);for(a=0,o=e.showList.length;a<o;a++)i=e.showList[a],n.showList.push(i);return n}},{key:"lineCap",value:function(e){this.setList.push(function(t){t.lineCap=e})}},{key:"lineJoin",value:function(e){this.setList.push(function(t){t.lineJoin=e})}},{key:"lineWidth",value:function(e){this.setList.push(function(t){t.lineWidth=e})}},{key:"strokeStyle",value:function(e){this.setList.push(function(t){t.strokeStyle=e})}},{key:"stroke",value:function(){this.setList.push(function(e){e.stroke()})}},{key:"beginPath",value:function(){this.setList.push(function(e){e.beginPath()})}},{key:"closePath",value:function(){this.setList.push(function(e){e.closePath()})}},{key:"moveTo",value:function(e,t){this.setList.push(function(n){n.moveTo(e,t)}),this.showList.push({type:r.default.LShape.POINT,arg:[e,t]})}},{key:"lineTo",value:function(e,t){this.setList.push(function(n){n.lineTo(e,t)}),this.showList.push({type:r.default.LShape.POINT,arg:[e,t]})}},{key:"rect",value:function(e,t,n,a){this.setList.push(function(o){o.rect(e,t,n,a)}),this.showList.push({type:r.default.LShape.RECT,arg:[e,t,n,a]})}},{key:"fillStyle",value:function(e){this.setList.push(function(t){t.fillStyle=e})}},{key:"fill",value:function(){this.setList.push(function(e){e.fill()})}},{key:"arc",value:function(e,t,n,a,o,i){this.setList.push(function(r){r.arc(e,t,n,a,o,i)}),this.showList.push({type:r.default.LShape.ARC,arg:a})}},{key:"lineStyle",value:function(e,t){var n=this;t||(t=n.color),n.color=t,n.setList.push(function(n){n.lineWidth=e,n.strokeStyle=t})}},{key:"clear",value:function(){var e=this;e.bitmap=null,e.setList.length=0,e.showList.length=0}},{key:"beginBitmapFill",value:function(e){var t=this;t.setList.push(function(){t.bitmap=e})}},{key:"drawEllipse",value:function(e,t,n,a,o){var i=this;i.setList.push(function(r){var l,u,s,d,f,c,h,p,v,y,b;if(r.beginPath(),f=.5522848,l=n[0],u=n[1],c=(s=n[2])/2*f,h=(d=n[3])/2*f,p=l+s,v=u+d,y=l+s/2,b=u+d/2,r.moveTo(l,b),r.bezierCurveTo(l,b-h,y-c,u,y,u),r.bezierCurveTo(y+c,u,p,b-h,p,b),r.bezierCurveTo(p,b+h,y+c,v,y,v),r.bezierCurveTo(y-c,v,l,b+h,l,b),i.bitmap)return r.save(),r.clip(),r.drawImage(i.bitmap.image,i.bitmap.x,i.bitmap.y,i.bitmap.width,i.bitmap.height,0,0,i.bitmap.width,i.bitmap.height),r.restore(),void(i.bitmap=null);a&&(r.fillStyle=o,r.fill()),e>0&&(r.lineWidth=e,r.strokeStyle=t,r.stroke())}),i.showList.push({type:r.default.LShape.RECT,arg:n})}},{key:"drawArc",value:function(e,t,n,a,o){var i=this;i.setList.push(function(r){if(r.beginPath(),n.length>6&&n[6]&&r.moveTo(n[0],n[1]),r.arc(n[0],n[1],n[2],n[3],n[4],n[5]),n.length>6&&n[6]&&r.lineTo(n[0],n[1]),i.bitmap)return r.save(),r.clip(),r.drawImage(i.bitmap.image,i.bitmap.x,i.bitmap.y,i.bitmap.width,i.bitmap.height,0,0,i.bitmap.width,i.bitmap.height),r.restore(),void(i.bitmap=null);a&&(r.fillStyle=o,r.fill()),e>0&&(r.lineWidth=e,r.strokeStyle=t,r.stroke())}),i.showList.push({type:r.default.LShape.ARC,arg:n})}},{key:"drawRect",value:function(e,t,n,a,o){var i=this;i.setList.push(function(r){if(r.beginPath(),r.rect(n[0],n[1],n[2],n[3]),r.closePath(),i.bitmap)return r.save(),r.clip(),r.drawImage(i.bitmap.image,i.bitmap.x,i.bitmap.y,i.bitmap.width,i.bitmap.height,0,0,i.bitmap.width,i.bitmap.height),r.restore(),void(i.bitmap=null);a&&(r.fillStyle=o,r.fill()),e>0&&(r.lineWidth=e,r.strokeStyle=t,r.stroke())}),i.showList.push({type:r.default.LShape.RECT,arg:n})}},{key:"drawRoundRect",value:function(e,t,n,a,o){var i=this;r.default.LGlobal.enableWebGL?i.drawRect(e,t,n,a,o):(i.setList.push(function(r){if(r.beginPath(),r.moveTo(n[0]+n[4],n[1]),r.lineTo(n[0]+n[2]-n[4],n[1]),r.arcTo(n[0]+n[2],n[1],n[0]+n[2],n[1]+n[4],n[4]),r.lineTo(n[0]+n[2],n[1]+n[3]-n[4]),r.arcTo(n[0]+n[2],n[1]+n[3],n[0]+n[2]-n[4],n[1]+n[3],n[4]),r.lineTo(n[0]+n[4],n[1]+n[3]),r.arcTo(n[0],n[1]+n[3],n[0],n[1]+n[3]-n[4],n[4]),r.lineTo(n[0],n[1]+n[4]),r.arcTo(n[0],n[1],n[0]+n[4],n[1],n[4]),r.closePath(),i.bitmap)return r.save(),r.clip(),r.drawImage(i.bitmap.image,0,0,i.bitmap.width,i.bitmap.height,0,0,i.bitmap.width,i.bitmap.height),r.restore(),void(i.bitmap=null);a&&(r.fillStyle=o,r.fill()),e>0&&(r.lineWidth=e,r.strokeStyle=t,r.stroke())}),i.showList.push({type:r.default.LShape.RECT,arg:n}))}},{key:"drawVertices",value:function(e,t,n,a,o){var i=this;n.length<3||(i.setList.push(function(r){r.beginPath(),r.moveTo(n[0][0],n[0][1]);var l=void 0,u=n.length,s=void 0;for(l=1;l<u;l++)s=n[l],r.lineTo(s[0],s[1]);if(r.lineTo(n[0][0],n[0][1]),r.closePath(),i.bitmap)return r.save(),r.clip(),r.drawImage(i.bitmap.image,i.bitmap.x,i.bitmap.y,i.bitmap.width,i.bitmap.height,0,0,i.bitmap.width,i.bitmap.height),r.restore(),void(i.bitmap=null);a&&(r.fillStyle=o,r.fill()),e>0&&(r.lineWidth=e,r.strokeStyle=t,r.closePath(),r.stroke())}),i.showList.push({type:r.default.LShape.VERTICES,arg:n}))}},{key:"drawTriangles",value:function(e,t,n,a,o){var i=this,r=void 0,l=void 0,u=void 0,s=t.length;i.setList.push(function(d){var f=e,c=void 0,h=void 0;for(r=0,l=0;r<s;r+=3){if(d.save(),d.beginPath(),d.moveTo(f[2*t[r]],f[2*t[r]+1]),d.lineTo(f[2*t[r+1]],f[2*t[r+1]+1]),d.lineTo(f[2*t[r+2]],f[2*t[r+2]+1]),d.lineTo(f[2*t[r]],f[2*t[r]+1]),d.closePath(),a&&(d.lineWidth=a,d.strokeStyle=o,d.stroke()),d.clip(),r%6==0){h=-1;var p=(n[2*t[r+1+l]]-n[2*t[r+l]])*i.bitmap.width,v=(n[2*t[r+2]+1]-n[2*t[r]+1])*i.bitmap.height;if(0===l&&p<0){for(c=r+9;c<s;c+=3)if(n[2*t[r+2]+1]===n[2*t[c+2]+1]){l=c-r;break}0===l&&(l=s-r),p=(n[2*t[r+1+l]]-n[2*t[r+l]])*i.bitmap.width}r+l>=s?(p=(n[2*t[r+l-s]]-n[2*t[r+1]])*i.bitmap.width,(h=1===n[2*t[r]]?0:i.bitmap.width*n[2*t[r]]+p)>i.bitmap.width&&(h-=i.bitmap.width)):h=i.bitmap.width*n[2*t[r+l]],u=i.bitmap.height*n[2*t[r]+1],v<0&&(v=(n[2*t[r+2-(r>0?6:-6)]+1]-n[2*t[r-(r>0?6:-6)]+1])*i.bitmap.height,u=0);var y=(f[2*t[r+1]]-f[2*t[r]])/p,b=(f[2*t[r+1]+1]-f[2*t[r]+1])/p,g=(f[2*t[r+2]]-f[2*t[r]])/v,_=(f[2*t[r+2]+1]-f[2*t[r]+1])/v;d.transform(y,b,g,_,f[2*t[r]],f[2*t[r]+1]),d.drawImage(i.bitmap.image,i.bitmap.x+h,i.bitmap.y+u,p,v,0,0,p,v)}else{var m=(n[2*t[r+2+l]]-n[2*t[r+1+l]])*i.bitmap.width,w=(n[2*t[r+2]+1]-n[2*t[r]+1])*i.bitmap.height;if(0===l&&m<0){for(c=r+9;c<s;c+=3)if(n[2*t[r+2]+1]===n[2*t[c+2]+1]){l=c-r;break}0===l&&(l=s-r),m=(n[2*t[r+2+l]]-n[2*t[r+1+l]])*i.bitmap.width}r+1+l>=s?(m=(n[2*t[r+1+l-s]]-n[2*t[r+2]])*i.bitmap.width,(h=1===n[2*t[r+1]]?0:i.bitmap.width*n[2*t[r+1]]+m)>i.bitmap.width&&(h-=i.bitmap.width)):h=i.bitmap.width*n[2*t[r+1+l]],u=i.bitmap.height*n[2*t[r]+1],w<0&&(w=(n[2*t[r+2-(r>0?6:-6)]+1]-n[2*t[r-(r>0?6:-6)]+1])*i.bitmap.height,u=0);var E=(f[2*t[r+2]]-f[2*t[r+1]])/m,x=(f[2*t[r+2]+1]-f[2*t[r+1]+1])/m,O=(f[2*t[r+2]]-f[2*t[r]])/w,L=(f[2*t[r+2]+1]-f[2*t[r]+1])/w;d.transform(E,x,O,L,f[2*t[r+1]],f[2*t[r+1]+1]),d.drawImage(i.bitmap.image,i.bitmap.x+h,i.bitmap.y+u,m,w,0,-w,m,w)}d.restore()}})}},{key:"drawLine",value:function(e,t,n){this.setList.push(function(a){a.beginPath(),a.moveTo(n[0],n[1]),a.lineTo(n[2],n[3]),a.lineWidth=e,a.strokeStyle=t,a.closePath(),a.stroke()}),this.showList.push({type:r.default.LShape.LINE,arg:n})}},{key:"add",value:function(e){this.setList.push(e)}},{key:"ismouseon",value:function(e,t){var n=this;return!(!e||0===n.showList.length||!n.parent)&&n.parent.ismouseonShapes(n.showList,e.offsetX,e.offsetY)}},{key:"getWidth",value:function(){var e,t=this,n=void 0,o=void 0,i=void 0,u=void 0,s=void 0,d=void 0;for(n=0,e=t.showList.length;n<e;n++)if(t.showList[n].type===r.default.LShape.RECT)(i>t.showList[n].arg[0]||(void 0===i?"undefined":a(i))===l.UNDEFINED)&&(i=t.showList[n].arg[0]),(u<t.showList[n].arg[0]+t.showList[n].arg[2]||(void 0===u?"undefined":a(u))===l.UNDEFINED)&&(u=t.showList[n].arg[0]+t.showList[n].arg[2]);else if(t.showList[n].type===r.default.LShape.ARC)(i>t.showList[n].arg[0]-t.showList[n].arg[2]||(void 0===i?"undefined":a(i))===l.UNDEFINED)&&(i=t.showList[n].arg[0]-t.showList[n].arg[2]),(u<t.showList[n].arg[0]+t.showList[n].arg[2]||(void 0===u?"undefined":a(u))===l.UNDEFINED)&&(u=t.showList[n].arg[0]+t.showList[n].arg[2]);else if(t.showList[n].type===r.default.LShape.VERTICES)for(o=0,d=t.showList[n].arg.length;o<d;o++)(i>(s=t.showList[n].arg[o])[0]||(void 0===i?"undefined":a(i))===l.UNDEFINED)&&(i=s[0]),(u<s[0]||(void 0===u?"undefined":a(u))===l.UNDEFINED)&&(u=s[0]);else t.showList[n].type===r.default.LShape.LINE?((i>t.showList[n].arg[0]||(void 0===i?"undefined":a(i))===l.UNDEFINED)&&(i=t.showList[n].arg[0]),(i>t.showList[n].arg[2]||(void 0===i?"undefined":a(i))===l.UNDEFINED)&&(i=t.showList[n].arg[2]),(u<t.showList[n].arg[0]||(void 0===u?"undefined":a(u))===l.UNDEFINED)&&(u=t.showList[n].arg[0]),(u<t.showList[n].arg[2]||(void 0===u?"undefined":a(u))===l.UNDEFINED)&&(u=t.showList[n].arg[2])):t.showList[n].type===r.default.LShape.POINT&&((i>t.showList[n].arg[0]||(void 0===i?"undefined":a(i))===l.UNDEFINED)&&(i=t.showList[n].arg[0]),(u<t.showList[n].arg[0]||(void 0===u?"undefined":a(u))===l.UNDEFINED)&&(u=t.showList[n].arg[0]));return(void 0===i?"undefined":a(i))===l.UNDEFINED&&(i=u=0),t.left=i,e>0&&u===i&&(u=i+1),u-i}},{key:"getHeight",value:function(){var e,t=this,n=null,o=null,i=void 0,u=void 0,s=void 0,d=void 0;for(n=0,e=t.showList.length;n<e;n++)if(t.showList[n].type===r.default.LShape.RECT)(u>t.showList[n].arg[1]||(void 0===u?"undefined":a(u))===l.UNDEFINED)&&(u=t.showList[n].arg[1]),(s<t.showList[n].arg[1]+t.showList[n].arg[3]||(void 0===s?"undefined":a(s))===l.UNDEFINED)&&(s=t.showList[n].arg[1]+t.showList[n].arg[3]);else if(t.showList[n].type===r.default.LShape.ARC)(u>t.showList[n].arg[1]-t.showList[n].arg[2]||(void 0===u?"undefined":a(u))===l.UNDEFINED)&&(u=t.showList[n].arg[1]-t.showList[n].arg[2]),(s<t.showList[n].arg[1]+t.showList[n].arg[2]||(void 0===s?"undefined":a(s))===l.UNDEFINED)&&(s=t.showList[n].arg[1]+t.showList[n].arg[2]);else if(t.showList[n].type===r.default.LShape.VERTICES)for(o=0,i=t.showList[n].arg.length;o<i;o++)(u>(d=t.showList[n].arg[o])[1]||(void 0===u?"undefined":a(u))===l.UNDEFINED)&&(u=d[1]),(s<d[1]||(void 0===s?"undefined":a(s))===l.UNDEFINED)&&(s=d[1]);else t.showList[n].type===r.default.LShape.LINE?((u>t.showList[n].arg[1]||(void 0===u?"undefined":a(u))===l.UNDEFINED)&&(u=t.showList[n].arg[1]),(u>t.showList[n].arg[3]||(void 0===u?"undefined":a(u))===l.UNDEFINED)&&(u=t.showList[n].arg[3]),(s<t.showList[n].arg[1]||(void 0===s?"undefined":a(s))===l.UNDEFINED)&&(s=t.showList[n].arg[1]),(s<t.showList[n].arg[3]||(void 0===s?"undefined":a(s))===l.UNDEFINED)&&(s=t.showList[n].arg[3])):t.showList[n].type===r.default.LShape.POINT&&((u>t.showList[n].arg[1]||(void 0===u?"undefined":a(u))===l.UNDEFINED)&&(u=t.showList[n].arg[1]),(s<t.showList[n].arg[1]||(void 0===s?"undefined":a(s))===l.UNDEFINED)&&(s=t.showList[n].arg[1]));return(void 0===u?"undefined":a(u))===l.UNDEFINED&&(u=s=0),t.top=u,e>0&&s===u&&(s=u+1),s-u}},{key:"startX",value:function(){return this.getWidth(),this.left}},{key:"startY",value:function(){return this.getHeight(),this.top}}]),t}();r.default.LGraphics=s,t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(3),l=(a=r)&&a.__esModule?a:{default:a},u=n(0);var s=function(e){function t(e,n,a,i,r,l,s,d,f){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return c.a=(void 0===e?"undefined":o(e))!==u.UNDEFINED?e:1,c.b=(void 0===n?"undefined":o(n))!==u.UNDEFINED?n:0,c.u=(void 0===s?"undefined":o(s))!==u.UNDEFINED?s:0,c.c=(void 0===a?"undefined":o(a))!==u.UNDEFINED?a:0,c.d=(void 0===i?"undefined":o(i))!==u.UNDEFINED?i:1,c.v=(void 0===d?"undefined":o(d))!==u.UNDEFINED?d:0,c.tx=(void 0===r?"undefined":o(r))!==u.UNDEFINED?r:0,c.ty=(void 0===l?"undefined":o(l))!==u.UNDEFINED?l:0,c.w=(void 0===f?"undefined":o(f))!==u.UNDEFINED?f:1,c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),i(t,[{key:"setTo",value:function(e,t,n,a,i,r,l,s,d){var f=this;return(void 0===e?"undefined":o(e))!==u.UNDEFINED&&(f.a=e),(void 0===t?"undefined":o(t))!==u.UNDEFINED&&(f.b=t),(void 0===n?"undefined":o(n))!==u.UNDEFINED&&(f.c=n),(void 0===a?"undefined":o(a))!==u.UNDEFINED&&(f.d=a),(void 0===i?"undefined":o(i))!==u.UNDEFINED&&(f.tx=i),(void 0===r?"undefined":o(r))!==u.UNDEFINED&&(f.ty=r),(void 0===l?"undefined":o(l))!==u.UNDEFINED&&(f.u=l),(void 0===s?"undefined":o(s))!==u.UNDEFINED&&(f.v=s),(void 0===d?"undefined":o(d))!==u.UNDEFINED&&(f.w=d),f}},{key:"isIdentity",value:function(){var e=this;return 1===e.a&&0===e.b&&0===e.c&&1===e.d&&0===e.tx&&0===e.ty&&0===e.u&&0===e.v&&1===e.w}},{key:"transform",value:function(e){var t=this;return e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty),t}},{key:"identity",value:function(){this.setTo(1,0,0,1,0,0,0,0,1)}},{key:"rotate",value:function(e){var n=e*Math.PI/180,a=Math.cos(n),o=Math.sin(n),i=new t(a,o,-o,a,0,0,0,0,1);return this.add(i),this}},{key:"scale",value:function(e,n){var a=new t(e,0,0,n,0,0,0,0,1);return this.add(a),this}},{key:"translate",value:function(e,n){var a=new t(1,0,0,1,e,n,0,0,1);return this.add(a),this}},{key:"skew",value:function(e,n){var a=new t(1,n,e,1,0,0,0,0,1);return this.add(a),this}},{key:"add",value:function(e){var t,n,a,o,i,r,l,u,s,d=this;t=d.a*e.a+d.b*e.c+d.u*e.tx,n=d.a*e.b+d.b*e.d+d.u*e.ty,l=d.a*e.u+d.b*e.v+d.u*e.w,a=d.c*e.a+d.d*e.c+d.v*e.tx,o=d.c*e.b+d.d*e.d+d.v*e.ty,u=d.c*e.u+d.d*e.v+d.v*e.w,i=d.tx*e.a+d.ty*e.c+d.w*e.tx,r=d.tx*e.b+d.ty*e.d+d.w*e.ty,s=d.tx*e.u+d.ty*e.v+d.w*e.w,d.setTo(t,n,a,o,i,r,l,u,s)}},{key:"toArray",value:function(e){var t=this;if(Array.isArray(e)&&3===e.length)return[e[0]*t.a+e[1]*t.c+e[2]*t.tx,e[0]*t.b+e[1]*t.d+e[2]*t.ty,e[0]*t.u+e[1]*t.v+e[2]*t.w];var n=t.a*e.a+t.b*e.c+t.u*e.tx,a=t.a*e.b+t.b*e.d+t.u*e.ty,o=t.a*e.u+t.b*e.v+t.u*e.w,i=t.c*e.a+t.d*e.c+t.v*e.tx,r=t.c*e.b+t.d*e.d+t.v*e.ty,l=t.c*e.u+t.d*e.v+t.v*e.w;return[n,a,i,r,t.tx*e.a+t.ty*e.c+t.w*e.tx,t.tx*e.b+t.ty*e.d+t.w*e.ty,o,l,t.tx*e.u+t.ty*e.v+t.w*e.w]}},{key:"clone",value:function(){var e=this;return new t(e.a,e.b,e.c,e.d,e.tx,e.ty,e.u,e.v,e.w)}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(3),i=(a=o)&&a.__esModule?a:{default:a};var r=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.matrix=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),t}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=r(n(16)),i=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.childList=[],e.numChildren=0,e.mouseChildren=!0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"addChild",value:function(e){var t=this,n=void 0;return e.parent&&(n=i.default.LGlobal.destroy,i.default.LGlobal.destroy=!1,e.parent.removeChild(e),i.default.LGlobal.destroy=n),e.parent=t,t.childList.push(e),t.numChildren=t.childList.length,e._ll_removeFromSelf=!1,e}},{key:"addChildAt",value:function(e,t){var n=this,a=void 0;if(!(t<0||t>n.childList.length))return"function"==typeof e.remove&&(a=i.default.LGlobal.destroy,i.default.LGlobal.destroy=!1,e.remove(),i.default.LGlobal.destroy=a),e.parent=n,n.childList.splice(t,0,e),n.numChildren=n.childList.length,e._ll_removeFromSelf=!1,e}},{key:"removeChild",value:function(e){var n,a=this,o=a.childList,r=void 0;for(r=0,n=o.length;r<n;r++)if(e.objectIndex===o[r].objectIndex){t.destroy(e),a.childList.splice(r,1);break}a.numChildren=a.childList.length,delete e.parent,i.default.LTweenLite.removeTarget(e)}},{key:"getChildAt",value:function(e){var t=this.childList;return 0===t.length||t.length<=e?null:t[e]}},{key:"getChildByName",value:function(e){var t,n=this.childList,a=void 0;for(a=0,t=n.length;a<t;a++)if(n[a]&&n[a].name===e)return n[a];return null}},{key:"removeChildAt",value:function(e){var n=this,a=n.childList,o=void 0;if(!(a.length<=e||e<0))return o=a[e],t.destroy(o),n.childList.splice(e,1),delete o.parent,i.default.LTweenLite.removeTarget(o),n.numChildren=n.childList.length,o}},{key:"getChildIndex",value:function(e){if(!e)return-1;var t=this.childList,n=void 0,a=t.length;for(n=0;n<a;n++)if(t[n].objectIndex===e.objectIndex)return n;return-1}},{key:"setChildIndex",value:function(e,t){var n=this,a=n.childList,o=void 0,i=a.length;if("root"===e.parent||e.parent.objectIndex!==n.objectIndex||t<0||t>=i)return-1;for(o=0;o<i&&a[o].objectIndex!==e.objectIndex;o++);return n.childList.splice(o,1),n.childList.splice(t,0,e),t}},{key:"resize",value:function(){var e=this;e.width=e.getWidth(),e.height=e.getHeight()}},{key:"removeAllChild",value:function(){var e,n=this,a=n.childList,o=void 0;for(o=0,e=a.length;o<e;o++){var r=a[o];t.destroy(r),delete r.parent,i.default.LTweenLite.removeTarget(r)}n.childList.length=0,n.width=0,n.height=0,n.numChildren=0}}]),t}();l.destroy=function(e){i.default.LGlobal.destroy&&(e.die&&e.die(),e.removeAllChild&&e.removeAllChild())},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t||0,this.y=n||0}return a(e,[{key:"length",value:function(){var e=this;return Math.sqrt(e.x*e.x+e.y*e.y)}},{key:"normalize",value:function(){var t=this,n=t.length();return new e(t.x/n,t.y/n)}},{key:"normR",value:function(){return new e(-this.y,this.x)}},{key:"normL",value:function(){return new e(this.y,-this.x)}}]),e}();o.dot=function(e,t){return e.x*t.x+e.y*t.y},o.cross=function(e,t){return e.x*t.y-e.y*t.x},o.distance=function(e,t){var n=e.x-t.x,a=e.y-t.y;return Math.sqrt(n*n+a*a)},o.getMinMax=function(e,t){for(var n=o.dot(e[0],t),a=o.dot(e[0],t),i=0,r=0,l=1;l<e.length;l++){var u=o.dot(e[l],t);n>u&&(n=u,i=l),a<u&&(a=u,r=l)}return{min_o:n,min_i:i,max_o:a,max_i:r}},t.default=o},function(e,t,n){"use strict";function a(){throw"LMultitouchInputMode cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),a.NONE="none",a.GESTURE="gesture",a.TOUCH_POINT="touchPoint",t.default=a},function(e,t,n){"use strict";function a(){throw"LMultitouch cannot be instantiated"}Object.defineProperty(t,"__esModule",{value:!0}),a.inputMode="none",a.touchs=[],t.default=a},function(e,t,n){"use strict";var a=s(n(11)),o=n(7),i=s(n(40)),r=s(n(22)),l=s(n(21)),u=n(31);s(n(20)),s(n(10)),s(n(9)),s(n(5)),s(n(6)),s(n(14)),s(n(8)),s(n(25)),s(n(18));function s(e){return e&&e.__esModule?e:{default:e}}a.default.width=640,a.default.height=a.default.width*window.innerHeight/window.innerWidth;var d=[{name:"bird",path:"./resources/images/bird.png"}];(0,o.LInit)(50,"legend",a.default.width,a.default.height,function(){a.default.align=r.default.TOP_LEFT,a.default.stageScale=i.default.SHOW_ALL,a.default.screen(a.default.FULL_SCREEN),l.default.load(d,function(e){},function(e){a.default.setDebug(!0),u.common.datalist=e,(0,u.gameInit)()})})}]);